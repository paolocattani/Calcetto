(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[7],{271:function(e,a,t){"use strict";t.d(a,"e",(function(){return r})),t.d(a,"b",(function(){return l})),t.d(a,"d",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"c",(function(){return i}));var n=t(127);function r(e){switch(e){case n.a.New:return"Nuovo";case n.a.PairsSelection:return"Selezione Coppie";case n.a.Stage1:return"Fase 1";case n.a.Stage2:return"Fase 2";default:return""}}function l(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("/")}new RegExp("^d{10}$");var c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),o=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$");function i(e,a){return Math.log(a)/Math.log(e)}},274:function(e,a,t){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}},280:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(128),c=t(37),o=t(166),i=t(131),s=t(263),u=t(271);a.a=function(){var e=Object(c.c)(l.f.getTournament);return r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement("h2",{className:"float-left"},r.a.createElement(s.a,{variant:"info"},r.a.createElement("span",null,"Torneo "),r.a.createElement("strong",null,'"',e.name.toUpperCase(),'"'),r.a.createElement("span",null,r.a.createElement("i",null," - ".concat(Object(u.b)(e.date)," "),r.a.createElement("small",null," @ ",Object(u.e)(e.progress))))))))}},302:function(e,a,t){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}},363:function(e,a,t){"use strict";var n=t(6),r=t(2),l=t(10),c=t.n(l),o=t(0),i=t.n(o),s=t(30),u=t(13),m=Object(s.a)("input-group-append"),p=Object(s.a)("input-group-prepend"),d=Object(s.a)("input-group-text",{Component:"span"}),f=i.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.size,o=e.className,s=e.as,m=void 0===s?"div":s,p=Object(n.a)(e,["bsPrefix","size","className","as"]);return t=Object(u.a)(t,"input-group"),i.a.createElement(m,Object(r.a)({ref:a},p,{className:c()(o,t,l&&t+"-"+l)}))}));f.displayName="InputGroup";var b=Object(r.a)({},f,{Text:d,Radio:function(e){return i.a.createElement(d,null,i.a.createElement("input",Object(r.a)({type:"radio"},e)))},Checkbox:function(e){return i.a.createElement(d,null,i.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},Append:m,Prepend:p});a.a=b},372:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(5),l=t.n(r),c=t(20),o=t(125),i=t(0),s=t.n(i),u=t(21),m=t(37),p=t(11),d=t(302),f=t.n(d),b=t(271),g=t(363),E=t(275),v=t(96),O=t(126),j=function(e){var a,t,n,r=e.onClick,l=e.name,c=e.isWinner,o=e.span,i=e.rowIndex,u=e.colIndex,m=e.pair,p=e.buttonDisabled,d=e.isLast,b=e.renderCustomComponent;return n=d?s.a.createElement(O.m,{size:"lg",color:"gold"}):c?s.a.createElement(O.c,{size:"lg",color:"green"}):s.a.createElement(O.a,{size:"1x",color:"red"}),s.a.createElement("td",{rowSpan:o,className:i%2===0?[f.a.cell,f.a.borderBottom].join(" "):f.a.cell},s.a.createElement(g.a,{className:f.a.container},s.a.createElement(g.a.Prepend,{className:f.a.prepend},s.a.createElement(g.a.Text,null,i)),b?b(i,u,d,m):s.a.createElement(E.a,{placeholder:"Username"+u,value:m?"".concat(null===(a=m.player1)||void 0===a?void 0:a.name," - ").concat(null===(t=m.player2)||void 0===t?void 0:t.name):l,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),s.a.createElement(g.a.Append,null,s.a.createElement(v.a,{disabled:p,className:f.a.append,onClick:function(e){return r(e,i,u,!c)}},n))))},h=t(283),_=t(290),w=s.a.forwardRef((function(e,a){var t=e.getOptionLabel,n=e.styles,r=e.rowIndex,l=e.options,c=e.onChange,u=e.defaultValue,m=Object(i.useState)(),p=Object(o.a)(m,2),d=p[0],f=p[1];return s.a.createElement(h.a,{defaultValue:u,components:_.z,styles:n,options:l,onChange:function(e,a){f(e),c&&c(e,r,a)},getOptionLabel:t,value:d,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),C=function(e){var a=e.onClick,t=e.elements,n=e.pairsSelect,r=e.rowNumber,l=void 0===r?64:r,c=e.onSelectPair,o=Object(b.c)(2,l)+1,i=function(e,a,t,n,r,l){for(var c=[],o=new Array(t).fill(0),i=function(e){for(var a=[NaN,Object(b.c)(2,e)+1],t=1,n=1;n<=e;n++)if(!a[n]){a[n]=t;for(var r=Math.pow(2,t),l=1;n+r*l<e+1;l++)a[n+r*l]=t;t++}return a}(a),u=function(e,a,t,n){var c={container:function(e){return Object(p.a)(Object(p.a)({},e),{},{flex:"1 1 auto"})},option:function(e){return Object(p.a)(Object(p.a)({},e),{},{zIndex:6})},menuList:function(e){return Object(p.a)(Object(p.a)({},e),{},{flex:"1 1 auto",zIndex:5,height:"auto"})}};return console.log("Render stage2 select :",e,a,t,n),s.a.createElement(w,{styles:c,defaultValue:n,options:r,rowIndex:e,onChange:l,getOptionLabel:function(e){var a,t;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(a=e.player1)||void 0===a?void 0:a.name," - ").concat(null===(t=e.player2)||void 0===t?void 0:t.name," ")):"-"}})},m=1;m<=a;m++){for(var d=[],g=0;g<i[m];g++){o[g]+=1;var E=e[g]?e[g][o[g]-1]:{name:"",isWinner:!1,matchId:0,cellRowIndex:0,cellColIndex:0,parentId:0};d.push(s.a.createElement(j,Object.assign({renderCustomComponent:0===g?u:void 0,key:"cell : ".concat(g,"-").concat(o[g]-1),span:Math.pow(2,g),rowIndex:o[g],colIndex:g+1,onClick:n,buttonDisabled:y(o[g],g,e),isLast:1===e[g].length},E)))}c.push(s.a.createElement("tr",{key:"row : ".concat(m),className:f.a.row},d))}return c}(t,l,o,a,n,c),u=function(e){for(var a=[],t=1;t<=e;t++)a.push(s.a.createElement("td",{key:"header ".concat(t),className:f.a.headerCell,style:{width:"".concat(100/e,"%")}},s.a.createElement("strong",null,"Stage-".concat(t))));return a}(o);return s.a.createElement("table",{className:f.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,u)),s.a.createElement("tbody",{className:f.a.body},i))};var y=function(e,a,t){return 1===t[a].length||(e%2!==0?!t[a][e-1].pair||t[a][e]&&!t[a][e].pair:!t[a][e-1].pair||t[a][e-2]&&!t[a][e-2].pair)},x=t(131),N=t(166),z=t(274),k=t.n(z),I=t(128),S=t(12),A=t(130),L=t(280),R=t(98);a.default=Object(u.i)((function(){var e=Object(u.g)(),a=Object(m.b)(),t=Object(m.c)(I.e.getCells),r=Object(m.c)(I.e.getRowsNumber),p=Object(m.c)(I.e.isLoading),d=Object(m.c)(I.f.getTournament),f=Object(i.useState)(),b=Object(o.a)(f,2),g=b[0],E=b[1];Object(i.useEffect)((function(){Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(S.f.setLoading(!0)),e.next=3,Object(R.b)(d.id);case 3:t=e.sent,E(t.pairs),a(S.f.setLoading(!1));case 6:case"end":return e.stop()}}),e)})))()}),[d.id]);return t&&g&&r?s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{className:k.a.toolsBarContainer},s.a.createElement(N.a,{className:k.a.toolsBarRow},s.a.createElement(x.a,null,s.a.createElement(v.a,{variant:"secondary",className:"float-left",onClick:function(){e.push("/stage1")}},s.a.createElement(O.e,null)," Indietro")))),s.a.createElement(L.a,null),s.a.createElement(C,{pairsSelect:g,onClick:function(e,r,l,c){var o=Object(n.a)(t),i=null,s=null,u=null;r%2!==0?(i=o[l-1][r-1],s=o[l-1][r]):(i=o[l-1][r-1],s=o[l-1][r-2]),u=o[l][i.matchId-1],console.log(" onClick : ",i,s,u),i.isWinner=c,s.isWinner=!c,u&&(u.pair=c?i.pair:s.pair),a(S.f.updateCell.request({cell1:i,cell2:s})),a(S.f.setCells(o)),1===o[l].length&&a(S.f.updateCell.request({cell1:u,cell2:null}))},rowNumber:r,elements:t,onSelectPair:function(e,r,l){if(g){var c=Object(n.a)(t),o=e,i=c[0][r-1].pair,s=Object(n.a)(g);o&&o.id&&(s=s.filter((function(e){return e.id!==o.id}))),i&&i.id&&(s=[].concat(Object(n.a)(s),[i])),E(s),c[0][r-1].pair=o,a(S.f.setCells(c)),a(S.f.updateCell.request({cell1:c[0][r-1],cell2:null}))}}})):s.a.createElement(A.LoadingModal,{show:p})}))}}]);
//# sourceMappingURL=7.6108d40c.chunk.js.map