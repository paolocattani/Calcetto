(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[15],{366:function(e,a,t){"use strict";t.r(a);var r=t(5),n=t.n(r),l=t(20),o=t(125),s=t(0),c=t.n(s),i=t(21),u=t(254),m=t(291),d=t(166),p=t(131),E=t(96),f=t(53),b=t(253),h=t(276),g=t(126),w=t(128),v=t(37),y=t(12);a.default=function(e){var a=e.show,t=e.onHide,r=Object(v.b)(),O=Object(i.g)(),j=Object(v.c)(w.c.getSession),k=Object(s.useState)(""),C=Object(o.a)(k,2),S=C[0],z=C[1],x=Object(h.a)(""),N=x.value,L=x.bind,D=function(e){z(e),setTimeout((function(){return z("")}),3e3)},T=function(){var e=Object(l.a)(n.a.mark((function e(a,l,o){var s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("/api/v1/auth/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,username:o,password:N})});case 4:return s=e.sent,e.next=7,s.json();case 7:c=e.sent,s.ok&&c?(r(y.d.updateSession({})),t(),O.push("/")):401===s.status?D("Utente o Password errata"):D("Errore durante il processo di registrazione. Riprovare piu tardi"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("onSubmitLogin : ",e.t0),D("Errore durante il processo di registrazione. Riprovare piu tardi");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t,r){return e.apply(this,arguments)}}(),A=S?c.a.createElement(u.a,{key:"auth-alert",variant:"danger"},S," "):null,G=c.a.createElement(m.a,{onSubmit:function(e){return T(e,j.user.email,j.user.username)}},c.a.createElement(m.a.Group,{as:d.a,controlId:"emailDelete"},c.a.createElement(m.a.Label,{column:!0,sm:"2"},"Email"),c.a.createElement(p.a,{sm:"10"},c.a.createElement(m.a.Control,{style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white",plaintext:!0,readOnly:!0,defaultValue:j.user.email}))),c.a.createElement(m.a.Group,{as:d.a,controlId:"usernameDelete"},c.a.createElement(m.a.Label,{column:!0,sm:"2"},"Username"),c.a.createElement(p.a,{sm:"10"},c.a.createElement(m.a.Control,{style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white",plaintext:!0,readOnly:!0,defaultValue:j.user.username}))),c.a.createElement(m.a.Group,{as:d.a,controlId:"password"},c.a.createElement(m.a.Label,{column:!0,sm:"2"},"Password"),c.a.createElement(p.a,{sm:"10"},c.a.createElement(m.a.Control,Object.assign({type:"password",placeholder:"Password"},L)))),c.a.createElement(E.a,{size:"lg",className:"float-left",onClick:t,variant:"outline-success",type:"button"},"Annulla"),c.a.createElement(E.a,{size:"lg",className:"float-right",variant:"outline-danger",type:"submit"},c.a.createElement(g.l,null)," Conferma"));return c.a.createElement(f.a,{show:a,onHide:t,size:"lg",centered:!0},c.a.createElement(f.a.Header,{style:{backgroundColor:"#343A40",color:"white"},closeButton:!0},c.a.createElement(f.a.Title,{className:"default-color-red"},"Elimina Utente")),c.a.createElement(f.a.Body,{style:{backgroundColor:"#343A40",color:"white"}},c.a.createElement(b.a,{fluid:!0},A,G)))}}}]);
//# sourceMappingURL=15.57ba1208.chunk.js.map