(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[16],{226:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return m}));var a=n(0),r=n.n(a),o=n(231),c=n(99),i=function(e){var t=e.size;return r.a.createElement(o.a,{size:t||void 0,icon:Object(c.a)({prefix:"far",iconName:"trash-alt"})})},u=function(e){var t=e.size;return r.a.createElement(o.a,{size:t||void 0,icon:Object(c.a)({prefix:"far",iconName:"save"})})},l=function(e){var t=e.size;return r.a.createElement(o.a,{size:t||void 0,icon:Object(c.a)({prefix:"fas",iconName:"toggle-on"})})},s=function(e){var t=e.size;return r.a.createElement(o.a,{size:t||void 0,icon:Object(c.a)({prefix:"fas",iconName:"toggle-off"})})},m=function(e){var t=e.size;return r.a.createElement(o.a,{size:t||void 0,icon:Object(c.a)({prefix:"far",iconName:"arrow-alt-circle-right"})})}},229:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u}));var a=n(230),r=function(){return c(new Date)};function o(e){switch(e){case a.a.New:return"Nuovo";case a.a.PairsSelection:return"Selezione Coppie";case a.a.Stage1:return"Fase 1";case a.a.Stage2:return"Fase 2";default:return""}}function c(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[r,n,a].join("/")}new RegExp("^d{10}$");var i=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),u=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={New:"New",PairsSelection:"PairsSelection",Stage1:"Stage1",Stage2:"Stage2"}},365:function(e,t,n){"use strict";n.r(t);var a=n(53),r=n(47),o=n.n(r),c=n(61),i=n(34),u=n(0),l=n.n(u),s=n(242),m=n(222),f=n(269),d=n(250),g=n(118),p=n(15),b=n(229),h=n(36),E=n(62),v=n(226),j=n(220);function w(e,t){return{id:null,name:e||"",ownerId:null,date:new Date,progress:t||"New",public:!0,label:e||""}}var O=function(e){var t=e.innerProps;return l.a.createElement("span",Object.assign({style:S},t))},S={alignSelf:"stretch",backgroundColor:"green",marginBottom:8,marginTop:8,marginRigth:10,width:1},z={width:"100%",margin:"auto",backgroundColor:"inherit",borderColor:"#ffc107",borderWidth:"3px",textAlign:"left"},y=n(82),C=n.n(y),x=n(230),N=function(e){var t=e.showMessage,n=Object(p.g)(),a=Object(u.useState)(""),r=Object(i.a)(a,2),s=r[0],f=r[1],b=Object(u.useState)(new Date),h=Object(i.a)(b,2),E=h[0],v=h[1],j=Object(u.useState)(!0),O=Object(i.a)(j,2),S=O[0],z=O[1],y=function(){var e=Object(c.a)(o.a.mark((function e(a){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s){e.next=4;break}return t("Inserire un nome per il torneo","danger"),e.abrupt("return");case 4:return(r=w(s,x.a.PairsSelection)).date=E,r.public=S,e.next=9,fetch("/api/v1/tournament",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 9:return c=e.sent,e.next=12,c.json();case 12:i=e.sent,c.ok?n.push("/tournament/".concat(i.id)):401===c.status?t("Non sei autorizzato","danger"):i.message?t(i.message,"danger"):t("Errore interno. Riprovare piu tardi...","danger");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(d.a,{onSubmit:y},l.a.createElement(d.a.Row,null,l.a.createElement(m.a,{md:6},l.a.createElement(d.a.Group,{controlId:"formBasicEmail"},l.a.createElement(d.a.Label,null,"Nome"),l.a.createElement(d.a.Control,{type:"text",required:!0,placeholder:"Nome Torneo",maxLength:30,value:s,onChange:function(e){return f(e.currentTarget.value)}}))),l.a.createElement(m.a,{md:3},l.a.createElement(d.a.Group,null,l.a.createElement(d.a.Label,null,"Data"),l.a.createElement(d.a.Control,{as:function(){return l.a.createElement(C.a,{highlightDates:[new Date],locale:"it",selected:E,dateFormat:"dd/MM/yyyy",onChange:function(e){return v(e||new Date)}})}}))),l.a.createElement(m.a,{md:3},l.a.createElement(d.a.Group,{controlId:"visible"},l.a.createElement(d.a.Label,null,"Visibilit\xe0 "),l.a.createElement(d.a.Control,{as:"select",onChange:function(){return z(!S)}},l.a.createElement("option",null,"Pubblico"),l.a.createElement("option",null,"Privato"))))),l.a.createElement(d.a.Row,null,l.a.createElement(m.a,null,l.a.createElement(g.a,{type:"submit",size:"lg",variant:"outline-warning",className:"float-right default-color-white"},l.a.createElement("span",{style:{fontSize:"larger",fontWeight:"bolder"}},"Prosegui")))))},k=(t.default=function(){var e=Object(u.useState)(Object(b.c)()),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(u.useState)([]),w=Object(i.a)(r,2),S=w[0],y=w[1],C=Object(u.useState)(!1),x=Object(i.a)(C,2),T=x[0],P=x[1],A={message:"",type:"success"},Z=Object(u.useState)(A),F=Object(i.a)(Z,2),R=F[0],G=F[1],I=Object(p.g)();Object(u.useEffect)((function(){return e=y,t=a,void Object(c.a)(o.a.mark((function n(){var a,r,c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/v1/tournament/list",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=n.sent,n.next=5,a.json();case 5:r=n.sent,c=r.find((function(e){return e.name===Object(b.c)()})),(i=c?[c].concat(Object(j.a)(r)):r).sort(),e(i),t&&t(i[0]);case 11:case"end":return n.stop()}}),n)})))();var e,t}),[]);var L=function(e,t){G({message:e,type:t}),setTimeout((function(){return G(A)}),5e3)},M=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n?I.push("/tournament/".concat(n.id)):L("Errore, riprovare piu tardi...","danger");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.GenericToast,{message:R.message,type:R.type}),l.a.createElement(h.a.Consumer,null,(function(e){var t=Object(i.a)(e,1)[0];return l.a.createElement(m.a,{md:{span:"6",offset:"3"},sm:"12"},l.a.createElement(f.a,{style:z},l.a.createElement(f.a.Header,{as:"h2"},"Torneo"),l.a.createElement(f.a.Body,null,l.a.createElement(m.a,null,t.isEditable&&T?l.a.createElement(N,{showMessage:L}):l.a.createElement(d.a,{onSubmit:M},l.a.createElement("label",{htmlFor:"tournamentSelect"},"Selezione Torneo"),l.a.createElement(s.a,{id:"tournamentSelect",components:{IndicatorSeparator:O},styles:D,value:n,options:S,placeholder:"Cerca un torneo",isSearchable:!0,getOptionLabel:k,isClearable:!0,onChange:function(e){return a(e)}}),l.a.createElement(g.a,{type:"submit",size:"lg",variant:"outline-warning",className:"float-right default-color-white",disabled:!n},l.a.createElement("span",{style:{fontSize:"larger",fontWeight:"bolder",padding:"1vw"}},"Prosegui"),l.a.createElement(v.a,{size:"lg"}))))),l.a.createElement(f.a.Footer,null,t.isEditable?T?l.a.createElement(g.a,{type:"button",size:"lg",variant:"outline-warning",className:"float-left default-color-white",onClick:function(){return P(!1)}},"Seleziona un torneo"):l.a.createElement(g.a,{type:"button",size:"lg",variant:"outline-warning",className:"float-left default-color-white",onClick:function(){return P(!0)}},"Crea un nuovo torneo"):null)))})))},function(e){var t=e.name,n=e.date,a=e.progress;return t+" - "+Object(b.b)(n)+"@"+Object(b.e)(a)}),D={option:function(e,t){return Object(a.a)({},e,{backgroundColor:"white",color:"black","&:hover":{backgroundColor:"#64bd9c",color:"white"}})},control:function(e){return Object(a.a)({},e,{height:"3vmin",marginBottom:"40px"})},singleValue:function(e,t){return Object(a.a)({},e)},valueContainer:function(e){return Object(a.a)({},e,{height:"100%",fontSize:"larger"})}}}}]);
//# sourceMappingURL=16.e6f2a2b9.chunk.js.map