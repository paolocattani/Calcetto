(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[6],{254:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(255),i=n(121),c=function(e){var t=e.size,n=e.prefix,r=e.iconName,c=e.color;return a.a.createElement(o.a,{color:c,size:t,icon:Object(i.a)({prefix:n,iconName:r})})},l=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"far",iconName:"trash-alt"})},s=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"far",iconName:"save"})},u=function(e){var t=e.size;e.color;return a.a.createElement(c,{size:t,prefix:"fas",iconName:"arrow-alt-circle-right"})},f=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"toggle-on"})},p=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"toggle-off"})},b=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"trophy"})},d=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"angle-double-right"})},m=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"ban"})}},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(121),a=n(7),o=n.n(a),i=n(0),c=n.n(i);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function m(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),a=d(t.slice(0,r)),o=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[a]=o,e}),{})}var y=!1;try{y=!0}catch(j){}function v(e){return null===e?null:"object"===l(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function O(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?s({},e,t):{}}function g(e){var t=e.icon,n=e.mask,a=e.symbol,o=e.className,i=e.title,c=v(t),l=O("classes",[].concat(b(function(e){var t,n=e.spin,r=e.pulse,a=e.fixedWidth,o=e.inverse,i=e.border,c=e.listItem,l=e.flip,u=e.size,f=e.rotation,p=e.pull,b=(s(t={"fa-spin":n,"fa-pulse":r,"fa-fw":a,"fa-inverse":o,"fa-border":i,"fa-li":c,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(u),"undefined"!==typeof u&&null!==u),s(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f),s(t,"fa-pull-".concat(p),"undefined"!==typeof p&&null!==p),s(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),b(o.split(" ")))),u=O("transform","string"===typeof e.transform?r.d.transform(e.transform):e.transform),p=O("mask",v(n)),d=Object(r.b)(c,f({},l,{},u,{},p,{symbol:a,title:i}));if(!d)return function(){var e;!y&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=d.abstract,j={};return Object.keys(e).forEach((function(t){g.defaultProps.hasOwnProperty(t)||(j[t]=e[t])})),h(m[0],j)}g.displayName="FontAwesomeIcon",g.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},g.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var h=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=m(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[d(t)]=r}return e}),{attrs:{}}),i=r.style,c=void 0===i?{}:i,l=p(r,["style"]);return o.attrs.style=f({},o.attrs.style,{},c),t.apply(void 0,[n.tag,f({},o.attrs,{},l)].concat(b(a)))}.bind(null,c.a.createElement)},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={isLoading:function(e){var t=e.tournamentState.isLoading;return t},getTournament:function(e){return e.tournamentState.tournament},getTournamentsList:function(e){return e.tournamentState.tournamentsList}}},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={isLoading:function(e){var t=e.stage1State.isLoading;return t},getSelectedRows:function(e){return e.stage1State.selectedRows||null},getSelectedPairs:function(e){return e.stage1State.selectedPairs}}},279:function(e,t,n){e.exports={functionsList:"common_functionsList__3B3UB"}},291:function(e,t,n){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}},350:function(e,t,n){"use strict";var r=n(3),a=n(6),o=n(8),i=n.n(o),c=n(0),l=n.n(c),s=n(24),u=n(11),f=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.size,c=e.className,s=e.as,f=void 0===s?"div":s,p=Object(a.a)(e,["bsPrefix","size","className","as"]);return n=Object(u.b)(n,"input-group"),l.a.createElement(f,Object(r.a)({ref:t},p,{className:i()(c,n,o&&n+"-"+o)}))})),p=Object(s.a)("input-group-append"),b=Object(s.a)("input-group-prepend"),d=Object(s.a)("input-group-text",{Component:"span"});f.displayName="InputGroup",f.Text=d,f.Radio=function(e){return l.a.createElement(d,null,l.a.createElement("input",Object(r.a)({type:"radio"},e)))},f.Checkbox=function(e){return l.a.createElement(d,null,l.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},f.Append=p,f.Prepend=b,t.a=f},356:function(e,t,n){"use strict";var r=n(3),a=n(6),o=n(8),i=n.n(o),c=n(0),l=n.n(c),s=(n(69),n(42)),u=n(11),f=n(126),p=n(125),b=n(25),d=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.active,s=e.disabled,f=e.className,d=e.variant,m=e.action,y=e.as,v=e.eventKey,O=e.onClick,g=Object(a.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(u.b)(n,"list-group-item");var h=Object(c.useCallback)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();O&&O(e)}),[s,O]);return l.a.createElement(p.a,Object(r.a)({ref:t},g,{eventKey:Object(b.b)(v,g.href),as:y||(m?g.href?"a":"button":"div"),onClick:h,className:i()(f,n,o&&"active",s&&"disabled",d&&n+"-"+d,m&&n+"-action")}))}));d.defaultProps={variant:null,active:!1,disabled:!1},d.displayName="ListGroupItem";var m=d,y=l.a.forwardRef((function(e,t){var n,o=Object(s.a)(e,{activeKey:"onSelect"}),c=o.className,p=o.bsPrefix,b=o.variant,d=o.horizontal,m=o.as,y=void 0===m?"div":m,v=Object(a.a)(o,["className","bsPrefix","variant","horizontal","as"]);return p=Object(u.b)(p,"list-group"),n=d?!0===d?"horizontal":"horizontal-"+d:null,l.a.createElement(f.a,Object(r.a)({ref:t},v,{as:y,className:i()(c,p,b&&p+"-"+b,n&&p+"-"+n)}))}));y.defaultProps={variant:null,horizontal:null},y.displayName="ListGroup",y.Item=m;t.a=y},361:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(120),o=n(0),i=n.n(o),c=n(28),l=n(31),s=n(265),u=n(13),f=n(291),p=n.n(f),b=n(137),d=n(350),m=n(261),y=n(148),v=n(254),O=function(e){var t,n,r,a=e.onClick,o=e.name,c=e.winner,l=e.span,s=e.rowIndex,u=e.colIndex,f=e.pair,b=e.buttonDisabled,O=e.isLast,g=e.renderCustomComponent;return r=O?i.a.createElement(v.h,{size:"lg",color:"gold"}):c?i.a.createElement(v.b,{size:"lg",color:"green"}):i.a.createElement(v.a,{size:"1x",color:"red"}),i.a.createElement("td",{rowSpan:l,className:s%2===0?[p.a.cell,p.a.borderBottom].join(" "):p.a.cell},i.a.createElement(d.a,{className:p.a.container},i.a.createElement(d.a.Prepend,{className:p.a.prepend},i.a.createElement(d.a.Text,null,s)),g?g(s,u,O,f):i.a.createElement(m.a,{placeholder:"Username"+u,value:f?"".concat(null===(t=f.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=f.player2)||void 0===n?void 0:n.name):o,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),i.a.createElement(d.a.Append,null,i.a.createElement(y.a,{disabled:b,className:p.a.append,onClick:function(e){return a(e,s,u,!c)}},r))))},g=n(100),h=n(268),j=n(277),x=i.a.forwardRef((function(e,t){var n=e.getOptionLabel,r=e.styles,c=e.rowIndex,l=e.options,s=e.onChange,u=Object(o.useState)(),f=Object(a.a)(u,2),p=f[0],b=f[1];return i.a.createElement(h.a,{components:j.z,styles:r,options:l,onChange:function(e,t){b(e),s&&s(e,c,t)},getOptionLabel:n,value:p,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),w=function(e){var t=e.onClick,n=e.elements,r=e.pairsSelect,a=e.rowNumber,o=void 0===a?64:a,c=(e.pairs,e.onSelectPair),l=Object(g.c)(2,o)+1,s=function(e,t,n,r,a,o,c){for(var l=[],s=new Array(n).fill(0),f=Object(b.c)(t),d=function(e,t,n,r){var a={container:function(e){return Object(u.a)({},e,{flex:"1 1 auto"})},option:function(e){return Object(u.a)({},e,{zIndex:6})},menuList:function(e){return Object(u.a)({},e,{flex:"1 1 auto",zIndex:5,height:"auto"})}};return i.a.createElement(x,{styles:a,options:o,rowIndex:e,onChange:c,getOptionLabel:function(e){var t,n;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(t=e.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=e.player2)||void 0===n?void 0:n.name," ")):"Placeholder"}})},m=1;m<=t;m++){for(var y=[],v=0;v<f[m];v++){s[v]+=1;var g=e[v]?e[v][s[v]-1]:Object(b.b)();y.push(i.a.createElement(O,Object.assign({renderCustomComponent:0===v?d:void 0,key:"cell : ".concat(v,"-").concat(s[v]-1),span:Math.pow(2,v),rowIndex:s[v],colIndex:v+1,onClick:r,buttonDisabled:E(s[v],v,e),isLast:1===e[v].length},g)))}l.push(i.a.createElement("tr",{key:"row : ".concat(m),className:p.a.row},y))}return l}(n,o,l,t,0,r,c),f=function(e){for(var t=[],n=1;n<=e;n++)t.push(i.a.createElement("td",{key:"header ".concat(n),className:p.a.headerCell,style:{width:"".concat(100/e,"%")}},i.a.createElement("strong",null,"Stage-".concat(n))));return t}(l);return i.a.createElement("table",{className:p.a.table},i.a.createElement("thead",null,i.a.createElement("tr",null,f)),i.a.createElement("tbody",{className:p.a.body},s))};var E=function(e,t,n){return 1===n[t].length||(e%2!==0?!n[t][e-1].pair||n[t][e]&&!n[t][e].pair:!n[t][e-1].pair||n[t][e-2]&&!n[t][e-2].pair)},N=n(356),z=n(279),S=n.n(z),C=n(256),P=function(e){var t=e.stage2State.isLoading;return t},_=function(e){return e.stage2State.cells},k=function(e){return e.stage2State.rowsNumber},L=n(17),I=n(122);t.default=Object(c.i)((function(){var e=Object(c.g)(),t=Object(l.c)(),n=Object(l.d)(C.a.getTournament),u=Object(l.d)(_),f=Object(l.d)(k),p=Object(l.d)(P),b=Object(l.d)(s.a.getSelectedPairs),d=Object(o.useState)(b),m=Object(a.a)(d,2),v=m[0],O=m[1];Object(o.useEffect)((function(){if(!u){for(var e=b.length-1;e%8!==0;)e++;t(L.d.fetchStage2.request({tournamentId:n.id,count:e}))}}),[u,t,b.length,n.id]);return console.log("render stage2 :",u,v,f),u&&v&&f?i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a.Item,{className:S.a.functionsList,key:"stage-button"},i.a.createElement(y.a,{variant:"secondary",onClick:function(){e.push("/stage1")}},"Fase 1")),i.a.createElement(w,{pairs:b,pairsSelect:v,onClick:function(e,n,a,o){var i=Object(r.a)(u),c=null,l=null,s=null;n%2!==0?(c=i[a-1][n-1],l=i[a-1][n]):(c=i[a-1][n-1],l=i[a-1][n-2]),s=i[a][c.id-1],c.winner=o,l.winner=!o,s&&(s.pair=o?c.pair:l.pair),t(L.d.setCells(i))},rowNumber:f,elements:u,onSelectPair:function(e,n,a){var o=Object(r.a)(u),i=e,c=o[0][n-1].pair,l=Object(r.a)(v);i&&i.id&&(l=l.filter((function(e){return e.id!==i.id}))),c&&c.id&&(l=[].concat(Object(r.a)(l),[c])),O(l),o[0][n-1].pair=i,t(L.d.setCells(o))}})):i.a.createElement(I.LoadingModal,{show:p})}))}}]);
//# sourceMappingURL=6.37020b3c.chunk.js.map