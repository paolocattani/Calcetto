(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[2],{109:function(e,t,n){e.exports=n.p+"static/media/header.7774471e.jpg"},119:function(e,t,n){e.exports=n(194)},124:function(e,t,n){},133:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),l=(n(124),n(125),n(126),n(43)),c=n.n(l),u=n(55),s=n(29),m=n(109),d=n.n(m),p=n(200),b=n(203),v=n(204),f=n(201),h=r.a.lazy((function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,331))})),E=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,333))})),g=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(9)]).then(n.bind(null,336))})),x=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,332))})),y=r.a.lazy((function(){return n.e(12).then(n.bind(null,329))})),j=r.a.lazy((function(){return n.e(14).then(n.bind(null,330))})),w=[{path:"/login",label:"Login",exact:!0,ComponentToRender:r.a.lazy((function(){return Promise.all([n.e(0),n.e(8),n.e(13)]).then(n.bind(null,334))})),visible:!1,private:!1,index:0},{path:"/",label:"Home",exact:!0,ComponentToRender:E,visible:!1,private:!0,index:10},{path:"/tournament/:tId",label:"Selezione Coppie",exact:!0,ComponentToRender:g,visible:!1,private:!0,index:20},{path:"/stage1/:tId",label:"Torneo fase 1",exact:!0,ComponentToRender:x,visible:!1,private:!0,index:30},{path:"/player",label:"Gestione Giocatori",exact:!0,ComponentToRender:h,visible:!0,private:!0,index:40},{path:"/user",label:"Gestione Utente",exact:!0,ComponentToRender:r.a.lazy((function(){return n.e(7).then(n.bind(null,337))})),visible:!1,private:!0,index:50},{path:"/stage2/:tId",label:"Torneo fase 2",exact:!0,ComponentToRender:y,visible:!1,private:!0,index:100},{path:"*",label:"Not Found",exact:!1,ComponentToRender:j,visible:!1,private:!0,index:1e3}],C=w;var O=n(33),k=n(38),T=function(e){var t=Object(O.d)(),n=Object(s.a)(t,2),a=n[0],o=n[1],i=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/logout");case 2:e.sent.ok&&o({isAuthenticated:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={backgroundImage:"url(".concat(d.a,")"),backgroundSize:"cover",padding:"60px 0px 10px 0px",minHeight:"28vh"},m={color:"##ffc107",fontSize:"4vh",padding:"0vw 2vw"};return r.a.createElement("header",null,r.a.createElement(p.a,{style:l},r.a.createElement("h1",{style:{margin:"5vh"}},r.a.createElement("strong",{style:{color:"white"}},"Calcetto C.S.M")),a.isAuthenticated?r.a.createElement(b.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(b.a.Brand,{as:k.b,to:"/"},"Home"),r.a.createElement(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},C.map((function(e){return e.visible?e.private&&!a.isAuthenticated?null:r.a.createElement(v.a.Link,{as:k.b,key:e.index,to:e.path},e.label):null}))),a.name?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a.Text,{style:m},r.a.createElement("strong",{style:{color:"#64bd9c"}},a.name)),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"outline-warning",onClick:i},"Log out"),r.a.createElement(f.a,{as:k.b,to:"/user",variant:"outline-warning"},"Gestione Utente"))):null)):null))},R=n(94),z=n(13),A=n(50),P=function(e){return a.createElement(O.a.Consumer,null,(function(t){var n=Object(s.a)(t,1)[0];return a.createElement(z.b,Object.assign({},e,{render:function(t){var r=t.location;return n.isAuthenticated&&"/login"===r.pathname?(console.log("ProtectedRoute => redirect to Home"),a.createElement(z.a,Object.assign({},e,{to:{pathname:"/",state:{from:r}}}))):e.private?n.isAuthenticated?(console.log("ProtectedRoute => render component : ",function(e){var t=w.find((function(t){return t.path===e}));return t?t.label:"route ".concat(e," not found!")}(r.pathname)),a.createElement(e.ComponentToRender,e)):(console.log("ProtectedRoute => redirect to Login : ",Object(A.a)({},n)),a.createElement(z.a,Object.assign({},e,{to:{pathname:"/login",state:{from:r}}}))):(console.log("ProtectedRoute => public route : ",Object(A.a)({},e)),a.createElement(e.ComponentToRender,e))}}))}))},H=(n(133),n(202)),S=n(98),B=n(113),L=n(114);S.c.add(B.a,L.a);var I=function(e){Object(z.g)();return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(H.a,{fluid:!0},r.a.createElement(a.Suspense,{fallback:r.a.createElement(R.b,{show:!0,message:"....Caricamento"})},r.a.createElement(z.d,null,C.map((function(e){return r.a.createElement(P,Object.assign({},e,{key:e.index}))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(117),G=n(76);Object(G.setDefaultLocale)("it"),Object(G.registerLocale)("it",F.a),i.a.render(r.a.createElement(k.a,null,r.a.createElement(O.b,null,r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var a=n(43),r=n.n(a),o=n(50),i=n(55),l=n(29),c=n(0),u=n.n(c),s={isAuthenticated:!1},m=Object(c.createContext)([s,function(){}]),d=function(){return Object(c.useContext)(m)},p=function(e){var t=e.children,n=Object(c.useState)(s),a=Object(l.a)(n,2),d=a[0],p=a[1],b=[d,p];return Object(c.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&t.ok?p(Object(o.a)({isAuthenticated:!0},n)):p(s),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("SessionContext.error :",e.t0),p(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),console.log("sessionContext.session: ",d),u.a.createElement(m.Provider,{value:b},d?t:null)},b=function(e){return!!(e&&e.isAuthenticated&&e.role)&&(e.isAuthenticated&&"Admin"===e.role)}},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));n(29);var a=n(0),r=n.n(a),o=n(54),i=n(37),l=n(91),c=n(198),u=(n(33),function(e){var t=e.message,n=e.show,a=e.onHide,l=void 0===a?function(){return n=!1}:a;return r.a.createElement(o.a,{show:n,onHide:l,size:"xl",centered:!0},r.a.createElement(o.a.Header,{closeButton:!0},r.a.createElement(o.a.Title,null,"Caricamento....")),r.a.createElement(o.a.Body,null,t),r.a.createElement(o.a.Footer,null,r.a.createElement(i.a,{animation:"border",variant:"light"}),r.a.createElement(i.a,{animation:"border",variant:"primary"}),r.a.createElement(i.a,{animation:"border",variant:"secondary"}),r.a.createElement(i.a,{animation:"border",variant:"success"}),r.a.createElement(i.a,{animation:"border",variant:"danger"}),r.a.createElement(i.a,{animation:"border",variant:"warning"}),r.a.createElement(i.a,{animation:"border",variant:"info"}),r.a.createElement(i.a,{animation:"border",variant:"dark"})))}),s=function(e){var t=e.message,n=e.type;return t&&""!==t?r.a.createElement(l.a,{className:"rounded mr-2 mx-auto",key:"".concat(n,"-message"),show:""!==t},r.a.createElement(l.a.Header,{closeButton:!1},r.a.createElement("strong",null,"Operazione completata !")),r.a.createElement(l.a.Body,null,r.a.createElement(c.a,{variant:n},t))):null}}},[[119,3,4]]]);
//# sourceMappingURL=main.6c88a7f4.chunk.js.map