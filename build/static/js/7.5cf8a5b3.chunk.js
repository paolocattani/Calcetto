(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[7],{270:function(e,a,t){"use strict";t.d(a,"e",(function(){return r})),t.d(a,"b",(function(){return l})),t.d(a,"d",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"c",(function(){return s}));var n=t(127);function r(e){switch(e){case n.a.New:return"Nuovo";case n.a.PairsSelection:return"Selezione Coppie";case n.a.Stage1:return"Fase 1";case n.a.Stage2:return"Fase 2";default:return""}}function l(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("/")}new RegExp("^d{10}$");var c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),o=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$");function s(e,a){return Math.log(a)/Math.log(e)}},273:function(e,a,t){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}},279:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(128),c=t(37),o=t(166),s=t(131),i=t(2),u=t(7),p=t(11),m=t.n(p),d=t(15),f=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.variant,l=e.pill,c=e.className,o=e.as,s=void 0===o?"span":o,p=Object(u.a)(e,["bsPrefix","variant","pill","className","as"]),f=Object(d.a)(t,"badge");return r.a.createElement(s,Object(i.a)({ref:a},p,{className:m()(c,f,l&&f+"-pill",n&&f+"-"+n)}))}));f.displayName="Badge",f.defaultProps={pill:!1};var b=f,g=t(270);a.a=function(){var e=Object(c.c)(l.f.getTournament);return r.a.createElement(o.a,null,r.a.createElement(s.a,null,r.a.createElement("h2",{className:"float-left"},r.a.createElement(b,{variant:"info"},r.a.createElement("span",null,"Torneo "),r.a.createElement("strong",null,'"',e.name.toUpperCase(),'"'),r.a.createElement("span",null,r.a.createElement("i",null," - ".concat(Object(g.b)(e.date)," "),r.a.createElement("small",null," @ ",Object(g.e)(e.progress))))))))}},301:function(e,a,t){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}},362:function(e,a,t){"use strict";var n=t(7),r=t(2),l=t(11),c=t.n(l),o=t(0),s=t.n(o),i=t(30),u=t(15),p=Object(i.a)("input-group-append"),m=Object(i.a)("input-group-prepend"),d=Object(i.a)("input-group-text",{Component:"span"}),f=s.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.size,o=e.className,i=e.as,p=void 0===i?"div":i,m=Object(n.a)(e,["bsPrefix","size","className","as"]);return t=Object(u.a)(t,"input-group"),s.a.createElement(p,Object(r.a)({ref:a},m,{className:c()(o,t,l&&t+"-"+l)}))}));f.displayName="InputGroup";var b=Object(r.a)({},f,{Text:d,Radio:function(e){return s.a.createElement(d,null,s.a.createElement("input",Object(r.a)({type:"radio"},e)))},Checkbox:function(e){return s.a.createElement(d,null,s.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},Append:p,Prepend:m});a.a=b},370:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(5),l=t.n(r),c=t(20),o=t(125),s=t(0),i=t.n(s),u=t(21),p=t(37),m=t(10),d=t(301),f=t.n(d),b=t(270),g=t(362),v=t(274),E=t(96),O=t(126),j=function(e){var a,t,n,r=e.onClick,l=e.name,c=e.isWinner,o=e.span,s=e.rowIndex,u=e.colIndex,p=e.pair,m=e.buttonDisabled,d=e.isLast,b=e.renderCustomComponent;return n=d?i.a.createElement(O.m,{size:"lg",color:"gold"}):c?i.a.createElement(O.c,{size:"lg",color:"green"}):i.a.createElement(O.a,{size:"1x",color:"red"}),i.a.createElement("td",{rowSpan:o,className:s%2===0?[f.a.cell,f.a.borderBottom].join(" "):f.a.cell},i.a.createElement(g.a,{className:f.a.container},i.a.createElement(g.a.Prepend,{className:f.a.prepend},i.a.createElement(g.a.Text,null,s)),b?b(s,u,d,p):i.a.createElement(v.a,{placeholder:"Username"+u,value:p?"".concat(null===(a=p.player1)||void 0===a?void 0:a.name," - ").concat(null===(t=p.player2)||void 0===t?void 0:t.name):l,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),i.a.createElement(g.a.Append,null,i.a.createElement(E.a,{disabled:m,className:f.a.append,onClick:function(e){return r(e,s,u,!c)}},n))))},h=t(282),_=t(289),w=i.a.forwardRef((function(e,a){var t=e.getOptionLabel,n=e.styles,r=e.rowIndex,l=e.options,c=e.onChange,u=e.defaultValue,p=Object(s.useState)(),m=Object(o.a)(p,2),d=m[0],f=m[1];return i.a.createElement(h.a,{defaultValue:u,components:_.z,styles:n,options:l,onChange:function(e,a){f(e),c&&c(e,r,a)},getOptionLabel:t,value:d,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),C=function(e){var a=e.onClick,t=e.elements,n=e.pairsSelect,r=e.rowNumber,l=void 0===r?64:r,c=e.onSelectPair,o=Object(b.c)(2,l)+1,s=function(e,a,t,n,r,l){for(var c=[],o=new Array(t).fill(0),s=function(e){for(var a=[NaN,Object(b.c)(2,e)+1],t=1,n=1;n<=e;n++)if(!a[n]){a[n]=t;for(var r=Math.pow(2,t),l=1;n+r*l<e+1;l++)a[n+r*l]=t;t++}return a}(a),u=function(e,a,t,n){var c={container:function(e){return Object(m.a)(Object(m.a)({},e),{},{flex:"1 1 auto"})},option:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:6})},menuList:function(e){return Object(m.a)(Object(m.a)({},e),{},{flex:"1 1 auto",zIndex:5,height:"auto"})}};return console.log("Render stage2 select :",e,a,t,n),i.a.createElement(w,{styles:c,defaultValue:n,options:r,rowIndex:e,onChange:l,getOptionLabel:function(e){var a,t;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(a=e.player1)||void 0===a?void 0:a.name," - ").concat(null===(t=e.player2)||void 0===t?void 0:t.name," ")):"-"}})},p=1;p<=a;p++){for(var d=[],g=0;g<s[p];g++){o[g]+=1;var v=e[g]?e[g][o[g]-1]:{name:"",isWinner:!1,matchId:0,cellRowIndex:0,cellColIndex:0,parentId:0};d.push(i.a.createElement(j,Object.assign({renderCustomComponent:0===g?u:void 0,key:"cell : ".concat(g,"-").concat(o[g]-1),span:Math.pow(2,g),rowIndex:o[g],colIndex:g+1,onClick:n,buttonDisabled:x(o[g],g,e),isLast:1===e[g].length},v)))}c.push(i.a.createElement("tr",{key:"row : ".concat(p),className:f.a.row},d))}return c}(t,l,o,a,n,c),u=function(e){for(var a=[],t=1;t<=e;t++)a.push(i.a.createElement("td",{key:"header ".concat(t),className:f.a.headerCell,style:{width:"".concat(100/e,"%")}},i.a.createElement("strong",null,"Stage-".concat(t))));return a}(o);return i.a.createElement("table",{className:f.a.table},i.a.createElement("thead",null,i.a.createElement("tr",null,u)),i.a.createElement("tbody",{className:f.a.body},s))};var x=function(e,a,t){return 1===t[a].length||(e%2!==0?!t[a][e-1].pair||t[a][e]&&!t[a][e].pair:!t[a][e-1].pair||t[a][e-2]&&!t[a][e-2].pair)},y=t(131),N=t(166),z=t(273),k=t.n(z),I=t(128),R=t(12),S=t(130),A=t(279),B=t(98);a.default=Object(u.i)((function(){var e=Object(u.g)(),a=Object(p.b)(),t=Object(p.c)(I.e.getCells),r=Object(p.c)(I.e.getRowsNumber),m=Object(p.c)(I.e.isLoading),d=Object(p.c)(I.f.getTournament),f=Object(s.useState)(),b=Object(o.a)(f,2),g=b[0],v=b[1];Object(s.useEffect)((function(){Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(R.f.setLoading(!0)),e.next=3,Object(B.b)(d.id);case 3:t=e.sent,v(t.pairs),a(R.f.setLoading(!1));case 6:case"end":return e.stop()}}),e)})))()}),[d.id]);return t&&g&&r?i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{className:k.a.toolsBarContainer},i.a.createElement(N.a,{className:k.a.toolsBarRow},i.a.createElement(y.a,null,i.a.createElement(E.a,{variant:"secondary",className:"float-left",onClick:function(){e.push("/stage1")}},i.a.createElement(O.e,null)," Indietro")))),i.a.createElement(A.a,null),i.a.createElement(C,{pairsSelect:g,onClick:function(e,r,l,c){var o=Object(n.a)(t),s=null,i=null,u=null;r%2!==0?(s=o[l-1][r-1],i=o[l-1][r]):(s=o[l-1][r-1],i=o[l-1][r-2]),u=o[l][s.matchId-1],console.log(" onClick : ",s,i,u),s.isWinner=c,i.isWinner=!c,u&&(u.pair=c?s.pair:i.pair),a(R.f.updateCell.request({cell1:s,cell2:i})),a(R.f.setCells(o)),1===o[l].length&&a(R.f.updateCell.request({cell1:u,cell2:null}))},rowNumber:r,elements:t,onSelectPair:function(e,r,l){if(g){var c=Object(n.a)(t),o=e,s=c[0][r-1].pair,i=Object(n.a)(g);o&&o.id&&(i=i.filter((function(e){return e.id!==o.id}))),s&&s.id&&(i=[].concat(Object(n.a)(i),[s])),v(i),c[0][r-1].pair=o,a(R.f.setCells(c)),a(R.f.updateCell.request({cell1:c[0][r-1],cell2:null}))}}})):i.a.createElement(S.LoadingModal,{show:m})}))}}]);
//# sourceMappingURL=7.5cf8a5b3.chunk.js.map