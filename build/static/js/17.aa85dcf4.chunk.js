(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[17],{1305:function(e,t,r){"use strict";r.r(t);var n,l,a,i,c,o,d=r(15),s=r(294),u=r(2),f=r(0),j=r(24),b=r(39),h=r(405),m=r.n(h),p=r(143),x=r(102),O=r(187),y=r(327),g=r.n(y),v=r(148),F=r(1266),S=r.n(F),k=r(364),w=r(59),C=r(50);var P=S()(),_=function(e,t,r){var d;return[{dataField:"rowNumber",text:"ID",editable:!1,headerStyle:function(e,t){return{width:"3%"}}},{dataField:"name",text:t.name,autoSelectText:!0,headerStyle:function(t,r){return{width:e?"16%":"25%"}},filter:Object(F.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return n=e}})},{dataField:"surname",text:t.surname,autoSelectText:!0,headerStyle:function(t,r){return{width:e?"16%":"25%"}},filter:Object(F.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return l=e}})},{dataField:"alias",text:t.alias,headerStyle:function(t,r){return{width:e?"17%":"25%"}},autoSelectText:!0,filter:Object(F.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return a=e}})},{dataField:"role",text:t.role,headerStyle:function(t,r){return{width:"".concat(e?"11":"15","%")}},filter:Object(F.selectFilter)({placeholder:"".concat(t.filter,"..."),options:(d={},Object(v.a)(d,w.PlayerRole.GoalKeeper,t.goalKeeper),Object(v.a)(d,w.PlayerRole.Striker,t.striker),Object(v.a)(d,w.PlayerRole.Master,t.master),d),getFilter:function(e){return i=e}}),editor:{type:k.Type.SELECT,getOptions:function(){return[{value:w.PlayerRole.GoalKeeper,label:t.goalKeeper},{value:w.PlayerRole.Striker,label:t.striker},{value:w.PlayerRole.Master,label:t.master}]}}},{dataField:"email",text:t.email,headerStyle:function(e,t){return{width:"20%"}},autoSelectText:!0,hidden:!e,filter:Object(F.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return c=e}})},{dataField:"phone",headerStyle:function(e,t){return{width:"10%"}},text:t.phone,autoSelectText:!0,hidden:!e,filter:Object(F.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return o=e}})},{dataField:"actions",isDummyField:!0,text:"Azioni",hidden:!e,formatter:function(e,t){return Object(u.jsx)(x.a,{variant:"success",onClick:function(){return r(t)},children:Object(u.jsx)(C.d,{})})}},{dataField:"match_played",text:"Partite Giocate",hidden:!0},{dataField:"match_won",text:"Vittorie",hidden:!0},{dataField:"total_score",text:"Punteggio",hidden:!0}]};var R=r(291),K=function(e){var t=e.title,r=e.saved,n={color:r?"#4feb34":void 0},l=Object(R.a)(["common"]).t;return Object(u.jsxs)("h3",{children:[Object(u.jsx)("b",{style:n,children:"string"===typeof t?l(t):t}),r?Object(u.jsxs)("small",{children:[" ","- ".concat(l("common:saving"),"...")," "]}):null]})},T=r(76),B=r(13),L=r(64),E=r(75);t.default=Object(j.i)((function(){var e=Object(b.c)(),t=Object(j.g)(),r=Object(R.a)(["common","player"]).t,h=Object(b.d)(E.c.isLoading),y=Object(b.d)(E.a.isAdmin),v=Object(b.d)(E.c.getPlayersList),F=Object(b.d)(E.c.isSaving),S=Object(f.useState)([]),k=Object(s.a)(S,2),w=k[0],N=k[1];Object(f.useEffect)((function(){e(B.c.fetchPlayers.request({}))}),[e]);var A=function(e,t){return N((function(r){var n=!!r.find((function(t){return t.id===e.id}));return t?n?r:[e].concat(Object(d.a)(r)):n?r.filter((function(t){return t.id!==e.id})):r})),!0},D={mode:"checkbox",nonSelectable:v.filter((function(e){return e.id&&!e.editable})).map((function(e){return e.id})),onSelect:A,onSelectAll:function(e,t){return t.forEach((function(t){return A(t,e)}))},style:{backgroundColor:"#c8e6c9"},hideSelectAll:!v.find((function(e){return e.editable})),hideSelectColumn:!v.find((function(e){return e.editable}))||!y,selectColumnStyle:function(e){e.checked,e.disabled;var t=e.rowIndex;e.rowKey;return v[t].editable?{}:{backgroundColor:"#dc3545"}}},G=function(r){console.log("addEdit : ",r),e(B.c.setPlayer(r)),t.push("/player/edit")},I=function(){w&&(e(B.c.deletePlayers.request({players:w})),N([]))};function q(){t.push("/")}var J={name:r("player:field.name"),surname:r("player:field.surname"),alias:r("player:field.alias"),role:r("player:field.role"),email:r("player:field.email"),phone:r("player:field.phone"),filter:r("player:field.filter"),goalKeeper:r("player:role.goalKeeper"),striker:r("player:role.striker"),master:r("player:role.master"),edit:r("common:edit")};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(T.LoadingModal,{show:h,message:r("common:loading")}),Object(u.jsxs)(p.a,{children:[Object(u.jsx)(O.a,{children:Object(u.jsx)(p.a,{className:g.a.toolsBarContainer,children:Object(u.jsxs)("div",{className:g.a.toolsBar,children:[Object(u.jsxs)(x.a,{variant:"secondary",className:"float-left align-middle",onClick:q,children:[Object(u.jsx)(C.f,{}),Object(u.jsxs)("span",{children:[" ",r("common:route.home")]})]}),y?Object(u.jsxs)(x.a,{variant:"success",onClick:function(){return G(Object(L.c)())},children:[Object(u.jsx)(C.k,{}),Object(u.jsx)("span",{children:r("player:add")})]}):null,Object(u.jsxs)(x.a,{variant:"dark",onClick:function(){return function(e){n(""),l(""),a(""),i(""),e&&(c(""),o(""))}(y)},children:[Object(u.jsx)(C.b,{}),Object(u.jsxs)("span",{children:[" ",r("player:filter")]})]}),y?Object(u.jsxs)(x.a,{variant:"danger",className:"float-right",onClick:I,disabled:0===w.length,children:[Object(u.jsx)(C.q,{})," ",w.length>1?r("player:delete.multi"):r("player:delete.one")]}):null]})})}),Object(u.jsx)(O.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(m.a,{bootstrap4:!0,keyField:"id",data:v,columns:_(y,J,G),selectRow:D,caption:Object(u.jsx)(K,{title:"common:route.player",saved:F}),filter:P,headerClasses:"default-background default-color-yellow",noDataIndication:function(){return Object(u.jsx)("p",{children:r("player:data")})},striped:!0,hover:!0})})})]})]})}))},327:function(e,t,r){e.exports={functionsList:"common_functionsList__3IJtv",toolsBarContainer:"common_toolsBarContainer__1xuf3",toolsBarRow:"common_toolsBarRow__1GbuD"}}}]);
//# sourceMappingURL=17.aa85dcf4.chunk.js.map