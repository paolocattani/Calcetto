{"version":3,"sources":["components/core/icons.tsx","../node_modules/@fortawesome/react-fontawesome/index.es.js","common.module.css","components/Player/helper.js","../node_modules/react-bootstrap/esm/InputGroup.js","components/Pair/header.tsx","components/Pair/noData.tsx","components/Player/select.tsx","components/Pair/editor.js","components/Pair/table.tsx"],"names":["Icon","size","prefix","iconName","color","icon","findIconDefinition","TrashIcon","SaveIcon","RightArrowIcon","LeftArrowIcon","TimesIcon","ToggleOn","ToggleOff","PlusIcon","TrophyIcon","DoubleRightIcon","BanIcon","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","call","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","TypeError","_nonIterableSpread","camelize","string","replace","match","chr","toUpperCase","substr","toLowerCase","styleToObject","style","split","map","s","trim","reduce","acc","pair","val","prop","slice","startsWith","charAt","PRODUCTION","process","e","normalizeIconArgs","objectWithKey","FontAwesomeIcon","_ref","forwardedRef","props","iconArgs","maskArgs","mask","symbol","className","title","iconLookup","classes","concat","_classes","spin","pulse","fixedWidth","inverse","border","listItem","flip","rotation","pull","swapOpacity","classList","transform","parse","renderedIcon","_console","console","error","log","abstract","extraProps","ref","defaultProps","hasOwnProperty","convertCurry","displayName","propTypes","PropTypes","bool","oneOfType","array","oneOf","convert","createElement","element","undefined","children","child","mixins","attributes","attrs","_extraProps$style","existingStyle","remaining","tag","bind","React","module","exports","nameFilter","surnameFilter","aliasFilter","roleFilter","emailFilter","phoneFilter","clearAllFilter","filterFactory","filterTableFactory","cellEditProps","isAdmin","dispatch","cellEditFactory","mode","blurToSave","autoSelectText","afterSaveCell","oldValue","newValue","player","column","playerColumns","dataField","text","editable","headerStyle","colIndex","width","headerClasses","textFilter","placeholder","getFilter","selectFilter","options","PlayerRole","GoalKeeper","Striker","Master","editor","type","Type","SELECT","getOptions","_","label","hidden","valueFormatter","selectedOption","alias","surname","name","InputGroupAppend","createWithBsPrefix","InputGroupPrepend","InputGroupText","Component","InputGroup","forwardRef","bsPrefix","_ref$as","as","useBootstrapPrefix","_extends","classNames","InputGroupWithExtras","Text","Radio","Checkbox","Append","Prepend","TableHeader","tournament","useSelector","TournamentSelector","getTournament","translateTournamentProgress","progress","noData","addRow","optionsLength","isEditable","players","diff","Button","variant","onClick","disabled","to","PlayerSelection","styles","row","columnIndex","onUpdate","onSelect","useState","setSelectedOption","onChange","actionMeta","id","isSearchable","isClearable","playerSelection","editorProps","rowIndex","customStyles","checkBoxProps","align","CHECKBOX","content","backgroundColor","columns","editorRenderer","hideAskUser","message","show","withRouter","currentHistory","useHistory","useDispatch","session","SessionSelector","getSession","state","isLoading","setIsLoading","askUser","setAskUser","rows","data","setData","selectedRows","setSelectedRows","stage1Number","setStage1Number","newRowsNumber","setNewRowsNumber","showErrorMessage","toast","autoClose","showSuccessMessage","success","index","a","emptyRow","getEmptyRowModel","tId","fetch","method","headers","body","JSON","stringify","response","json","result","rowNumber","current","addMultipleRows","ii","deleteRow","player1","player2","sort","e1","e2","localeCompare","find","selectedRow","updateOptions","selected","useEffect","fetchData","confirmPairs","setTimeout","missingStage1Name","stage1Name","missingPairs","stageName","invalidStage","pairsInStage","allNames","MIN_PAIR_PER_STAGE","TournamentProgress","Stage1","TournamentAction","updateTournament","request","model","PairAction","getPairs","goBack","selectRow","isSelected","found","onSelectAll","processDeleteStage1","PairsSelection","deleteStage1","onHide","setStage1Name","Stage2","names","newRows","availableRows","Math","floor","accumulator","deleteDisabled","Col","Row","commonStyle","toolsBarContainer","toolsBar","FormControl","aria-label","step","min","max","event","Number","currentTarget","bootstrap4","keyField","selectedElement","newRowsElement","rowElement","getEmptyPlayer","cellEdit","noDataIndication","caption","striped","hover"],"mappings":"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","file":"static/js/6.de4a2e44.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { findIconDefinition, SizeProp, IconPrefix, IconName } from '@fortawesome/fontawesome-svg-core';\r\n\r\ninterface IconProps {\r\n  color?: string;\r\n  size?: SizeProp;\r\n}\r\n\r\ninterface AbstractIconProps extends IconProps {\r\n  prefix: IconPrefix;\r\n  iconName: IconName;\r\n}\r\n\r\nconst SOLID = 'fas';\r\nconst REGULAR = 'far';\r\n\r\n// Wrapper per icone FontAwesome\r\nconst Icon: React.FC<AbstractIconProps> = ({ size, prefix, iconName, color }) => (\r\n  <FontAwesomeIcon color={color} size={size} icon={findIconDefinition({ prefix, iconName })} />\r\n);\r\n\r\n// Regular\r\nexport const TrashIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"trash-alt\" />\r\n);\r\nexport const SaveIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"save\" />\r\n);\r\n\r\n// Solid\r\nexport const RightArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-right\" />\r\n);\r\nexport const LeftArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-left\" />\r\n);\r\nexport const TimesIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"times\" />\r\n);\r\nexport const ToggleOn: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-on\" />\r\n);\r\nexport const ToggleOff: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-off\" />\r\n);\r\nexport const PlusIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"plus\" />\r\n);\r\nexport const TrophyIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"trophy\" />\r\n);\r\nexport const DoubleRightIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"angle-double-right\" />\r\n);\r\nexport const BanIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"ban\" />\r\n);\r\n","import { parse, icon } from '@fortawesome/fontawesome-svg-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// Get CSS class list from a props object\nfunction classList(props) {\n  var _classes;\n\n  var spin = props.spin,\n      pulse = props.pulse,\n      fixedWidth = props.fixedWidth,\n      inverse = props.inverse,\n      border = props.border,\n      listItem = props.listItem,\n      flip = props.flip,\n      size = props.size,\n      rotation = props.rotation,\n      pull = props.pull; // map of CSS class names to properties\n\n  var classes = (_classes = {\n    'fa-spin': spin,\n    'fa-pulse': pulse,\n    'fa-fw': fixedWidth,\n    'fa-inverse': inverse,\n    'fa-border': border,\n    'fa-li': listItem,\n    'fa-flip-horizontal': flip === 'horizontal' || flip === 'both',\n    'fa-flip-vertical': flip === 'vertical' || flip === 'both'\n  }, _defineProperty(_classes, \"fa-\".concat(size), typeof size !== 'undefined' && size !== null), _defineProperty(_classes, \"fa-rotate-\".concat(rotation), typeof rotation !== 'undefined' && rotation !== null && rotation !== 0), _defineProperty(_classes, \"fa-pull-\".concat(pull), typeof pull !== 'undefined' && pull !== null), _defineProperty(_classes, 'fa-swap-opacity', props.swapOpacity), _classes); // map over all the keys in the classes object\n  // return an array of the keys where the value for the key is not null\n\n  return Object.keys(classes).map(function (key) {\n    return classes[key] ? key : null;\n  }).filter(function (key) {\n    return key;\n  });\n}\n\n// Camelize taken from humps\n// humps is copyright © 2012+ Dom Christie\n// Released under the MIT license.\n// Performant way to determine if object coerces to a number\nfunction _isNumerical(obj) {\n  obj = obj - 0; // eslint-disable-next-line no-self-compare\n\n  return obj === obj;\n}\n\nfunction camelize(string) {\n  if (_isNumerical(string)) {\n    return string;\n  } // eslint-disable-next-line no-useless-escape\n\n\n  string = string.replace(/[\\-_\\s]+(.)?/g, function (match, chr) {\n    return chr ? chr.toUpperCase() : '';\n  }); // Ensure 1st char is always lowercase\n\n  return string.substr(0, 1).toLowerCase() + string.substr(1);\n}\n\nfunction capitalize(val) {\n  return val.charAt(0).toUpperCase() + val.slice(1);\n}\n\nfunction styleToObject(style) {\n  return style.split(';').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s;\n  }).reduce(function (acc, pair) {\n    var i = pair.indexOf(':');\n    var prop = camelize(pair.slice(0, i));\n    var value = pair.slice(i + 1).trim();\n    prop.startsWith('webkit') ? acc[capitalize(prop)] = value : acc[prop] = value;\n    return acc;\n  }, {});\n}\n\nfunction convert(createElement, element) {\n  var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof element === 'string') {\n    return element;\n  }\n\n  var children = (element.children || []).map(function (child) {\n    return convert(createElement, child);\n  });\n  /* eslint-disable dot-notation */\n\n  var mixins = Object.keys(element.attributes || {}).reduce(function (acc, key) {\n    var val = element.attributes[key];\n\n    switch (key) {\n      case 'class':\n        acc.attrs['className'] = val;\n        delete element.attributes['class'];\n        break;\n\n      case 'style':\n        acc.attrs['style'] = styleToObject(val);\n        break;\n\n      default:\n        if (key.indexOf('aria-') === 0 || key.indexOf('data-') === 0) {\n          acc.attrs[key.toLowerCase()] = val;\n        } else {\n          acc.attrs[camelize(key)] = val;\n        }\n\n    }\n\n    return acc;\n  }, {\n    attrs: {}\n  });\n\n  var _extraProps$style = extraProps.style,\n      existingStyle = _extraProps$style === void 0 ? {} : _extraProps$style,\n      remaining = _objectWithoutProperties(extraProps, [\"style\"]);\n\n  mixins.attrs['style'] = _objectSpread2({}, mixins.attrs['style'], {}, existingStyle);\n  /* eslint-enable */\n\n  return createElement.apply(void 0, [element.tag, _objectSpread2({}, mixins.attrs, {}, remaining)].concat(_toConsumableArray(children)));\n}\n\nvar PRODUCTION = false;\n\ntry {\n  PRODUCTION = process.env.NODE_ENV === 'production';\n} catch (e) {}\n\nfunction log () {\n  if (!PRODUCTION && console && typeof console.error === 'function') {\n    var _console;\n\n    (_console = console).error.apply(_console, arguments);\n  }\n}\n\n// Normalize icon arguments\nfunction normalizeIconArgs(icon) {\n  // if the icon is null, there's nothing to do\n  if (icon === null) {\n    return null;\n  } // if the icon is an object and has a prefix and an icon name, return it\n\n\n  if (_typeof(icon) === 'object' && icon.prefix && icon.iconName) {\n    return icon;\n  } // if it's an array with length of two\n\n\n  if (Array.isArray(icon) && icon.length === 2) {\n    // use the first item as prefix, second as icon name\n    return {\n      prefix: icon[0],\n      iconName: icon[1]\n    };\n  } // if it's a string, use it as the icon name\n\n\n  if (typeof icon === 'string') {\n    return {\n      prefix: 'fas',\n      iconName: icon\n    };\n  }\n}\n\n// creates an object with a key of key\n// and a value of value\n// if certain conditions are met\nfunction objectWithKey(key, value) {\n  // if the value is a non-empty array\n  // or it's not an array but it is truthy\n  // then create the object with the key and the value\n  // if not, return an empty array\n  return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? _defineProperty({}, key, value) : {};\n}\n\nfunction FontAwesomeIcon(_ref) {\n  var forwardedRef = _ref.forwardedRef,\n      props = _objectWithoutProperties(_ref, [\"forwardedRef\"]);\n\n  var iconArgs = props.icon,\n      maskArgs = props.mask,\n      symbol = props.symbol,\n      className = props.className,\n      title = props.title;\n  var iconLookup = normalizeIconArgs(iconArgs);\n  var classes = objectWithKey('classes', [].concat(_toConsumableArray(classList(props)), _toConsumableArray(className.split(' '))));\n  var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n  var mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n  var renderedIcon = icon(iconLookup, _objectSpread2({}, classes, {}, transform, {}, mask, {\n    symbol: symbol,\n    title: title\n  }));\n\n  if (!renderedIcon) {\n    log('Could not find icon', iconLookup);\n    return null;\n  }\n\n  var abstract = renderedIcon.abstract;\n  var extraProps = {\n    ref: forwardedRef\n  };\n  Object.keys(props).forEach(function (key) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (!FontAwesomeIcon.defaultProps.hasOwnProperty(key)) {\n      extraProps[key] = props[key];\n    }\n  });\n  return convertCurry(abstract[0], extraProps);\n}\nFontAwesomeIcon.displayName = 'FontAwesomeIcon';\nFontAwesomeIcon.propTypes = {\n  border: PropTypes.bool,\n  className: PropTypes.string,\n  mask: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  fixedWidth: PropTypes.bool,\n  inverse: PropTypes.bool,\n  flip: PropTypes.oneOf(['horizontal', 'vertical', 'both']),\n  icon: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  listItem: PropTypes.bool,\n  pull: PropTypes.oneOf(['right', 'left']),\n  pulse: PropTypes.bool,\n  rotation: PropTypes.oneOf([0, 90, 180, 270]),\n  size: PropTypes.oneOf(['lg', 'xs', 'sm', '1x', '2x', '3x', '4x', '5x', '6x', '7x', '8x', '9x', '10x']),\n  spin: PropTypes.bool,\n  symbol: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  swapOpacity: PropTypes.bool\n};\nFontAwesomeIcon.defaultProps = {\n  border: false,\n  className: '',\n  mask: null,\n  fixedWidth: false,\n  inverse: false,\n  flip: null,\n  icon: null,\n  listItem: false,\n  pull: null,\n  pulse: false,\n  rotation: null,\n  size: null,\n  spin: false,\n  symbol: false,\n  title: '',\n  transform: null,\n  swapOpacity: false\n};\nvar convertCurry = convert.bind(null, React.createElement);\n\nexport { FontAwesomeIcon };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"functionsList\":\"common_functionsList__3B3UB\",\"toolsBarContainer\":\"common_toolsBarContainer__1nanA\",\"toolsBarRow\":\"common_toolsBarRow__r8q12\"};","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport filterTableFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport { getEmptyPlayer } from 'services/player.service';\r\nimport { PlayerRole } from '../../models/player.model';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  emailFilter('');\r\n  phoneFilter('');\r\n}\r\n\r\nexport const filterFactory = filterTableFactory();\r\nexport const cellEditProps = (isAdmin, dispatch) =>\r\n  cellEditFactory({\r\n    mode: isAdmin ? 'click' : 'none',\r\n    blurToSave: true,\r\n    autoSelectText: true,\r\n    afterSaveCell: (oldValue, newValue, player, column) => dispatch(player),\r\n  });\r\n\r\n// Columns default\r\nconst playerColumns = (isAdmin) => [\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (nameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (surnameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (aliasFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isAdmin ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: {\r\n        [PlayerRole.GoalKeeper]: PlayerRole.GoalKeeper,\r\n        [PlayerRole.Striker]: PlayerRole.Striker,\r\n        [PlayerRole.Master]: PlayerRole.Master,\r\n      },\r\n      getFilter: (filter) => (roleFilter = filter),\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: (_) => {\r\n        return [\r\n          { value: PlayerRole.GoalKeeper, label: PlayerRole.GoalKeeper },\r\n          { value: PlayerRole.Striker, label: PlayerRole.Striker },\r\n          { value: PlayerRole.Master, label: PlayerRole.Master },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: 'Email',\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isAdmin,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (emailFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: 'Telefono',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isAdmin,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (phoneFilter = filter),\r\n    }),\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true },\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = (props) => (\r\n  <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n    Esporta in CSV\r\n  </Button>\r\n);\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n    const result = await response.json();\r\n    const model = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n    console.log('fetchPlayers.result : ', model);\r\n    setterFunction(model);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"size\", \"className\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size)\n  }));\n});\nInputGroup.displayName = 'InputGroup';\n\nvar InputGroupWithExtras = _extends({}, InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox,\n  Append: InputGroupAppend,\n  Prepend: InputGroupPrepend\n});\n\nexport default InputGroupWithExtras;","import React from 'react';\r\nimport { translateTournamentProgress } from '../core/utils';\r\nimport { useSelector } from 'react-redux';\r\nimport { TournamentSelector } from 'selectors/tournament.selector';\r\n\r\nconst TableHeader: React.FC<{}> = () => {\r\n  const tournament = useSelector(TournamentSelector.getTournament);\r\n  return tournament ? (\r\n    <h3>\r\n      <p>\r\n        <b>\r\n          \"<strong>{tournament?.name.toUpperCase()}</strong>\"\r\n          <small> @ {translateTournamentProgress(tournament!.progress)}</small>\r\n        </b>\r\n      </p>\r\n    </h3>\r\n  ) : null;\r\n};\r\n\r\nexport default TableHeader;\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface NoDataProps {\r\n  optionsLength: number;\r\n  isEditable: boolean;\r\n  addRow: () => void;\r\n}\r\n\r\n// Componente da mostrare se non sono presenti coppie\r\nconst noData: React.FC<NoDataProps> = ({ addRow, optionsLength, isEditable }) => {\r\n  const MIN_PLAYERS = 8;\r\n  const players = optionsLength - 1;\r\n  const diff = players < MIN_PLAYERS ? MIN_PLAYERS - players : 0;\r\n  if (!optionsLength) return null;\r\n  return players >= MIN_PLAYERS ? (\r\n    <>\r\n      <p> Aggiungi le coppie per questo torneo...</p>\r\n      <Button variant=\"success\" onClick={addRow} disabled={!isEditable}>\r\n        Aggiungi Coppia\r\n      </Button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <p>Ci sono solo {players} giocatori definiti ma devono essercene almeno 8 per poter formare un torneo.</p>\r\n      <p>{diff === 1 ? 'Devi creare un altro giocatore...' : `Devi creare almeno altri ${diff}`}</p>\r\n      <Link to={'/player'}>\r\n        <Button variant=\"success\">Gestione Giocatori</Button>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default noData;\r\n","import React, { useState } from 'react';\r\nimport Select, { Styles, ValueType, ActionMeta } from 'react-select';\r\nimport { valueFormatter } from './helper';\r\n// FIXME: import makeAnimated from 'react-select/animated';\r\nimport { PlayerDTO } from 'models';\r\n\r\nexport interface PlayerSelectProps {\r\n  styles?: Partial<Styles>;\r\n  options: PlayerDTO[];\r\n  columnIndex: number;\r\n  id: number;\r\n  onUpdate: any;\r\n  onSelect: any;\r\n  row: any;\r\n}\r\n\r\nconst PlayerSelection: React.FC<PlayerSelectProps> = React.forwardRef(\r\n  ({ styles, row, columnIndex, /*id,*/ onUpdate, onSelect, options }, ref) => {\r\n    const [selectedOption, setSelectedOption] = useState<PlayerDTO>();\r\n\r\n    const handleChange = (selectedOption: ValueType<PlayerDTO>, actionMeta: ActionMeta<PlayerDTO>) => {\r\n      // selectedOption.pairId = id;\r\n      setSelectedOption(selectedOption as PlayerDTO);\r\n      const value = valueFormatter(selectedOption);\r\n      onUpdate(value);\r\n      onSelect(selectedOption, row.id, columnIndex);\r\n    };\r\n\r\n    return (\r\n      <Select\r\n        styles={styles}\r\n        options={options}\r\n        onChange={handleChange}\r\n        value={selectedOption}\r\n        placeholder=\"Cerca...\"\r\n        isSearchable\r\n        isClearable\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\nimport { customStyles } from './helper';\r\n\r\nconst ALIGN_CENTER = 'center';\r\nconst YES = 'Si';\r\nconst NO = 'No';\r\n\r\nconst playerSelection = (editorProps, value, row, rowIndex, columnIndex, onSelect, options) => (\r\n  <PlayerSelect\r\n    {...editorProps}\r\n    id={columnIndex}\r\n    row={row}\r\n    rowIndex={rowIndex}\r\n    columnIndex={columnIndex}\r\n    value={value}\r\n    onSelect={onSelect}\r\n    options={options}\r\n    styles={customStyles}\r\n  />\r\n);\r\n\r\nconst checkBoxProps = {\r\n  align: () => ALIGN_CENTER,\r\n  headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n  editor: {\r\n    type: Type.CHECKBOX,\r\n    value: `${YES}:${NO}`,\r\n  },\r\n  style: (content, row, rowIndex, columnIndex) => (content !== NO ? { backgroundColor: '#ffbf47' } : null),\r\n};\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => ALIGN_CENTER },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => ALIGN_CENTER },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  { dataField: 'alias', text: 'Alias Coppia', headerStyle: (column, colIndex) => ({ width: '25%' }) },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => ALIGN_CENTER,\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map((e) => ({ value: e, label: e })),\r\n    },\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    ...checkBoxProps,\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    ...checkBoxProps,\r\n  },\r\n];\r\n\r\nexport const cellEditProps = (editable) =>\r\n  cellEditFactory({\r\n    mode: editable ? 'click' : 'none',\r\n    blurToSave: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n      if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n      (async () => {\r\n        const response = await fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        await response.json();\r\n      })();\r\n    },\r\n  });\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, InputGroup, FormControl, Row, Col } from 'react-bootstrap';\r\nimport BootstrapTable, { SelectRowProps, ColumnDescription } from 'react-bootstrap-table-next';\r\nimport { useHistory } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n// Components\r\nimport TableHeader from './header';\r\nimport NoData from './noData';\r\n// Core / Helper / Editor\r\nimport { LoadingModal, YesNoModal, YesNoModalProps } from '../core/generic/Commons';\r\nimport { FormEventType } from '../core/generic/CommonTypes';\r\nimport { RightArrowIcon, TrashIcon, PlusIcon } from '../core/icons';\r\nimport { cellEditProps, columns } from './editor';\r\nimport { fetchData, getEmptyRowModel } from './helper';\r\n// Style\r\nimport './style.css';\r\nimport commonStyle from '../../common.module.css';\r\n// Service\r\nimport { getEmptyPlayer } from 'services/player.service';\r\n// Selector\r\nimport { SessionSelector } from 'selectors/session.selector';\r\nimport { TournamentSelector } from 'selectors/tournament.selector';\r\n// Models\r\nimport { PairDTO, PlayerDTO } from 'models';\r\nimport { TournamentProgress } from 'models/tournament.model';\r\n// Action\r\nimport { TournamentAction, PairAction } from 'actions';\r\n\r\nconst hideAskUser = {\r\n  message: '',\r\n  onClick: () => console.log(''),\r\n  show: false,\r\n  title: '',\r\n};\r\ninterface PairTableProps {}\r\nconst PairsTable: React.FC<PairTableProps> = () => {\r\n  // Navigation\r\n  const currentHistory = useHistory();\r\n  const dispatch = useDispatch();\r\n  const session = useSelector(SessionSelector.getSession);\r\n  const tournament = useSelector(TournamentSelector.getTournament)!;\r\n\r\n  // States\r\n  // User messages\r\n  const [isLoading, setIsLoading] = useState({ state: false, message: 'Caricamento' });\r\n  const [askUser, setAskUser] = useState<YesNoModalProps>(hideAskUser);\r\n\r\n  // Data\r\n  const [data, setData] = useState({ rows: [] as PairDTO[], players: [] as PlayerDTO[] });\r\n  const [selectedRows, setSelectedRows] = useState<PairDTO[]>([]);\r\n  // Function params\r\n  const [stage1Number, setStage1Number] = useState<number>(0);\r\n  const [newRowsNumber, setNewRowsNumber] = useState<number>(0);\r\n\r\n  // Initial Fetch\r\n  useEffect(() => {\r\n    if (!tournament) return;\r\n    (async () => setData(await fetchData(tournament.id!)))();\r\n  }, [tournament]);\r\n\r\n  // User messages\r\n  function showErrorMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.error(message, { autoClose: 10000 });\r\n  }\r\n  function showSuccessMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.success(message);\r\n  }\r\n\r\n  async function addRow(index?: number) {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Aggiunta riga in corso' });\r\n      const emptyRow = getEmptyRowModel();\r\n      emptyRow.tId = tournament.id || 0;\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(emptyRow),\r\n      });\r\n      const result = await response.json();\r\n      emptyRow.id = result.id;\r\n      emptyRow.rowNumber = index || data.rows.length + 1;\r\n      setData((current) => ({\r\n        rows: [emptyRow, ...current.rows],\r\n        players: current.players,\r\n      }));\r\n      showSuccessMessage('Riga aggiunta');\r\n    } catch (error) {\r\n      showErrorMessage('Errore aggiunta riga');\r\n    }\r\n  }\r\n\r\n  async function addMultipleRows() {\r\n    let index = data.rows.length + 1;\r\n    for (let ii = 0; ii < newRowsNumber; ii++) {\r\n      await addRow(index);\r\n      index++;\r\n    }\r\n    setNewRowsNumber(0);\r\n  }\r\n\r\n  async function deleteRow() {\r\n    try {\r\n      setIsLoading({\r\n        state: true,\r\n        message: selectedRows.length > 1 ? 'Cancellazione righe in corso' : 'Cancellazione riga in corso',\r\n      });\r\n      // Devo ripristinare i giocatori eliminati\r\n      let players: PlayerDTO[] = [];\r\n      selectedRows.forEach((e) => {\r\n        if (e.player1 && e.player1.id) players.push(e.player1);\r\n        if (e.player2 && e.player2.id) players.push(e.player2);\r\n      });\r\n      if (players)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...players, ...current.players].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(selectedRows),\r\n      });\r\n      await response.json();\r\n\r\n      setData((current) => ({\r\n        rows: current.rows.filter((row) => !selectedRows.find((selectedRow) => selectedRow.id === row.id)),\r\n        players: current.players,\r\n      }));\r\n\r\n      showSuccessMessage(selectedRows.length > 1 ? 'Righe cancellate' : 'Riga cancellata');\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione riga');\r\n    }\r\n\r\n    setSelectedRows([]);\r\n  }\r\n\r\n  // update players list when a player is selected\r\n  function updateOptions(player: PlayerDTO, selected: PlayerDTO) {\r\n    if (player && player.id)\r\n      if (selected.id)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players.filter((e) => e.id !== selected.id), player].sort((e1, e2) =>\r\n            e1.alias.localeCompare(e2.alias)\r\n          ),\r\n        }));\r\n      else\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players, player].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n    else if (selected.id)\r\n      setData((current) => ({\r\n        rows: current.rows,\r\n        players: current.players.filter((e: { id: any }) => e.id !== selected.id),\r\n      }));\r\n  }\r\n  // Aggiorno la colonna con il giocatore selezionato\r\n  const onSelect = (selectedElement: PlayerDTO, rowIndex: number, columnIndex: number) => {\r\n    const newRowsElement = data.rows.map((rowElement: { id: any }) => {\r\n      if (rowElement.id === rowIndex) {\r\n        let row: any = rowElement;\r\n        if (columnIndex === 1) {\r\n          if (selectedElement.id && row.player2 && row.player2.id === selectedElement.id) {\r\n            // Devo salvare l'elemnto che sto per sostituire\r\n            row.player1 = getEmptyPlayer();\r\n            showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n          } else {\r\n            // Aggiorno la lista dei giocatori disponibili prima di aggiornare i dati\r\n            updateOptions(row.player1, selectedElement);\r\n            row.player1 = selectedElement;\r\n          }\r\n        } else {\r\n          if (selectedElement.id && row.player1 && row.player1.id === selectedElement.id) {\r\n            row.player2 = getEmptyPlayer();\r\n            showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n          } else {\r\n            updateOptions(row.player2, selectedElement);\r\n            row.player2 = selectedElement;\r\n          }\r\n        }\r\n        // update Db. Non aspetto la risposta...\r\n        fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        return row;\r\n      } else return rowElement;\r\n    });\r\n    setData((current) => ({\r\n      rows: newRowsElement,\r\n      players: current.players,\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (row: PairDTO, isSelected: boolean) => {\r\n    setSelectedRows((selectedRows) => {\r\n      const found = selectedRows.find((e) => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter((e) => e.id !== row.id) : selectedRows;\r\n      }\r\n    });\r\n  };\r\n\r\n  const confirmPairs = async () => {\r\n    if (!tournament.id) {\r\n      showErrorMessage('Id torneo mancante. Verrai inviato alla Home tra 5 secondi....');\r\n      setTimeout(() => currentHistory.push('/'), 5000);\r\n    }\r\n\r\n    // Controllo che sia presente almeno una coppia\r\n    if (data.rows.length < 4) {\r\n      showErrorMessage('Numero di coppie insufficente. Devi formare almeno 4 coppie');\r\n      return;\r\n    }\r\n    // Controllo gironi non assegnati\r\n    const missingStage1Name = data.rows\r\n      .filter((e: { stage1Name: string }) => !e.stage1Name || e.stage1Name === '')\r\n      .map((e) => e.rowNumber);\r\n    if (missingStage1Name.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  ${\r\n          missingStage1Name.length === 1 ? 'la riga ' : 'le righe '\r\n        } ${missingStage1Name} ad un girone per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo coppie non assegnate\r\n    const missingPairs = data.rows\r\n      .filter((e) => !e.player1 || !e.player1.id || !e.player2 || !e.player2.id)\r\n      .map((e) => e.rowNumber);\r\n    if (missingPairs.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  i giocatori ${\r\n          missingPairs.length === 1 ? 'alla riga ' : 'alle righe '\r\n        } ${missingPairs} per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo che non ci siano gironi con meno di 1 coppia ( meglio spostare 3 )\r\n    const MIN_PAIR_PER_STAGE = 3;\r\n    let invalidStage = [];\r\n    const pairsInStage = data.rows.reduce((allNames: { [x: string]: number }, row: { stage1Name: string }) => {\r\n      if (row.stage1Name in allNames) allNames[row.stage1Name]++;\r\n      else allNames[row.stage1Name] = 1;\r\n      return allNames;\r\n    }, {});\r\n    for (let stageName in pairsInStage) {\r\n      if (pairsInStage[stageName] <= MIN_PAIR_PER_STAGE) invalidStage.push(stageName);\r\n    }\r\n    if (invalidStage.length > 0) {\r\n      showErrorMessage(\r\n        invalidStage.length === 1\r\n          ? `Il torneo ${invalidStage} deve contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n          : `I torneI ${invalidStage} devono contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Se sono un utente che puo modificare e il torneo è in una fase minore ( vedi ordinamento Enum ) di quella attuale\r\n    // allora aggiorno lo stato del torneo\r\n    if (session.isAdmin && tournament.progress < TournamentProgress.Stage1) {\r\n      tournament.progress = TournamentProgress.Stage1;\r\n      dispatch(TournamentAction.updateTournament.request({ model: tournament }));\r\n    }\r\n    // Go to Stage1\r\n    dispatch(PairAction.getPairs.request({ tId: tournament.id! }));\r\n    currentHistory.push('/stage1');\r\n  };\r\n\r\n  function goBack() {\r\n    currentHistory.push('/');\r\n  }\r\n\r\n  const selectRow: SelectRowProps<PairDTO> = {\r\n    mode: 'checkbox',\r\n    onSelect: handleSelect,\r\n    onSelectAll: (isSelected: boolean, rows: PairDTO[]) => setSelectedRows(isSelected ? rows : []),\r\n    style: { backgroundColor: '#c8e6c9' },\r\n  };\r\n\r\n  const processDeleteStage1 = async () => {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Cancellazione in corso' });\r\n      const response = await fetch('/api/v1/stage1', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ tId: tournament.id }),\r\n      });\r\n      await response.json();\r\n      // Update tournament progress\r\n      if (session.isAdmin && tournament.progress < TournamentProgress.Stage1) {\r\n        tournament.progress = TournamentProgress.PairsSelection;\r\n        dispatch(TournamentAction.updateTournament.request({ model: tournament }));\r\n      }\r\n      showSuccessMessage('Cancellazione completata');\r\n      setAskUser(hideAskUser);\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione Fase 1');\r\n    }\r\n  };\r\n\r\n  function deleteStage1() {\r\n    if (tournament.progress > TournamentProgress.Stage1) {\r\n      showErrorMessage('Non è possibile cancellare in quanto il torneo è gia alla fase 2');\r\n      return;\r\n    }\r\n    // Chiedo conferma all'utente\r\n    setAskUser({\r\n      message: 'Vuoi resettare i gironi ? ',\r\n      onClick: () => processDeleteStage1(),\r\n      onHide: () => setAskUser(hideAskUser),\r\n      show: true,\r\n      title: 'Reset Gironi',\r\n    });\r\n  }\r\n\r\n  async function setStage1Name() {\r\n    if (!stage1Number) {\r\n      showErrorMessage('Specificare il numero di gironi da assegnare');\r\n      return;\r\n    }\r\n\r\n    if (tournament.progress === TournamentProgress.Stage1 || tournament.progress === TournamentProgress.Stage2) {\r\n      showErrorMessage('Non riassegnare i gironi in quanto le coppie sono gia state confermate per la fase successiva');\r\n      return;\r\n    }\r\n\r\n    setIsLoading({ state: true, message: 'Aggiornamento in corso ' });\r\n    let current = 0;\r\n    const names = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\r\n    let newRows: any[] = [];\r\n    for (let index in data.rows) {\r\n      let row = data.rows[index];\r\n      // FIXME: if (current === stage1Number) QUESTO NON FUNZIONA ===\r\n      // eslint-disable-next-line eqeqeq\r\n      if (current == stage1Number) current = 0;\r\n      row['stage1Name'] = names[current];\r\n      current++;\r\n      try {\r\n        fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        newRows.push(row);\r\n      } catch (error) {\r\n        showErrorMessage('Errore');\r\n        newRows.push(row);\r\n      }\r\n    }\r\n    showSuccessMessage('Gironi assegnati correttamente');\r\n    setData((current) => ({ rows: newRows, players: current.players }));\r\n  }\r\n\r\n  console.log('availableRows : ', data.rows);\r\n  const availableRows = Math.floor(\r\n    Math.floor((data.players.length - 1) / 2) -\r\n      (data.rows.length === 0\r\n        ? 0\r\n        : data.rows.reduce((accumulator: number, e) => {\r\n            if ((!e.player1 && !e.player2) || (!e.player1?.id && !e.player2?.id)) return accumulator + 1;\r\n            if (!e.player1 || !e.player1.id || !e.player2 || !e.player2.id) return accumulator + 0.5;\r\n            return accumulator;\r\n          }, 0))\r\n  );\r\n\r\n  const deleteDisabled =\r\n    !(selectedRows.length > 0) || tournament.progress === 'Stage1' || tournament.progress === 'Stage2';\r\n\r\n  /*\r\n  let deleteTooltipMessage = '';\r\n  if (!(selectedRows.length > 0)) deleteTooltipMessage = 'Seleziona almeno una riga';\r\n  else if (tournament.progress === 'Stage1' || tournament.progress === 'Stage2')\r\n    deleteTooltipMessage = 'Devi prima resettare i gironi per poter cancellare delle coppie';\r\n  else deleteTooltipMessage = 'Cancella le coppie selezionate';\r\n*/\r\n  //console.log('render table : ', players, pairs);\r\n\r\n  const assignMatches = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Assegna gironi</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        placeholder={\r\n          data.rows.length < 4\r\n            ? 'Inserisci almeno 4 coppie'\r\n            : `Numero di gironi ( max ${Math.floor(data.rows.length / 4)} )`\r\n        }\r\n        aria-label=\"Numero di gironi\"\r\n        type=\"number\"\r\n        step={1}\r\n        min={0}\r\n        max={Math.floor(data.rows.length / 4)}\r\n        value={stage1Number}\r\n        onChange={(event: React.FormEvent<FormEventType>) => setStage1Number(Number(event.currentTarget.value))}\r\n        disabled={\r\n          data.rows.length < 4 ||\r\n          tournament.progress === TournamentProgress.Stage1 ||\r\n          tournament.progress === TournamentProgress.Stage2\r\n        }\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={setStage1Name}\r\n          disabled={!stage1Number || stage1Number > Math.floor(data.rows.length / 4) || data.rows.length < 4}\r\n        >\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const addPairs = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Aggiungi coppie</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        disabled={availableRows <= 0}\r\n        type=\"number\"\r\n        step={1}\r\n        min={1}\r\n        max={availableRows}\r\n        placeholder={\r\n          availableRows <= 0\r\n            ? 'Numero massimo di coppie gia creato'\r\n            : `Numero di coppie da aggiungere ( max ${availableRows} )`\r\n        }\r\n        aria-label=\"Numero di coppie\"\r\n        onChange={(event: React.FormEvent<FormEventType>) => setNewRowsNumber(Number(event.currentTarget.value))}\r\n        value={newRowsNumber || ''}\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={(e: any) => setNewRowsNumber(availableRows)}\r\n          disabled={newRowsNumber > availableRows}\r\n        >\r\n          Max\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={addMultipleRows} disabled={!newRowsNumber || newRowsNumber > availableRows}>\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const toolsBar = () => (\r\n    <Col className={commonStyle.toolsBarContainer}>\r\n      <div className={commonStyle.toolsBar}>\r\n        <Button variant=\"secondary\" className=\"float-left align-middle\" onClick={goBack}>\r\n          Home\r\n        </Button>\r\n        <Button\r\n          variant=\"success\"\r\n          className=\"align-middle\"\r\n          onClick={() => addRow()}\r\n          disabled={availableRows <= 0 || !session.isAdmin}\r\n        >\r\n          <PlusIcon /> Aggiungi Coppia\r\n        </Button>\r\n        <Button\r\n          variant=\"danger\"\r\n          className=\"align-middle\"\r\n          onClick={deleteRow}\r\n          disabled={deleteDisabled || !session.isAdmin}\r\n        >\r\n          <TrashIcon /> Elimina Coppia\r\n        </Button>\r\n        <Button variant=\"danger\" className=\"align-middle\" onClick={deleteStage1} disabled={!session.isAdmin}>\r\n          Reset gironi\r\n        </Button>\r\n        <Button\r\n          variant=\"outline-warning\"\r\n          className=\"default-color-white float-right align-middle\"\r\n          onClick={confirmPairs}\r\n          disabled={!session.isAdmin}\r\n        >\r\n          <b>Prosegui </b> <RightArrowIcon />\r\n        </Button>\r\n      </div>\r\n      {session.isAdmin ? (\r\n        <>\r\n          {assignMatches()}\r\n          {addPairs()}\r\n        </>\r\n      ) : null}\r\n    </Col>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <YesNoModal message={askUser.message} title={askUser.title} onClick={askUser.onClick} show={askUser.show} />\r\n      <LoadingModal show={isLoading.state} message={isLoading.message} />\r\n      <Col>\r\n        <Row>{toolsBar()}</Row>\r\n        <Row>\r\n          <Col>\r\n            {data.rows && data.players ? (\r\n              <BootstrapTable\r\n                bootstrap4\r\n                keyField=\"id\"\r\n                data={data.rows}\r\n                columns={columns(onSelect, data.players) as ColumnDescription<PairDTO>[]}\r\n                cellEdit={cellEditProps(session.isAdmin)}\r\n                selectRow={selectRow}\r\n                noDataIndication={() => (\r\n                  <NoData\r\n                    isEditable={session.isAdmin || false}\r\n                    addRow={() => addRow()}\r\n                    optionsLength={data.players.length}\r\n                  />\r\n                )}\r\n                caption={<TableHeader />}\r\n                headerClasses=\"default-background default-color-yellow\"\r\n                striped\r\n                hover\r\n              />\r\n            ) : null}\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(PairsTable);\r\n"],"sourceRoot":""}