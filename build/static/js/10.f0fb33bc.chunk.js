(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[10],{1298:function(e,t,n){"use strict";var a=n(8),r=n(3),c=n(11),o=n.n(c),l=n(0),s=n.n(l),i=n(33),u=n(14),d=Object(i.a)("input-group-append"),b=Object(i.a)("input-group-prepend"),j=Object(i.a)("input-group-text",{Component:"span"}),p=s.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.size,l=e.className,i=e.as,d=void 0===i?"div":i,b=Object(a.a)(e,["bsPrefix","size","className","as"]);return n=Object(u.a)(n,"input-group"),s.a.createElement(d,Object(r.a)({ref:t},b,{className:o()(l,n,c&&n+"-"+c)}))}));p.displayName="InputGroup";var O=Object(r.a)({},p,{Text:j,Radio:function(e){return s.a.createElement(j,null,s.a.createElement("input",Object(r.a)({type:"radio"},e)))},Checkbox:function(e){return s.a.createElement(j,null,s.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},Append:d,Prepend:b});t.a=O},1311:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(6),c=n.n(r),o=n(23),l=n(302),s=n(2),i=n(0),u=n.n(i),d=n(22),b=n(38),j=n(10),p=n(514),O=n.n(p),f=n(73),m=n(1298),h=n(323),x=n(103),v=n(49),g=function(e){var t,n,a,r=e.onClick,c=e.name,o=e.isWinner,l=e.span,i=e.rowIndex,u=e.colIndex,d=e.pair,b=e.buttonDisabled,j=e.isLast,p=e.renderCustomComponent;return a=j?Object(s.jsx)(v.r,{size:"lg",color:"gold"}):o?Object(s.jsx)(v.c,{size:"lg",color:"green"}):Object(s.jsx)(v.a,{size:"1x",color:"red"}),Object(s.jsx)("td",{rowSpan:l,className:i%2===0?[O.a.cell,O.a.borderBottom].join(" "):O.a.cell,children:Object(s.jsxs)(m.a,{className:O.a.container,children:[Object(s.jsx)(m.a.Prepend,{className:O.a.prepend,children:Object(s.jsx)(m.a.Text,{children:i})}),p?p(i,u,j,d):Object(s.jsx)(h.a,{placeholder:"Username"+u,value:d?"".concat(null===(t=d.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=d.player2)||void 0===n?void 0:n.name):c,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),Object(s.jsx)(m.a.Append,{children:Object(s.jsx)(x.a,{disabled:b,className:O.a.append,onClick:function(e){return r(e,i,u,!o)},children:a})})]})})},y=n(146),_=n(376),C=n(424),w=u.a.forwardRef((function(e,t){var n=e.getOptionLabel,a=e.styles,r=e.rowIndex,c=e.options,o=e.onChange,u=e.defaultValue,d=Object(i.useState)(),b=Object(l.a)(d,2),j=b[0],p=b[1];return Object(s.jsx)(_.a,{defaultValue:u,components:C.f,styles:a,options:c,onChange:function(e,t){p(e),o&&o(e,r,t)},getOptionLabel:n,value:j,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),N=function(e){var t=e.onClick,n=e.elements,a=e.pairsSelect,r=e.rowNumber,c=void 0===r?64:r,o=e.onSelectPair,l=Object(y.b)(2,c)+1,i=function(e,t,n,a,r,c){for(var o=[],l=new Array(n).fill(0),i=function(e){for(var t=[NaN,Object(f.b)(2,e)+1],n=1,a=1;a<=e;a++)if(!t[a]){t[a]=n;for(var r=Math.pow(2,n),c=1;a+r*c<e+1;c++)t[a+r*c]=n;n++}return t}(t),u=function(e,t,n,a){var o={container:function(e){return Object(j.a)(Object(j.a)({},e),{},{flex:"1 1 auto"})},option:function(e){return Object(j.a)(Object(j.a)({},e),{},{zIndex:6})},menuList:function(e){return Object(j.a)(Object(j.a)({},e),{},{flex:"1 1 auto",zIndex:5,height:"auto"})}},l=function(e){var t,n;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(t=e.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=e.player2)||void 0===n?void 0:n.name," ")):"-"};return console.log("Render stage2 select :",e,t,n,a),Object(s.jsx)(w,{styles:o,defaultValue:a,options:r,rowIndex:e,onChange:c,getOptionLabel:l})},d=1;d<=t;d++){for(var b=[],p=0;p<i[d];p++){l[p]+=1;var m=e[p]?e[p][l[p]-1]:{name:"",isWinner:!1,matchId:0,cellRowIndex:0,cellColIndex:0,parentId:0};b.push(Object(s.jsx)(g,Object(j.a)({renderCustomComponent:0===p?u:void 0,span:Math.pow(2,p),rowIndex:l[p],colIndex:p+1,onClick:a,buttonDisabled:I(l[p],p,e),isLast:1===e[p].length},m),"cell : ".concat(p,"-").concat(l[p]-1)))}o.push(Object(s.jsx)("tr",{className:O.a.row,children:b},"row : ".concat(d)))}return o}(n,c,l,t,a,o),u=function(e){for(var t=[],n=1;n<=e;n++)t.push(Object(s.jsx)("td",{className:O.a.headerCell,style:{width:"".concat(100/e,"%")},children:Object(s.jsx)("strong",{children:"Stage-".concat(n)})},"header ".concat(n)));return t}(l);return Object(s.jsxs)("table",{className:O.a.table,children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:u})}),Object(s.jsx)("tbody",{className:O.a.body,children:i})]})};var I=function(e,t,n){return n[t]&&1===n[t].length||(e%2!==0?!n[t][e-1].pair||n[t][e]&&!n[t][e].pair:!n[t][e-1].pair||n[t][e-2]&&!n[t][e-2].pair)},S=n(144),k=n(195),L=n(335),B=n.n(L),z=n(74),R=n(13),E=n(75),q=n(357),A=n(104);t.default=Object(d.i)((function(){var e=Object(d.g)(),t=Object(b.c)(),n=Object(b.d)(z.e.getCells),r=Object(b.d)(z.e.getRowsNumber),u=Object(b.d)(z.e.isLoading),j=Object(b.d)(z.f.getTournament),p=Object(i.useState)(),O=Object(l.a)(p,2),f=O[0],m=O[1];Object(i.useEffect)((function(){Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R.e.setLoading(!0)),e.next=3,Object(A.b)(j.id);case 3:n=e.sent,m(n.pairs),t(R.e.setLoading(!1));case 6:case"end":return e.stop()}}),e)})))()}),[j.id]);return n&&f&&r?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S.a,{className:B.a.toolsBarContainer,children:Object(s.jsx)(k.a,{className:B.a.toolsBarRow,children:Object(s.jsx)(S.a,{children:Object(s.jsxs)(x.a,{variant:"secondary",className:"float-left",onClick:function(){e.push("/stage1")},children:[Object(s.jsx)(v.h,{})," Indietro"]})})})}),Object(s.jsx)(q.a,{}),Object(s.jsx)(N,{pairsSelect:f,onClick:function(e,r,c,o){var l=Object(a.a)(n),s=null,i=null,u=null;r%2!==0?(s=l[c-1][r-1],i=l[c-1][r]):(s=l[c-1][r-1],i=l[c-1][r-2]),u=l[c][s.matchId-1],console.log(" onClick : ",s,i,u),s.isWinner=o,i.isWinner=!o,u&&(u.pair=o?s.pair:i.pair),t(R.e.updateCell.request({cell1:s,cell2:i})),t(R.e.setCells(l)),1===l[c].length&&t(R.e.updateCell.request({cell1:u,cell2:null}))},rowNumber:r,elements:n,onSelectPair:function(e,r,c){if(f){var o=Object(a.a)(n),l=e,s=o[0][r-1].pair,i=Object(a.a)(f);l&&l.id&&(i=i.filter((function(e){return e.id!==l.id}))),s&&s.id&&(i=[].concat(Object(a.a)(i),[s])),m(i),o[0][r-1].pair=l,t(R.e.setCells(o)),t(R.e.updateCell.request({cell1:o[0][r-1],cell2:null}))}}})]}):Object(s.jsx)(E.LoadingModal,{show:u})}))},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(140);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(s){r=!0,c=s}finally{try{a||null==l.return||l.return()}finally{if(r)throw c}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},335:function(e,t,n){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}},357:function(e,t,n){"use strict";var a=n(2),r=(n(0),n(74)),c=n(38),o=n(195),l=n(144),s=n(295),i=n(99),u=n(299);t.a=function(){var e=Object(c.d)(r.f.getTournament),t=Object(u.a)(["tournament"]).t;return Object(a.jsx)(o.a,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)("h2",{className:"float-left",children:Object(a.jsxs)(s.a,{variant:"info",children:[Object(a.jsxs)("span",{children:[t("tournament:".concat(e.public?"public":"private","_tournament"))," "]}),Object(a.jsxs)("strong",{children:['"',e.name.toUpperCase(),'"']}),Object(a.jsx)("span",{children:Object(a.jsxs)("i",{children:[" - ".concat(Object(i.a)(e.date)," "),Object(a.jsxs)("small",{children:[" @ ",t("tournament:progress.".concat(e.progress))]}),null]})})]})})})})}},514:function(e,t,n){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}}}]);
//# sourceMappingURL=10.f0fb33bc.chunk.js.map