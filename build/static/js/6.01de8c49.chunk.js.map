{"version":3,"sources":["components/core/icons.tsx","../node_modules/@fortawesome/react-fontawesome/index.es.js","common.module.css","components/Player/helper.js","../node_modules/react-bootstrap/esm/InputGroup.js","components/Pair/header.tsx","components/Pair/noData.tsx","components/Player/select.tsx","components/Pair/editor.js","components/Pair/table.tsx"],"names":["Icon","size","prefix","iconName","color","icon","findIconDefinition","TrashIcon","SaveIcon","RightArrowIcon","LeftArrowIcon","TimesIcon","ToggleOn","ToggleOff","PlusIcon","TrophyIcon","DoubleRightIcon","BanIcon","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","call","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","TypeError","_nonIterableSpread","camelize","string","replace","match","chr","toUpperCase","substr","toLowerCase","styleToObject","style","split","map","s","trim","reduce","acc","pair","val","prop","slice","startsWith","charAt","PRODUCTION","process","e","normalizeIconArgs","objectWithKey","FontAwesomeIcon","_ref","forwardedRef","props","iconArgs","maskArgs","mask","symbol","className","title","iconLookup","classes","concat","_classes","spin","pulse","fixedWidth","inverse","border","listItem","flip","rotation","pull","swapOpacity","classList","transform","parse","renderedIcon","_console","console","error","log","abstract","extraProps","ref","defaultProps","hasOwnProperty","convertCurry","displayName","propTypes","PropTypes","bool","oneOfType","array","oneOf","convert","createElement","element","undefined","children","child","mixins","attributes","attrs","_extraProps$style","existingStyle","remaining","tag","bind","React","module","exports","nameFilter","surnameFilter","aliasFilter","roleFilter","emailFilter","phoneFilter","clearAllFilter","playerColumns","isEditable","dataField","text","editable","headerStyle","column","colIndex","width","headerClasses","autoSelectText","textFilter","placeholder","getFilter","selectFilter","options","PlayerRole","GoalKeeper","Striker","Master","editor","type","Type","SELECT","getOptions","_","label","hidden","valueFormatter","selectedOption","alias","surname","name","InputGroupAppend","createWithBsPrefix","InputGroupPrepend","InputGroupText","Component","InputGroup","forwardRef","bsPrefix","_ref$as","as","useBootstrapPrefix","_extends","classNames","InputGroupWithExtras","Text","Radio","Checkbox","Append","Prepend","TableHeader","tournament","useSelector","TournamentSelector","getTournament","translateTournamentProgress","progress","noData","addRow","optionsLength","players","diff","Button","variant","onClick","disabled","to","PlayerSelection","styles","row","columnIndex","onUpdate","onSelect","useState","setSelectedOption","onChange","actionMeta","id","isSearchable","isClearable","playerSelection","editorProps","rowIndex","customStyles","checkBoxProps","align","CHECKBOX","content","backgroundColor","columns","editorRenderer","hideAskUser","message","show","withRouter","currentHistory","useHistory","dispatch","useDispatch","session","SessionSelector","getSession","state","isLoading","setIsLoading","askUser","setAskUser","rows","data","setData","selectedRows","setSelectedRows","stage1Number","setStage1Number","newRowsNumber","setNewRowsNumber","showErrorMessage","toast","autoClose","showSuccessMessage","success","index","a","emptyRow","getEmptyRowModel","tId","fetch","method","headers","body","JSON","stringify","response","json","result","rowNumber","current","addMultipleRows","ii","deleteRow","player1","player2","sort","e1","e2","localeCompare","find","selectedRow","updateOptions","player","selected","useEffect","fetchData","confirmPairs","setTimeout","missingStage1Name","stage1Name","missingPairs","stageName","invalidStage","pairsInStage","allNames","MIN_PAIR_PER_STAGE","isAdmin","TournamentProgress","Stage1","TournamentAction","updateTournament","request","model","PairAction","getPairs","goBack","selectRow","mode","isSelected","found","onSelectAll","processDeleteStage1","PairsSelection","deleteStage1","onHide","setStage1Name","Stage2","names","newRows","availableRows","Math","floor","accumulator","deleteDisabled","Col","Row","commonStyle","toolsBarContainer","toolsBar","FormControl","aria-label","step","min","max","event","Number","currentTarget","bootstrap4","keyField","selectedElement","newRowsElement","rowElement","getEmptyPlayer","cellEdit","cellEditFactory","blurToSave","afterSaveCell","oldValue","newValue","noDataIndication","caption","striped","hover"],"mappings":"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","file":"static/js/6.01de8c49.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { findIconDefinition, SizeProp, IconPrefix, IconName } from '@fortawesome/fontawesome-svg-core';\r\n\r\ninterface IconProps {\r\n  color?: string;\r\n  size?: SizeProp;\r\n}\r\n\r\ninterface AbstractIconProps extends IconProps {\r\n  prefix: IconPrefix;\r\n  iconName: IconName;\r\n}\r\n\r\nconst SOLID = 'fas';\r\nconst REGULAR = 'far';\r\n\r\n// Wrapper per icone FontAwesome\r\nconst Icon: React.FC<AbstractIconProps> = ({ size, prefix, iconName, color }) => (\r\n  <FontAwesomeIcon color={color} size={size} icon={findIconDefinition({ prefix, iconName })} />\r\n);\r\n\r\n// Regular\r\nexport const TrashIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"trash-alt\" />\r\n);\r\nexport const SaveIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"save\" />\r\n);\r\n\r\n// Solid\r\nexport const RightArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-right\" />\r\n);\r\nexport const LeftArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-left\" />\r\n);\r\nexport const TimesIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"times\" />\r\n);\r\nexport const ToggleOn: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-on\" />\r\n);\r\nexport const ToggleOff: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-off\" />\r\n);\r\nexport const PlusIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"plus\" />\r\n);\r\nexport const TrophyIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"trophy\" />\r\n);\r\nexport const DoubleRightIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"angle-double-right\" />\r\n);\r\nexport const BanIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"ban\" />\r\n);\r\n","import { parse, icon } from '@fortawesome/fontawesome-svg-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// Get CSS class list from a props object\nfunction classList(props) {\n  var _classes;\n\n  var spin = props.spin,\n      pulse = props.pulse,\n      fixedWidth = props.fixedWidth,\n      inverse = props.inverse,\n      border = props.border,\n      listItem = props.listItem,\n      flip = props.flip,\n      size = props.size,\n      rotation = props.rotation,\n      pull = props.pull; // map of CSS class names to properties\n\n  var classes = (_classes = {\n    'fa-spin': spin,\n    'fa-pulse': pulse,\n    'fa-fw': fixedWidth,\n    'fa-inverse': inverse,\n    'fa-border': border,\n    'fa-li': listItem,\n    'fa-flip-horizontal': flip === 'horizontal' || flip === 'both',\n    'fa-flip-vertical': flip === 'vertical' || flip === 'both'\n  }, _defineProperty(_classes, \"fa-\".concat(size), typeof size !== 'undefined' && size !== null), _defineProperty(_classes, \"fa-rotate-\".concat(rotation), typeof rotation !== 'undefined' && rotation !== null && rotation !== 0), _defineProperty(_classes, \"fa-pull-\".concat(pull), typeof pull !== 'undefined' && pull !== null), _defineProperty(_classes, 'fa-swap-opacity', props.swapOpacity), _classes); // map over all the keys in the classes object\n  // return an array of the keys where the value for the key is not null\n\n  return Object.keys(classes).map(function (key) {\n    return classes[key] ? key : null;\n  }).filter(function (key) {\n    return key;\n  });\n}\n\n// Camelize taken from humps\n// humps is copyright © 2012+ Dom Christie\n// Released under the MIT license.\n// Performant way to determine if object coerces to a number\nfunction _isNumerical(obj) {\n  obj = obj - 0; // eslint-disable-next-line no-self-compare\n\n  return obj === obj;\n}\n\nfunction camelize(string) {\n  if (_isNumerical(string)) {\n    return string;\n  } // eslint-disable-next-line no-useless-escape\n\n\n  string = string.replace(/[\\-_\\s]+(.)?/g, function (match, chr) {\n    return chr ? chr.toUpperCase() : '';\n  }); // Ensure 1st char is always lowercase\n\n  return string.substr(0, 1).toLowerCase() + string.substr(1);\n}\n\nfunction capitalize(val) {\n  return val.charAt(0).toUpperCase() + val.slice(1);\n}\n\nfunction styleToObject(style) {\n  return style.split(';').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s;\n  }).reduce(function (acc, pair) {\n    var i = pair.indexOf(':');\n    var prop = camelize(pair.slice(0, i));\n    var value = pair.slice(i + 1).trim();\n    prop.startsWith('webkit') ? acc[capitalize(prop)] = value : acc[prop] = value;\n    return acc;\n  }, {});\n}\n\nfunction convert(createElement, element) {\n  var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof element === 'string') {\n    return element;\n  }\n\n  var children = (element.children || []).map(function (child) {\n    return convert(createElement, child);\n  });\n  /* eslint-disable dot-notation */\n\n  var mixins = Object.keys(element.attributes || {}).reduce(function (acc, key) {\n    var val = element.attributes[key];\n\n    switch (key) {\n      case 'class':\n        acc.attrs['className'] = val;\n        delete element.attributes['class'];\n        break;\n\n      case 'style':\n        acc.attrs['style'] = styleToObject(val);\n        break;\n\n      default:\n        if (key.indexOf('aria-') === 0 || key.indexOf('data-') === 0) {\n          acc.attrs[key.toLowerCase()] = val;\n        } else {\n          acc.attrs[camelize(key)] = val;\n        }\n\n    }\n\n    return acc;\n  }, {\n    attrs: {}\n  });\n\n  var _extraProps$style = extraProps.style,\n      existingStyle = _extraProps$style === void 0 ? {} : _extraProps$style,\n      remaining = _objectWithoutProperties(extraProps, [\"style\"]);\n\n  mixins.attrs['style'] = _objectSpread2({}, mixins.attrs['style'], {}, existingStyle);\n  /* eslint-enable */\n\n  return createElement.apply(void 0, [element.tag, _objectSpread2({}, mixins.attrs, {}, remaining)].concat(_toConsumableArray(children)));\n}\n\nvar PRODUCTION = false;\n\ntry {\n  PRODUCTION = process.env.NODE_ENV === 'production';\n} catch (e) {}\n\nfunction log () {\n  if (!PRODUCTION && console && typeof console.error === 'function') {\n    var _console;\n\n    (_console = console).error.apply(_console, arguments);\n  }\n}\n\n// Normalize icon arguments\nfunction normalizeIconArgs(icon) {\n  // if the icon is null, there's nothing to do\n  if (icon === null) {\n    return null;\n  } // if the icon is an object and has a prefix and an icon name, return it\n\n\n  if (_typeof(icon) === 'object' && icon.prefix && icon.iconName) {\n    return icon;\n  } // if it's an array with length of two\n\n\n  if (Array.isArray(icon) && icon.length === 2) {\n    // use the first item as prefix, second as icon name\n    return {\n      prefix: icon[0],\n      iconName: icon[1]\n    };\n  } // if it's a string, use it as the icon name\n\n\n  if (typeof icon === 'string') {\n    return {\n      prefix: 'fas',\n      iconName: icon\n    };\n  }\n}\n\n// creates an object with a key of key\n// and a value of value\n// if certain conditions are met\nfunction objectWithKey(key, value) {\n  // if the value is a non-empty array\n  // or it's not an array but it is truthy\n  // then create the object with the key and the value\n  // if not, return an empty array\n  return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? _defineProperty({}, key, value) : {};\n}\n\nfunction FontAwesomeIcon(_ref) {\n  var forwardedRef = _ref.forwardedRef,\n      props = _objectWithoutProperties(_ref, [\"forwardedRef\"]);\n\n  var iconArgs = props.icon,\n      maskArgs = props.mask,\n      symbol = props.symbol,\n      className = props.className,\n      title = props.title;\n  var iconLookup = normalizeIconArgs(iconArgs);\n  var classes = objectWithKey('classes', [].concat(_toConsumableArray(classList(props)), _toConsumableArray(className.split(' '))));\n  var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n  var mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n  var renderedIcon = icon(iconLookup, _objectSpread2({}, classes, {}, transform, {}, mask, {\n    symbol: symbol,\n    title: title\n  }));\n\n  if (!renderedIcon) {\n    log('Could not find icon', iconLookup);\n    return null;\n  }\n\n  var abstract = renderedIcon.abstract;\n  var extraProps = {\n    ref: forwardedRef\n  };\n  Object.keys(props).forEach(function (key) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (!FontAwesomeIcon.defaultProps.hasOwnProperty(key)) {\n      extraProps[key] = props[key];\n    }\n  });\n  return convertCurry(abstract[0], extraProps);\n}\nFontAwesomeIcon.displayName = 'FontAwesomeIcon';\nFontAwesomeIcon.propTypes = {\n  border: PropTypes.bool,\n  className: PropTypes.string,\n  mask: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  fixedWidth: PropTypes.bool,\n  inverse: PropTypes.bool,\n  flip: PropTypes.oneOf(['horizontal', 'vertical', 'both']),\n  icon: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.string]),\n  listItem: PropTypes.bool,\n  pull: PropTypes.oneOf(['right', 'left']),\n  pulse: PropTypes.bool,\n  rotation: PropTypes.oneOf([0, 90, 180, 270]),\n  size: PropTypes.oneOf(['lg', 'xs', 'sm', '1x', '2x', '3x', '4x', '5x', '6x', '7x', '8x', '9x', '10x']),\n  spin: PropTypes.bool,\n  symbol: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  swapOpacity: PropTypes.bool\n};\nFontAwesomeIcon.defaultProps = {\n  border: false,\n  className: '',\n  mask: null,\n  fixedWidth: false,\n  inverse: false,\n  flip: null,\n  icon: null,\n  listItem: false,\n  pull: null,\n  pulse: false,\n  rotation: null,\n  size: null,\n  spin: false,\n  symbol: false,\n  title: '',\n  transform: null,\n  swapOpacity: false\n};\nvar convertCurry = convert.bind(null, React.createElement);\n\nexport { FontAwesomeIcon };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"functionsList\":\"common_functionsList__3B3UB\",\"toolsBarContainer\":\"common_toolsBarContainer__1nanA\",\"toolsBarRow\":\"common_toolsBarRow__r8q12\"};","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport { getEmptyPlayer } from 'services/player.service';\r\nimport { PlayerRole } from '../../models/player.model';\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  emailFilter('');\r\n  phoneFilter('');\r\n}\r\n\r\n// Columns default\r\nconst playerColumns = (isEditable) => [\r\n  { dataField: 'id', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (nameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (surnameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (aliasFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isEditable ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: {\r\n        [PlayerRole.GoalKeeper]: PlayerRole.GoalKeeper,\r\n        [PlayerRole.Striker]: PlayerRole.Striker,\r\n        [PlayerRole.Master]: PlayerRole.Master,\r\n      },\r\n      getFilter: (filter) => (roleFilter = filter),\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: (_) => {\r\n        return [\r\n          { value: PlayerRole.GoalKeeper, label: PlayerRole.GoalKeeper },\r\n          { value: PlayerRole.Striker, label: PlayerRole.Striker },\r\n          { value: PlayerRole.Master, label: PlayerRole.Master },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: 'Email',\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (emailFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: 'Telefono',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (phoneFilter = filter),\r\n    }),\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true },\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = (props) => (\r\n  <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n    Esporta in CSV\r\n  </Button>\r\n);\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n    const result = await response.json();\r\n    const model = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n    console.log('fetchPlayers.result : ', model);\r\n    setterFunction(model);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"size\", \"className\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size)\n  }));\n});\nInputGroup.displayName = 'InputGroup';\n\nvar InputGroupWithExtras = _extends({}, InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox,\n  Append: InputGroupAppend,\n  Prepend: InputGroupPrepend\n});\n\nexport default InputGroupWithExtras;","import React from 'react';\r\nimport { translateTournamentProgress } from '../core/utils';\r\nimport { useSelector } from 'react-redux';\r\nimport { TournamentSelector } from 'selectors/tournament.selector';\r\n\r\nconst TableHeader: React.FC<{}> = () => {\r\n  const tournament = useSelector(TournamentSelector.getTournament);\r\n  return tournament ? (\r\n    <h3>\r\n      <p>\r\n        <b>\r\n          \"<strong>{tournament?.name.toUpperCase()}</strong>\"\r\n          <small> @ {translateTournamentProgress(tournament!.progress)}</small>\r\n        </b>\r\n      </p>\r\n    </h3>\r\n  ) : null;\r\n};\r\n\r\nexport default TableHeader;\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface NoDataProps {\r\n  optionsLength: number;\r\n  isEditable: boolean;\r\n  addRow: () => void;\r\n}\r\n\r\n// Componente da mostrare se non sono presenti coppie\r\nconst noData: React.FC<NoDataProps> = ({ addRow, optionsLength, isEditable }) => {\r\n  const MIN_PLAYERS = 8;\r\n  const players = optionsLength - 1;\r\n  const diff = players < MIN_PLAYERS ? MIN_PLAYERS - players : 0;\r\n  if (!optionsLength) return null;\r\n  return players >= MIN_PLAYERS ? (\r\n    <>\r\n      <p> Aggiungi le coppie per questo torneo...</p>\r\n      <Button variant=\"success\" onClick={addRow} disabled={!isEditable}>\r\n        Aggiungi Coppia\r\n      </Button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <p>Ci sono solo {players} giocatori definiti ma devono essercene almeno 8 per poter formare un torneo.</p>\r\n      <p>{diff === 1 ? 'Devi creare un altro giocatore...' : `Devi creare almeno altri ${diff}`}</p>\r\n      <Link to={'/player'}>\r\n        <Button variant=\"success\">Gestione Giocatori</Button>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default noData;\r\n","import React, { useState } from 'react';\r\nimport Select, { Styles, ValueType, ActionMeta } from 'react-select';\r\nimport { valueFormatter } from './helper';\r\n// FIXME: import makeAnimated from 'react-select/animated';\r\nimport { PlayerDTO } from 'models';\r\n\r\nexport interface PlayerSelectProps {\r\n  styles?: Partial<Styles>;\r\n  options: PlayerDTO[];\r\n  columnIndex: number;\r\n  id: number;\r\n  onUpdate: any;\r\n  onSelect: any;\r\n  row: any;\r\n}\r\n\r\nconst PlayerSelection: React.FC<PlayerSelectProps> = React.forwardRef(\r\n  ({ styles, row, columnIndex, /*id,*/ onUpdate, onSelect, options }, ref) => {\r\n    const [selectedOption, setSelectedOption] = useState<PlayerDTO>();\r\n\r\n    const handleChange = (selectedOption: ValueType<PlayerDTO>, actionMeta: ActionMeta<PlayerDTO>) => {\r\n      // selectedOption.pairId = id;\r\n      setSelectedOption(selectedOption as PlayerDTO);\r\n      const value = valueFormatter(selectedOption);\r\n      onUpdate(value);\r\n      onSelect(selectedOption, row.id, columnIndex);\r\n    };\r\n\r\n    return (\r\n      <Select\r\n        styles={styles}\r\n        options={options}\r\n        onChange={handleChange}\r\n        value={selectedOption}\r\n        placeholder=\"Cerca...\"\r\n        isSearchable\r\n        isClearable\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\nimport { customStyles } from './helper';\r\n\r\nconst ALIGN_CENTER = 'center';\r\nconst YES = 'Si';\r\nconst NO = 'No';\r\n\r\nconst playerSelection = (editorProps, value, row, rowIndex, columnIndex, onSelect, options) => (\r\n  <PlayerSelect\r\n    {...editorProps}\r\n    id={columnIndex}\r\n    row={row}\r\n    rowIndex={rowIndex}\r\n    columnIndex={columnIndex}\r\n    value={value}\r\n    onSelect={onSelect}\r\n    options={options}\r\n    styles={customStyles}\r\n  />\r\n);\r\n\r\nconst checkBoxProps = {\r\n  align: () => ALIGN_CENTER,\r\n  headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n  editor: {\r\n    type: Type.CHECKBOX,\r\n    value: `${YES}:${NO}`,\r\n  },\r\n  style: (content, row, rowIndex, columnIndex) => (content !== NO ? { backgroundColor: '#ffbf47' } : null),\r\n};\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => ALIGN_CENTER },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => ALIGN_CENTER },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  { dataField: 'alias', text: 'Alias Coppia', headerStyle: (column, colIndex) => ({ width: '25%' }) },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => ALIGN_CENTER,\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map((e) => ({ value: e, label: e })),\r\n    },\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    ...checkBoxProps,\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    ...checkBoxProps,\r\n  },\r\n];\r\n\r\nexport const cellEditProps = (editable) =>\r\n  cellEditFactory({\r\n    mode: editable ? 'click' : 'none',\r\n    blurToSave: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n      if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n      (async () => {\r\n        const response = await fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        await response.json();\r\n      })();\r\n    },\r\n  });\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, InputGroup, FormControl, Row, Col } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { useHistory } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n// Components\r\nimport TableHeader from './header';\r\nimport NoData from './noData';\r\n// Core / Helper / Editor\r\nimport { LoadingModal, YesNoModal, YesNoModalProps } from '../core/generic/Commons';\r\nimport { FormEventType } from '../core/generic/CommonTypes';\r\nimport { RightArrowIcon, TrashIcon, PlusIcon } from '../core/icons';\r\nimport { cellEditProps, columns } from './editor';\r\nimport { fetchData, getEmptyRowModel } from './helper';\r\n// Style\r\nimport './style.css';\r\nimport commonStyle from '../../common.module.css';\r\n// Service\r\nimport { getEmptyPlayer } from 'services/player.service';\r\n// Selector\r\nimport { SessionSelector } from 'selectors/session.selector';\r\nimport { TournamentSelector } from 'selectors/tournament.selector';\r\n// Models\r\nimport { PairDTO, PlayerDTO } from 'models';\r\nimport { TournamentProgress } from 'models/tournament.model';\r\n// Action\r\nimport { TournamentAction, PairAction } from 'actions';\r\n\r\nconst hideAskUser = {\r\n  message: '',\r\n  onClick: () => console.log(''),\r\n  show: false,\r\n  title: '',\r\n};\r\nconst PairsTable = () => {\r\n  // Navigation\r\n  const currentHistory = useHistory();\r\n  const dispatch = useDispatch();\r\n  const session = useSelector(SessionSelector.getSession);\r\n  const tournament = useSelector(TournamentSelector.getTournament)!;\r\n\r\n  // States\r\n  // User messages\r\n  const [isLoading, setIsLoading] = useState({ state: false, message: 'Caricamento' });\r\n  const [askUser, setAskUser] = useState<YesNoModalProps>(hideAskUser);\r\n\r\n  // Data\r\n  const [data, setData] = useState({ rows: [] as PairDTO[], players: [] as PlayerDTO[] });\r\n  const [selectedRows, setSelectedRows] = useState<PairDTO[]>([]);\r\n  // Function params\r\n  const [stage1Number, setStage1Number] = useState<number>(0);\r\n  const [newRowsNumber, setNewRowsNumber] = useState<number>(0);\r\n\r\n  // Initial Fetch\r\n  useEffect(() => {\r\n    if (!tournament) return;\r\n    (async () => setData(await fetchData(tournament.id!)))();\r\n  }, [tournament]);\r\n\r\n  // User messages\r\n  function showErrorMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.error(message, { autoClose: 10000 });\r\n  }\r\n  function showSuccessMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.success(message);\r\n  }\r\n\r\n  async function addRow(index?: number) {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Aggiunta riga in corso' });\r\n      const emptyRow = getEmptyRowModel();\r\n      emptyRow.tId = tournament.id || 0;\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(emptyRow),\r\n      });\r\n      const result = await response.json();\r\n      emptyRow.id = result.id;\r\n      emptyRow.rowNumber = index || data.rows.length + 1;\r\n      setData((current) => ({\r\n        rows: [emptyRow, ...current.rows],\r\n        players: current.players,\r\n      }));\r\n      showSuccessMessage('Riga aggiunta');\r\n    } catch (error) {\r\n      showErrorMessage('Errore aggiunta riga');\r\n    }\r\n  }\r\n\r\n  async function addMultipleRows() {\r\n    let index = data.rows.length + 1;\r\n    for (let ii = 0; ii < newRowsNumber; ii++) {\r\n      await addRow(index);\r\n      index++;\r\n    }\r\n    setNewRowsNumber(0);\r\n  }\r\n\r\n  async function deleteRow() {\r\n    try {\r\n      setIsLoading({\r\n        state: true,\r\n        message: selectedRows.length > 1 ? 'Cancellazione righe in corso' : 'Cancellazione riga in corso',\r\n      });\r\n      // Devo ripristinare i giocatori eliminati\r\n      let players: PlayerDTO[] = [];\r\n      selectedRows.forEach((e) => {\r\n        if (e.player1 && e.player1.id) players.push(e.player1);\r\n        if (e.player2 && e.player2.id) players.push(e.player2);\r\n      });\r\n      if (players)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...players, ...current.players].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(selectedRows),\r\n      });\r\n      await response.json();\r\n\r\n      setData((current) => ({\r\n        rows: current.rows.filter((row) => !selectedRows.find((selectedRow) => selectedRow.id === row.id)),\r\n        players: current.players,\r\n      }));\r\n\r\n      showSuccessMessage(selectedRows.length > 1 ? 'Righe cancellate' : 'Riga cancellata');\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione riga');\r\n    }\r\n\r\n    setSelectedRows([]);\r\n  }\r\n\r\n  // update players list when a player is selected\r\n  function updateOptions(player: PlayerDTO, selected: PlayerDTO) {\r\n    if (player && player.id)\r\n      if (selected.id)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players.filter((e) => e.id !== selected.id), player].sort((e1, e2) =>\r\n            e1.alias.localeCompare(e2.alias)\r\n          ),\r\n        }));\r\n      else\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players, player].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n    else if (selected.id)\r\n      setData((current) => ({\r\n        rows: current.rows,\r\n        players: current.players.filter((e: { id: any }) => e.id !== selected.id),\r\n      }));\r\n  }\r\n  // Aggiorno la colonna con il giocatore selezionato\r\n  const onSelect = (selectedElement: PlayerDTO, rowIndex: number, columnIndex: number) => {\r\n    const newRowsElement = data.rows.map((rowElement: { id: any }) => {\r\n      if (rowElement.id === rowIndex) {\r\n        let row: any = rowElement;\r\n        if (columnIndex === 1) {\r\n          if (selectedElement.id && row.player2 && row.player2.id === selectedElement.id) {\r\n            // Devo salvare l'elemnto che sto per sostituire\r\n            row.player1 = getEmptyPlayer();\r\n            showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n          } else {\r\n            // Aggiorno la lista dei giocatori disponibili prima di aggiornare i dati\r\n            updateOptions(row.player1, selectedElement);\r\n            row.player1 = selectedElement;\r\n          }\r\n        } else {\r\n          if (selectedElement.id && row.player1 && row.player1.id === selectedElement.id) {\r\n            row.player2 = getEmptyPlayer();\r\n            showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n          } else {\r\n            updateOptions(row.player2, selectedElement);\r\n            row.player2 = selectedElement;\r\n          }\r\n        }\r\n        // update Db. Non aspetto la risposta...\r\n        fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        return row;\r\n      } else return rowElement;\r\n    });\r\n    setData((current) => ({\r\n      rows: newRowsElement,\r\n      players: current.players,\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (row: PairDTO, isSelected: boolean) => {\r\n    setSelectedRows((selectedRows) => {\r\n      const found = selectedRows.find((e) => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter((e) => e.id !== row.id) : selectedRows;\r\n      }\r\n    });\r\n  };\r\n\r\n  const confirmPairs = async () => {\r\n    if (!tournament.id) {\r\n      showErrorMessage('Id torneo mancante. Verrai inviato alla Home tra 5 secondi....');\r\n      setTimeout(() => currentHistory.push('/'), 5000);\r\n    }\r\n\r\n    // Controllo che sia presente almeno una coppia\r\n    if (data.rows.length < 4) {\r\n      showErrorMessage('Numero di coppie insufficente. Devi formare almeno 4 coppie');\r\n      return;\r\n    }\r\n    // Controllo gironi non assegnati\r\n    const missingStage1Name = data.rows\r\n      .filter((e: { stage1Name: string }) => !e.stage1Name || e.stage1Name === '')\r\n      .map((e) => e.rowNumber);\r\n    if (missingStage1Name.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  ${\r\n          missingStage1Name.length === 1 ? 'la riga ' : 'le righe '\r\n        } ${missingStage1Name} ad un girone per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo coppie non assegnate\r\n    const missingPairs = data.rows\r\n      .filter((e) => !e.player1 || !e.player1.id || !e.player2 || !e.player2.id)\r\n      .map((e) => e.rowNumber);\r\n    if (missingPairs.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  i giocatori ${\r\n          missingPairs.length === 1 ? 'alla riga ' : 'alle righe '\r\n        } ${missingPairs} per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo che non ci siano gironi con meno di 1 coppia ( meglio spostare 3 )\r\n    const MIN_PAIR_PER_STAGE = 3;\r\n    let invalidStage = [];\r\n    const pairsInStage = data.rows.reduce((allNames: { [x: string]: number }, row: { stage1Name: string }) => {\r\n      if (row.stage1Name in allNames) allNames[row.stage1Name]++;\r\n      else allNames[row.stage1Name] = 1;\r\n      return allNames;\r\n    }, {});\r\n    for (let stageName in pairsInStage) {\r\n      if (pairsInStage[stageName] <= MIN_PAIR_PER_STAGE) invalidStage.push(stageName);\r\n    }\r\n    if (invalidStage.length > 0) {\r\n      showErrorMessage(\r\n        invalidStage.length === 1\r\n          ? `Il torneo ${invalidStage} deve contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n          : `I torneI ${invalidStage} devono contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Se sono un utente che puo modificare e il torneo è in una fase minore ( vedi ordinamento Enum ) di quella attuale\r\n    // allora aggiorno lo stato del torneo\r\n    if (session.isAdmin && tournament.progress < TournamentProgress.Stage1) {\r\n      tournament.progress = TournamentProgress.Stage1;\r\n      dispatch(TournamentAction.updateTournament.request({ model: tournament }));\r\n    }\r\n    // Go to Stage1\r\n    dispatch(PairAction.getPairs.request({ tId: tournament.id! }));\r\n    currentHistory.push('/stage1');\r\n  };\r\n\r\n  function goBack() {\r\n    currentHistory.push('/');\r\n  }\r\n\r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    onSelect: handleSelect,\r\n    onSelectAll: (isSelected: boolean, rows: PairDTO[]) => setSelectedRows(isSelected ? rows : []),\r\n    style: { backgroundColor: '#c8e6c9' },\r\n  };\r\n\r\n  const processDeleteStage1 = async () => {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Cancellazione in corso' });\r\n      const response = await fetch('/api/v1/stage1', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ tId: tournament.id }),\r\n      });\r\n      await response.json();\r\n      // Update tournament progress\r\n      if (session.isAdmin && tournament.progress < TournamentProgress.Stage1) {\r\n        tournament.progress = TournamentProgress.PairsSelection;\r\n        dispatch(TournamentAction.updateTournament.request({ model: tournament }));\r\n      }\r\n      showSuccessMessage('Cancellazione completata');\r\n      setAskUser(hideAskUser);\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione Fase 1');\r\n    }\r\n  };\r\n\r\n  function deleteStage1() {\r\n    if (tournament.progress > TournamentProgress.Stage1) {\r\n      showErrorMessage('Non è possibile cancellare in quanto il torneo è gia alla fase 2');\r\n      return;\r\n    }\r\n    // Chiedo conferma all'utente\r\n    setAskUser({\r\n      message: 'Vuoi resettare i gironi ? ',\r\n      onClick: () => processDeleteStage1(),\r\n      onHide: () => setAskUser(hideAskUser),\r\n      show: true,\r\n      title: 'Reset Gironi',\r\n    });\r\n  }\r\n\r\n  async function setStage1Name() {\r\n    if (!stage1Number) {\r\n      showErrorMessage('Specificare il numero di gironi da assegnare');\r\n      return;\r\n    }\r\n\r\n    if (tournament.progress === TournamentProgress.Stage1 || tournament.progress === TournamentProgress.Stage2) {\r\n      showErrorMessage('Non riassegnare i gironi in quanto le coppie sono gia state confermate per la fase successiva');\r\n      return;\r\n    }\r\n\r\n    setIsLoading({ state: true, message: 'Aggiornamento in corso ' });\r\n    let current = 0;\r\n    const names = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\r\n    let newRows: any[] = [];\r\n    for (let index in data.rows) {\r\n      let row = data.rows[index];\r\n      // FIXME: if (current === stage1Number) QUESTO NON FUNZIONA ===\r\n      // eslint-disable-next-line eqeqeq\r\n      if (current == stage1Number) current = 0;\r\n      row['stage1Name'] = names[current];\r\n      current++;\r\n      try {\r\n        fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        newRows.push(row);\r\n      } catch (error) {\r\n        showErrorMessage('Errore');\r\n        newRows.push(row);\r\n      }\r\n    }\r\n    showSuccessMessage('Gironi assegnati correttamente');\r\n    setData((current) => ({ rows: newRows, players: current.players }));\r\n  }\r\n\r\n  console.log('availableRows : ', data.rows);\r\n  const availableRows = Math.floor(\r\n    Math.floor((data.players.length - 1) / 2) -\r\n      (data.rows.length === 0\r\n        ? 0\r\n        : data.rows.reduce((accumulator: number, e) => {\r\n            if ((!e.player1 && !e.player2) || (!e.player1?.id && !e.player2?.id)) return accumulator + 1;\r\n            if (!e.player1 || !e.player1.id || !e.player2 || !e.player2.id) return accumulator + 0.5;\r\n            return accumulator;\r\n          }, 0))\r\n  );\r\n\r\n  const deleteDisabled =\r\n    !(selectedRows.length > 0) || tournament.progress === 'Stage1' || tournament.progress === 'Stage2';\r\n\r\n  /*\r\n  let deleteTooltipMessage = '';\r\n  if (!(selectedRows.length > 0)) deleteTooltipMessage = 'Seleziona almeno una riga';\r\n  else if (tournament.progress === 'Stage1' || tournament.progress === 'Stage2')\r\n    deleteTooltipMessage = 'Devi prima resettare i gironi per poter cancellare delle coppie';\r\n  else deleteTooltipMessage = 'Cancella le coppie selezionate';\r\n*/\r\n  //console.log('render table : ', players, pairs);\r\n\r\n  const assignMatches = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Assegna gironi</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        placeholder={\r\n          data.rows.length < 4\r\n            ? 'Inserisci almeno 4 coppie'\r\n            : `Numero di gironi ( max ${Math.floor(data.rows.length / 4)} )`\r\n        }\r\n        aria-label=\"Numero di gironi\"\r\n        type=\"number\"\r\n        step={1}\r\n        min={0}\r\n        max={Math.floor(data.rows.length / 4)}\r\n        value={stage1Number}\r\n        onChange={(event: React.FormEvent<FormEventType>) => setStage1Number(Number(event.currentTarget.value))}\r\n        disabled={\r\n          data.rows.length < 4 ||\r\n          tournament.progress === TournamentProgress.Stage1 ||\r\n          tournament.progress === TournamentProgress.Stage2\r\n        }\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={setStage1Name}\r\n          disabled={!stage1Number || stage1Number > Math.floor(data.rows.length / 4) || data.rows.length < 4}\r\n        >\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const addPairs = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Aggiungi coppie</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        disabled={availableRows <= 0}\r\n        type=\"number\"\r\n        step={1}\r\n        min={1}\r\n        max={availableRows}\r\n        placeholder={\r\n          availableRows <= 0\r\n            ? 'Numero massimo di coppie gia creato'\r\n            : `Numero di coppie da aggiungere ( max ${availableRows} )`\r\n        }\r\n        aria-label=\"Numero di coppie\"\r\n        onChange={(event: React.FormEvent<FormEventType>) => setNewRowsNumber(Number(event.currentTarget.value))}\r\n        value={newRowsNumber || ''}\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={(e: any) => setNewRowsNumber(availableRows)}\r\n          disabled={newRowsNumber > availableRows}\r\n        >\r\n          Max\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={addMultipleRows} disabled={!newRowsNumber || newRowsNumber > availableRows}>\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const ToolsBar = () => (\r\n    <Col className={commonStyle.toolsBarContainer}>\r\n      <div className={commonStyle.toolsBar}>\r\n        <Button variant=\"secondary\" className=\"float-left align-middle\" onClick={goBack}>\r\n          Home\r\n        </Button>\r\n        <Button\r\n          variant=\"success\"\r\n          className=\"align-middle\"\r\n          onClick={() => addRow()}\r\n          disabled={availableRows <= 0 || !session.isAdmin}\r\n        >\r\n          <PlusIcon /> Aggiungi Coppia\r\n        </Button>\r\n        <Button\r\n          variant=\"danger\"\r\n          className=\"align-middle\"\r\n          onClick={deleteRow}\r\n          disabled={deleteDisabled || !session.isAdmin}\r\n        >\r\n          <TrashIcon /> Elimina Coppia\r\n        </Button>\r\n        <Button variant=\"danger\" className=\"align-middle\" onClick={deleteStage1} disabled={!session.isAdmin}>\r\n          Reset gironi\r\n        </Button>\r\n        <Button\r\n          variant=\"outline-warning\"\r\n          className=\"default-color-white float-right align-middle\"\r\n          onClick={confirmPairs}\r\n          disabled={!session.isAdmin}\r\n        >\r\n          <b>Prosegui </b> <RightArrowIcon />\r\n        </Button>\r\n      </div>\r\n      {session.isAdmin ? (\r\n        <>\r\n          {assignMatches()}\r\n          {addPairs()}\r\n        </>\r\n      ) : null}\r\n    </Col>\r\n  );\r\n  return (\r\n    <div>\r\n      <YesNoModal message={askUser.message} title={askUser.title} onClick={askUser.onClick} show={askUser.show} />\r\n      <LoadingModal show={isLoading.state} message={isLoading.message} />\r\n      <Col>\r\n        <Row>{ToolsBar()}</Row>\r\n        <Row>\r\n          <Col>\r\n            {data.rows && data.players ? (\r\n              <BootstrapTable\r\n                bootstrap4\r\n                keyField=\"id\"\r\n                data={data.rows}\r\n                columns={columns(onSelect, data.players) as any}\r\n                cellEdit={cellEditProps(session.isAdmin) as any}\r\n                selectRow={selectRow as any}\r\n                noDataIndication={() => (\r\n                  <NoData\r\n                    isEditable={session.isAdmin || false}\r\n                    addRow={() => addRow()}\r\n                    optionsLength={data.players.length}\r\n                  />\r\n                )}\r\n                caption={<TableHeader />}\r\n                headerClasses=\"default-background default-color-yellow\"\r\n                striped\r\n                hover\r\n              />\r\n            ) : null}\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(PairsTable);\r\n"],"sourceRoot":""}