{"version":3,"sources":["components/core/icons.tsx","components/Tournament/helper.tsx","components/Tournament/new.tsx","components/Tournament/select.tsx"],"names":["Icon","size","prefix","iconName","color","icon","findIconDefinition","TrashIcon","SaveIcon","RightArrowIcon","LeftArrowIcon","TimesIcon","ToggleOn","ToggleOff","PlusIcon","TrophyIcon","DoubleRightIcon","BanIcon","getEmptyTournament","name","id","ownerId","date","Date","progress","TournamentProgress","New","public","label","IndicatorSeparator","innerProps","style","indicatorSeparatorStyle","alignSelf","backgroundColor","marginBottom","marginTop","marginRight","width","cardStyle","margin","borderColor","borderWidth","textAlign","NewTournament","_","currentHistory","useHistory","dispatch","useDispatch","useState","setName","setDate","visible","setVisible","handleSubmit","evt","a","preventDefault","toast","error","model","isValidTournament","isValid","errorMessage","TournamentAction","saveTournament","request","push","Form","onSubmit","Row","Col","md","Group","controlId","Label","Control","type","required","placeholder","maxLength","value","onChange","event","currentTarget","as","highlightDates","locale","selected","dateFormat","newValue","Button","variant","className","fontSize","fontWeight","getOptionLabel","withRouter","session","useSelector","SessionSelector","getSession","tournamentsList","TournamentSelector","getTournamentsList","tournament","getTournament","newTournament","setNewTournament","useEffect","length","console","log","getTournaments","isAdmin","PairAction","getPairs","tId","onNewTournament","setTournament","span","offset","sm","Card","Header","Body","htmlFor","components","styles","customStyles","options","isSearchable","isClearable","disabled","padding","Footer","onClick","formatDate","translateTournamentProgress","option","provided","control","height","singleValue","valueContainer","alignItems","justifyContent"],"mappings":"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","file":"static/js/16.b84d3626.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { findIconDefinition, SizeProp, IconPrefix, IconName } from '@fortawesome/fontawesome-svg-core';\r\n\r\ninterface IconProps {\r\n  color?: string;\r\n  size?: SizeProp;\r\n}\r\n\r\ninterface AbstractIconProps extends IconProps {\r\n  prefix: IconPrefix;\r\n  iconName: IconName;\r\n}\r\n\r\nconst SOLID = 'fas';\r\nconst REGULAR = 'far';\r\n\r\n// Wrapper per icone FontAwesome\r\nconst Icon: React.FC<AbstractIconProps> = ({ size, prefix, iconName, color }) => (\r\n  <FontAwesomeIcon color={color} size={size} icon={findIconDefinition({ prefix, iconName })} />\r\n);\r\n\r\n// Regular\r\nexport const TrashIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"trash-alt\" />\r\n);\r\nexport const SaveIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"save\" />\r\n);\r\n\r\n// Solid\r\nexport const RightArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-right\" />\r\n);\r\nexport const LeftArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-left\" />\r\n);\r\nexport const TimesIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"times\" />\r\n);\r\nexport const ToggleOn: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-on\" />\r\n);\r\nexport const ToggleOff: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-off\" />\r\n);\r\nexport const PlusIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"plus\" />\r\n);\r\nexport const TrophyIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"trophy\" />\r\n);\r\nexport const DoubleRightIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"angle-double-right\" />\r\n);\r\nexport const BanIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"ban\" />\r\n);\r\n","import React, { CSSProperties } from 'react';\r\nimport { TournamentDTO, TournamentProgress } from 'models/tournament.model';\r\n\r\nexport async function getTournament(tId: number): Promise<TournamentDTO | null> {\r\n  const response = await fetch(`/api/v1/tournament/${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' },\r\n  });\r\n  const result: TournamentDTO = await response.json();\r\n  return response.ok ? result : null;\r\n}\r\n\r\nexport function getEmptyTournament(name: string): TournamentDTO {\r\n  return {\r\n    id: null,\r\n    name: name || '',\r\n    ownerId: null,\r\n    date: new Date(),\r\n    progress: TournamentProgress.New,\r\n    public: true,\r\n    label: name || '',\r\n  };\r\n}\r\n\r\n// -------------------------------------------------\r\n// https://react-select.com/components#components\r\n// Indicator Separator\r\n\r\nexport const IndicatorSeparator = ({ innerProps }: any) => <span style={indicatorSeparatorStyle} {...innerProps} />;\r\nexport const indicatorSeparatorStyle: CSSProperties = {\r\n  alignSelf: 'stretch',\r\n  backgroundColor: 'green',\r\n  marginBottom: 8,\r\n  marginTop: 8,\r\n  marginRight: 10,\r\n  width: 1,\r\n};\r\nexport const cardStyle: CSSProperties = {\r\n  width: '100%',\r\n  margin: 'auto',\r\n  backgroundColor: 'inherit',\r\n  borderColor: '#ffc107',\r\n  borderWidth: '3px',\r\n  textAlign: 'left',\r\n};\r\n/*\r\nconst formatNewLabel = inputString => (\r\n  <strong>\r\n    {inputString}\r\n    <small style={{ color: '#ccc' }}>@ New</small>\r\n  </strong>\r\n);\r\n\r\nconst formatOptionLabel = ({ name, progress, innerProps }) => (\r\n  <strong>\r\n    {name}\r\n    <small style={{ color: '#ccc' }}>@{progress}</small>\r\n  </strong>\r\n);\r\n\r\n*/\r\n","import React, { useState } from 'react';\r\nimport { Form, Col, Button } from 'react-bootstrap';\r\n\r\n// Date picker\r\nimport DatePicker from 'react-datepicker';\r\nimport { getEmptyTournament } from './helper';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TournamentAction } from 'actions/tournament.action';\r\nimport { toast } from 'react-toastify';\r\nimport { FormEventType } from 'components/core/generic/CommonTypes';\r\nimport { isValidTournament } from 'services/tournament.service';\r\n\r\ntype newTProps = {};\r\n\r\nconst NewTournament: React.FC<newTProps> = (_) => {\r\n  let currentHistory = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState<string>('');\r\n  const [date, setDate] = useState<Date>(new Date());\r\n  const [visible, setVisible] = useState<boolean>(true);\r\n\r\n  const handleSubmit = async (evt: React.FormEvent<HTMLFormElement>): Promise<void> => {\r\n    evt.preventDefault();\r\n    if (!name) {\r\n      toast.error('Inserire un nome per il torneo');\r\n      return;\r\n    }\r\n\r\n    let model = getEmptyTournament(name);\r\n    model.date = date;\r\n    model.public = visible;\r\n    const { isValid, errorMessage } = await isValidTournament({ model });\r\n    if (isValid) {\r\n      dispatch(TournamentAction.saveTournament.request({ model }));\r\n      currentHistory.push('/tournament');\r\n    } else {\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Row>\r\n        <Col md={6}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Nome</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              required\r\n              placeholder=\"Nome Torneo\"\r\n              maxLength={30}\r\n              value={name}\r\n              onChange={(event: React.FormEvent<FormEventType>) => setName(event.currentTarget.value)}\r\n            />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Form.Group>\r\n            <Form.Label>Data</Form.Label>\r\n            <Form.Control\r\n              as={() => (\r\n                <DatePicker\r\n                  highlightDates={[new Date()]}\r\n                  locale=\"it\"\r\n                  selected={date}\r\n                  dateFormat=\"dd/MM/yyyy\"\r\n                  onChange={(newValue) => setDate(newValue ? newValue : new Date())}\r\n                />\r\n              )}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n        </Col>\r\n\r\n        <Col md={3}>\r\n          <Form.Group controlId=\"visible\">\r\n            <Form.Label>Visibilità </Form.Label>\r\n            <Form.Control as=\"select\" onChange={() => setVisible(!visible)}>\r\n              <option>Pubblico</option>\r\n              <option>Privato</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Col>\r\n      </Form.Row>\r\n      <Form.Row>\r\n        <Col>\r\n          <Button type=\"submit\" size=\"lg\" variant=\"outline-warning\" className=\"float-right default-color-white\">\r\n            <span style={{ fontSize: 'larger', fontWeight: 'bolder' }}>Prosegui</span>\r\n          </Button>\r\n        </Col>\r\n      </Form.Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NewTournament;\r\n","import React, { useState, useEffect } from 'react';\r\n// React-Select\r\nimport Select, { Styles, ValueType } from 'react-select';\r\n// Bootstrap\r\nimport { Form, Button, Card, Col } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router';\r\n// Core\r\nimport { RightArrowIcon } from '../core/icons';\r\n// Helper\r\nimport { cardStyle, IndicatorSeparator } from './helper';\r\nimport { formatDate, translateTournamentProgress } from '../core/utils';\r\nimport NewTournament from './new';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TournamentSelector } from 'selectors/tournament.selector';\r\nimport { TournamentAction, PairAction } from 'actions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { TournamentDTO } from 'models/tournament.model';\r\nimport { SessionSelector } from 'selectors/session.selector';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst FTournament = () => {\r\n  // Redux\r\n  const dispatch = useDispatch();\r\n  const currentHistory = useHistory();\r\n  const session = useSelector(SessionSelector.getSession);\r\n\r\n  // Tournament list from Db\r\n  const tournamentsList = useSelector(TournamentSelector.getTournamentsList);\r\n  const tournament = useSelector(TournamentSelector.getTournament);\r\n\r\n  // State definition\r\n  const [newTournament, setNewTournament] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!tournamentsList || tournamentsList.length === 0) {\r\n      console.log('useEffect: ', tournamentsList);\r\n      dispatch(TournamentAction.getTournaments.request({}));\r\n    }\r\n  }, [dispatch, tournamentsList]);\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLElement>): Promise<void> => {\r\n    event.preventDefault();\r\n    if (tournament) {\r\n      if (session.isAdmin) {\r\n        currentHistory.push('/tournament');\r\n      } else {\r\n        dispatch(PairAction.getPairs.request({ tId: tournament.id! }));\r\n        currentHistory.push('/stage1');\r\n      }\r\n    } else toast.error('Errore, riprovare piu tardi...');\r\n  };\r\n\r\n  const onNewTournament = (value: React.SetStateAction<boolean>) => {\r\n    dispatch(TournamentAction.setTournament(null));\r\n    setNewTournament(value);\r\n  };\r\n\r\n  // console.log('render tournament :', tournament, tournamentsList);\r\n\r\n  return (\r\n    <>\r\n      <Col md={{ span: '6', offset: '3' }} sm=\"12\">\r\n        <Card style={cardStyle}>\r\n          <Card.Header as=\"h2\">Torneo</Card.Header>\r\n          <Card.Body>\r\n            <Col>\r\n              {session.isAdmin && newTournament ? (\r\n                <NewTournament />\r\n              ) : (\r\n                <Form onSubmit={handleSubmit}>\r\n                  <label htmlFor=\"tournamentSelect\">Selezione Torneo</label>\r\n                  <Select\r\n                    id=\"tournamentSelect\"\r\n                    components={{ IndicatorSeparator }}\r\n                    styles={customStyles}\r\n                    value={tournament}\r\n                    options={tournamentsList}\r\n                    placeholder=\"Cerca un torneo\"\r\n                    isSearchable\r\n                    getOptionLabel={getOptionLabel}\r\n                    isClearable\r\n                    onChange={(tournament: ValueType<TournamentDTO>) =>\r\n                      dispatch(TournamentAction.setTournament(tournament as TournamentDTO))\r\n                    }\r\n                  />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    size=\"lg\"\r\n                    variant=\"outline-warning\"\r\n                    className=\"float-right default-color-white\"\r\n                    disabled={!tournament}\r\n                  >\r\n                    <span style={{ fontSize: 'larger', fontWeight: 'bolder', padding: '1vw' }}>Prosegui</span>\r\n                    <RightArrowIcon size=\"lg\" />\r\n                  </Button>\r\n                </Form>\r\n              )}\r\n            </Col>\r\n          </Card.Body>\r\n          <Card.Footer>\r\n            {session.isAdmin ? (\r\n              newTournament ? (\r\n                <Button\r\n                  type=\"button\"\r\n                  size=\"lg\"\r\n                  variant=\"outline-warning\"\r\n                  className=\"float-left default-color-white\"\r\n                  onClick={() => onNewTournament(false)}\r\n                >\r\n                  Seleziona un torneo\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  type=\"button\"\r\n                  size=\"lg\"\r\n                  variant=\"outline-warning\"\r\n                  className=\"float-left default-color-white\"\r\n                  onClick={() => onNewTournament(true)}\r\n                >\r\n                  Crea un nuovo torneo\r\n                </Button>\r\n              )\r\n            ) : null}\r\n          </Card.Footer>\r\n        </Card>\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(FTournament);\r\n\r\nconst getOptionLabel = ({ name, date, progress }: TournamentDTO) =>\r\n  name + ' - ' + formatDate(date) + '@' + translateTournamentProgress(progress);\r\n\r\nconst customStyles: Partial<Styles> | undefined = {\r\n  // menuList: (provided, state) => ({ ...provided, border: '1px solid #ffc107' }),\r\n  option: (provided) => ({\r\n    ...provided,\r\n    backgroundColor: 'white',\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: '#64bd9c',\r\n      color: 'white',\r\n    },\r\n  }),\r\n  control: (provided) => ({ ...provided, height: '3vmin', marginBottom: '40px' }),\r\n  singleValue: (provided) => ({ ...provided }),\r\n\r\n  valueContainer: (provided) => ({\r\n    ...provided,\r\n    height: '100%',\r\n    fontSize: 'larger',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    '&:active': {\r\n      height: '100%',\r\n      fontSize: 'larger',\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n    },\r\n  }),\r\n};\r\n"],"sourceRoot":""}