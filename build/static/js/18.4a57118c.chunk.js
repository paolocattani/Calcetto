(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[18],{354:function(e,a,t){"use strict";t.r(a);var n=t(47),r=t.n(n),l=t(61),o=t(34),c=t(0),s=t.n(c),i=t(36),u=t(15),m=t(205),d=t(250),p=t(249),E=t(222),f=t(118),b=t(60),h=t(212),g=t(232),v=t(226);a.default=function(e){var a=e.show,t=e.onHide,n=Object(i.c)(),w=Object(o.a)(n,2)[1],y=Object(c.useState)(""),O=Object(o.a)(y,2),j=O[0],k=O[1],C=Object(g.a)(""),z=C.value,x=C.bind,N=Object(u.g)(),S=function(e){k(e),setTimeout((function(){return k("")}),3e3)},L=function(){var e=Object(l.a)(r.a.mark((function e(a,n,l){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("/api/v1/auth/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,username:l,password:z})});case 4:return o=e.sent,e.next=7,o.json();case 7:c=e.sent,o.ok&&c?(w({isAuthenticated:!1}),t(),N.push("/")):401===o.status?S("Utente o Password errata"):S("Errore durante il processo di registrazione. Riprovare piu tardi"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("onSubmitLogin : ",e.t0),S("Errore durante il processo di registrazione. Riprovare piu tardi");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t,n){return e.apply(this,arguments)}}(),A=j?s.a.createElement(m.a,{key:"auth-alert",variant:"danger"},j," "):null,T=s.a.createElement(i.a.Consumer,null,(function(e){var a=Object(o.a)(e,1)[0],n=a.email,r=a.username;return n&&r?s.a.createElement(d.a,{onSubmit:function(e){return L(e,n,r)}},s.a.createElement(d.a.Group,{as:p.a,controlId:"email"},s.a.createElement(d.a.Label,{column:!0,sm:"2"},"Email"),s.a.createElement(E.a,{sm:"10"},s.a.createElement(d.a.Control,{style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white",plaintext:!0,readOnly:!0,defaultValue:n}))),s.a.createElement(d.a.Group,{as:p.a,controlId:"username"},s.a.createElement(d.a.Label,{column:!0,sm:"2"},"Username"),s.a.createElement(E.a,{sm:"10"},s.a.createElement(d.a.Control,{style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white",plaintext:!0,readOnly:!0,defaultValue:r}))),s.a.createElement(d.a.Group,{as:p.a,controlId:"password"},s.a.createElement(d.a.Label,{column:!0,sm:"2"},"Password"),s.a.createElement(E.a,{sm:"10"},s.a.createElement(d.a.Control,Object.assign({type:"password",placeholder:"Password"},x)))),s.a.createElement(f.a,{size:"lg",className:"float-left",onClick:t,variant:"outline-success",type:"button"},"Annulla"),s.a.createElement(f.a,{size:"lg",className:"float-right",variant:"outline-danger",type:"submit"},s.a.createElement(v.e,null)," Conferma")):s.a.createElement(s.a.Fragment,null,s.a.createElement("strong",null,"Eliminazione non possibile")," ")}));return s.a.createElement(b.a,{show:a,onHide:t,size:"lg",centered:!0},s.a.createElement(b.a.Header,{style:{backgroundColor:"#343A40",color:"white"},closeButton:!0},s.a.createElement(b.a.Title,{className:"default-color-red"},"Elimina Utente")),s.a.createElement(b.a.Body,{style:{backgroundColor:"#343A40",color:"white"}},s.a.createElement(h.a,{fluid:!0},A,T)))}}}]);
//# sourceMappingURL=18.4a57118c.chunk.js.map