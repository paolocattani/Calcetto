(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[2],{113:function(e,t,n){e.exports=n.p+"static/media/header.7774471e.jpg"},124:function(e,t,n){e.exports=n(199)},129:function(e,t,n){},138:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),l=(n(129),n(130),n(131),n(47)),c=n.n(l),s=n(62),u=n(34),d=n(113),m=n.n(d),f=n(205),p=n(209),v=n(210),b=n(208),h=n(206),g=n(116),E=r.a.lazy((function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,331))})),w=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,334))})),x=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(9)]).then(n.bind(null,336))})),y=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,332))})),k=r.a.lazy((function(){return n.e(12).then(n.bind(null,329))})),C=r.a.lazy((function(){return n.e(14).then(n.bind(null,330))})),j=[{path:"/login",label:"Login",exact:!0,ComponentToRender:r.a.lazy((function(){return Promise.all([n.e(0),n.e(8),n.e(13)]).then(n.bind(null,335))})),visible:!1,private:!1,index:0},{path:"/",label:"Home",exact:!0,ComponentToRender:w,visible:!1,private:!0,index:10},{path:"/tournament/:tId",label:"Selezione Coppie",exact:!0,ComponentToRender:x,visible:!1,private:!0,index:20},{path:"/stage1/:tId",label:"Torneo fase 1",exact:!0,ComponentToRender:y,visible:!1,private:!0,index:30},{path:"/player",label:"Gestione Giocatori",exact:!0,ComponentToRender:E,visible:!0,private:!0,index:40},{path:"/user",label:"Gestione Utente",exact:!0,ComponentToRender:r.a.lazy((function(){return n.e(6).then(n.bind(null,337))})),visible:!1,private:!0,index:50},{path:"/stage2/:tId",label:"Torneo fase 2",exact:!0,ComponentToRender:k,visible:!1,private:!0,index:100},{path:"*",label:"Not Found",exact:!1,ComponentToRender:C,visible:!1,private:!0,index:1e3}],O=j;var R=n(36),T=n(42),A=function(e){var t=Object(R.d)(),n=Object(u.a)(t,2),a=n[0],o=n[1],i=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/logout");case 2:e.sent.ok&&o({isAuthenticated:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={backgroundImage:"url(".concat(m.a,")"),backgroundSize:"cover",padding:"60px 0px 10px 0px",minHeight:"28vh"};return r.a.createElement("header",null,r.a.createElement(f.a,{style:l},r.a.createElement("h1",{style:{margin:"5vh"}},r.a.createElement("strong",{style:{color:"white"}},"Calcetto C.S.M")),a.isAuthenticated?r.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(p.a.Brand,{as:T.b,to:"/"},"Home"),r.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},O.map((function(e){return e.visible?e.private&&!a.isAuthenticated?null:r.a.createElement(v.a.Link,{as:T.b,key:e.index,to:e.path},e.label):null}))),a.name?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{alignRight:!0,as:h.a},r.a.createElement(g.a,{variant:"outline-warning",size:"lg"},r.a.createElement("strong",{style:{color:"#64bd9c"}},a.name)),r.a.createElement(b.a.Toggle,{split:!0,variant:"outline-warning",id:"dropdown-custom-2"}),r.a.createElement(b.a.Menu,{className:"default-background default-border-yellow"},r.a.createElement(b.a.Item,{className:"default-color-yellow default-hover-green",as:"button",variant:"warning",onClick:i,eventKey:"1"},"Log out"),r.a.createElement(b.a.Divider,{style:{borderTopColor:"#ffc107"}}),r.a.createElement(b.a.Item,{className:"default-color-yellow default-hover-green",as:T.b,to:"/user",eventKey:"2"},"Gestione Utente")))):null)):null))},z=n(63),P=n(17),S=n(53),N=function(e){return a.createElement(R.a.Consumer,null,(function(t){var n=Object(u.a)(t,1)[0];return a.createElement(P.b,Object.assign({},e,{render:function(t){var r=t.location;return n.isAuthenticated&&"/login"===r.pathname?(console.log("ProtectedRoute => redirect to Home"),a.createElement(P.a,Object.assign({},e,{to:{pathname:"/",state:{from:r}}}))):e.private?n.isAuthenticated?(console.log("ProtectedRoute => render component : ",function(e){var t=j.find((function(t){return t.path===e}));return t?t.label:"route ".concat(e," not found!")}(r.pathname)),a.createElement(e.ComponentToRender,e)):(console.log("ProtectedRoute => redirect to Login : ",Object(S.a)({},n)),a.createElement(P.a,Object.assign({},e,{to:{pathname:"/login",state:{from:r}}}))):(console.log("ProtectedRoute => public route : ",Object(S.a)({},e)),a.createElement(e.ComponentToRender,e))}}))}))},H=(n(138),n(207)),L=n(101),B=n(117),I=n(118);L.c.add(B.a,I.a);var W=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(H.a,{fluid:!0},r.a.createElement(a.Suspense,{fallback:r.a.createElement(z.b,{show:!0,message:"....Caricamento"})},r.a.createElement(P.d,null,O.map((function(e){return r.a.createElement(N,Object.assign({},e,{key:e.index}))}))))))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(n){var a=e.installing;null!=a&&(a.onstatechange=function(n){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=n(121),D=n(83);Object(D.setDefaultLocale)("it"),Object(D.registerLocale)("it",F.a),i.a.render(r.a.createElement(T.a,null,r.a.createElement(R.b,null,r.a.createElement(W,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");U?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v}));var a=n(47),r=n.n(a),o=n(53),i=n(62),l=n(34),c=n(0),s=n.n(c),u=n(63),d={isAuthenticated:!1},m=Object(c.createContext)([d,function(){}]),f=function(){return Object(c.useContext)(m)},p=function(e){var t=e.children,n=Object(c.useState)(d),a=Object(l.a)(n,2),f=a[0],p=a[1],v=[f,p];return Object(c.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&t.ok?p(Object(o.a)({isAuthenticated:!0},n)):p(d),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("SessionContext.error :",e.t0),p(d);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),console.log("sessionContext.session: ",f),s.a.createElement(m.Provider,{value:v},f?t:s.a.createElement(u.b,{show:!0,message:"....Caricamento"}))},v=function(e){return!!(e&&e.isAuthenticated&&e.role)&&(e.isAuthenticated&&"Admin"===e.role)}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));n(34);var a=n(0),r=n.n(a),o=n(61),i=n(41),l=n(95),c=n(203),s=(n(36),function(e){var t=e.message,n=e.show,a=e.onHide,l=void 0===a?function(){return n=!1}:a;return r.a.createElement(o.a,{show:n,onHide:l,size:"xl",centered:!0},r.a.createElement(o.a.Header,{closeButton:!0},r.a.createElement(o.a.Title,null,"Caricamento....")),r.a.createElement(o.a.Body,null,t),r.a.createElement(o.a.Footer,null,r.a.createElement(i.a,{animation:"border",variant:"light"}),r.a.createElement(i.a,{animation:"border",variant:"primary"}),r.a.createElement(i.a,{animation:"border",variant:"secondary"}),r.a.createElement(i.a,{animation:"border",variant:"success"}),r.a.createElement(i.a,{animation:"border",variant:"danger"}),r.a.createElement(i.a,{animation:"border",variant:"warning"}),r.a.createElement(i.a,{animation:"border",variant:"info"}),r.a.createElement(i.a,{animation:"border",variant:"dark"})))}),u=function(e){var t=e.message,n=e.type;return t&&""!==t?r.a.createElement(l.a,{className:"rounded mr-2 mx-auto",key:"".concat(n,"-message"),show:""!==t},r.a.createElement(l.a.Header,{closeButton:!1},r.a.createElement("strong",null,"Operazione completata !")),r.a.createElement(l.a.Body,null,r.a.createElement(c.a,{variant:n},t))):null}}},[[124,3,4]]]);
//# sourceMappingURL=main.c5a9755f.chunk.js.map