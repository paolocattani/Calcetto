(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[10],{1273:function(e,t,a){"use strict";var n=a(6),r=a(2),l=a(11),c=a.n(l),o=a(0),i=a.n(o),s=a(33),u=a(13),m=Object(s.a)("input-group-append"),d=Object(s.a)("input-group-prepend"),p=Object(s.a)("input-group-text",{Component:"span"}),b=i.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.size,o=e.className,s=e.as,m=void 0===s?"div":s,d=Object(n.a)(e,["bsPrefix","size","className","as"]);return a=Object(u.a)(a,"input-group"),i.a.createElement(m,Object(r.a)({ref:t},d,{className:c()(o,a,l&&a+"-"+l)}))}));b.displayName="InputGroup";var f=Object(r.a)({},b,{Text:p,Radio:function(e){return i.a.createElement(p,null,i.a.createElement("input",Object(r.a)({type:"radio"},e)))},Checkbox:function(e){return i.a.createElement(p,null,i.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},Append:m,Prepend:d});t.a=f},1284:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(3),l=a.n(r),c=a(19),o=a(294),i=a(0),s=a.n(i),u=a(23),m=a(38),d=a(10),p=a(495),b=a.n(p),f=a(141),v=a(1273),O=a(315),E=a(103),j=a(52),g=function(e){var t,a,n,r=e.onClick,l=e.name,c=e.isWinner,o=e.span,i=e.rowIndex,u=e.colIndex,m=e.pair,d=e.buttonDisabled,p=e.isLast,f=e.renderCustomComponent;return n=p?s.a.createElement(j.r,{size:"lg",color:"gold"}):c?s.a.createElement(j.c,{size:"lg",color:"green"}):s.a.createElement(j.a,{size:"1x",color:"red"}),s.a.createElement("td",{rowSpan:o,className:i%2===0?[b.a.cell,b.a.borderBottom].join(" "):b.a.cell},s.a.createElement(v.a,{className:b.a.container},s.a.createElement(v.a.Prepend,{className:b.a.prepend},s.a.createElement(v.a.Text,null,i)),f?f(i,u,p,m):s.a.createElement(O.a,{placeholder:"Username"+u,value:m?"".concat(null===(t=m.player1)||void 0===t?void 0:t.name," - ").concat(null===(a=m.player2)||void 0===a?void 0:a.name):l,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),s.a.createElement(v.a.Append,null,s.a.createElement(E.a,{disabled:d,className:b.a.append,onClick:function(e){return r(e,i,u,!c)}},n))))},y=a(366),h=a(405),_=s.a.forwardRef((function(e,t){var a=e.getOptionLabel,n=e.styles,r=e.rowIndex,l=e.options,c=e.onChange,u=e.defaultValue,m=Object(i.useState)(),d=Object(o.a)(m,2),p=d[0],b=d[1];return s.a.createElement(y.a,{defaultValue:u,components:h.z,styles:n,options:l,onChange:function(e,t){b(e),c&&c(e,r,t)},getOptionLabel:a,value:p,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),C=function(e){var t=e.onClick,a=e.elements,n=e.pairsSelect,r=e.rowNumber,l=void 0===r?64:r,c=e.onSelectPair,o=Object(f.b)(2,l)+1,i=function(e,t,a,n,r,l){for(var c=[],o=new Array(a).fill(0),i=function(e){for(var t=[NaN,Object(f.b)(2,e)+1],a=1,n=1;n<=e;n++)if(!t[n]){t[n]=a;for(var r=Math.pow(2,a),l=1;n+r*l<e+1;l++)t[n+r*l]=a;a++}return t}(t),u=function(e,t,a,n){var c={container:function(e){return Object(d.a)(Object(d.a)({},e),{},{flex:"1 1 auto"})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{zIndex:6})},menuList:function(e){return Object(d.a)(Object(d.a)({},e),{},{flex:"1 1 auto",zIndex:5,height:"auto"})}};return console.log("Render stage2 select :",e,t,a,n),s.a.createElement(_,{styles:c,defaultValue:n,options:r,rowIndex:e,onChange:l,getOptionLabel:function(e){var t,a;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(t=e.player1)||void 0===t?void 0:t.name," - ").concat(null===(a=e.player2)||void 0===a?void 0:a.name," ")):"-"}})},m=1;m<=t;m++){for(var p=[],v=0;v<i[m];v++){o[v]+=1;var O=e[v]?e[v][o[v]-1]:{name:"",isWinner:!1,matchId:0,cellRowIndex:0,cellColIndex:0,parentId:0};p.push(s.a.createElement(g,Object.assign({renderCustomComponent:0===v?u:void 0,key:"cell : ".concat(v,"-").concat(o[v]-1),span:Math.pow(2,v),rowIndex:o[v],colIndex:v+1,onClick:n,buttonDisabled:w(o[v],v,e),isLast:1===e[v].length},O)))}c.push(s.a.createElement("tr",{key:"row : ".concat(m),className:b.a.row},p))}return c}(a,l,o,t,n,c),u=function(e){for(var t=[],a=1;a<=e;a++)t.push(s.a.createElement("td",{key:"header ".concat(a),className:b.a.headerCell,style:{width:"".concat(100/e,"%")}},s.a.createElement("strong",null,"Stage-".concat(a))));return t}(o);return s.a.createElement("table",{className:b.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,u)),s.a.createElement("tbody",{className:b.a.body},i))};var w=function(e,t,a){return a[t]&&1===a[t].length||(e%2!==0?!a[t][e-1].pair||a[t][e]&&!a[t][e].pair:!a[t][e-1].pair||a[t][e-2]&&!a[t][e-2].pair)},x=a(143),N=a(187),I=a(327),k=a.n(I),S=a(77),L=a(12),B=a(78),z=a(347),R=a(104);t.default=Object(u.i)((function(){var e=Object(u.g)(),t=Object(m.c)(),a=Object(m.d)(S.e.getCells),r=Object(m.d)(S.e.getRowsNumber),d=Object(m.d)(S.e.isLoading),p=Object(m.d)(S.f.getTournament),b=Object(i.useState)(),f=Object(o.a)(b,2),v=f[0],O=f[1];Object(i.useEffect)((function(){Object(c.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L.e.setLoading(!0)),e.next=3,Object(R.b)(p.id);case 3:a=e.sent,O(a.pairs),t(L.e.setLoading(!1));case 6:case"end":return e.stop()}}),e)})))()}),[p.id]);return a&&v&&r?s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{className:k.a.toolsBarContainer},s.a.createElement(N.a,{className:k.a.toolsBarRow},s.a.createElement(x.a,null,s.a.createElement(E.a,{variant:"secondary",className:"float-left",onClick:function(){e.push("/stage1")}},s.a.createElement(j.h,null)," Indietro")))),s.a.createElement(z.a,null),s.a.createElement(C,{pairsSelect:v,onClick:function(e,r,l,c){var o=Object(n.a)(a),i=null,s=null,u=null;r%2!==0?(i=o[l-1][r-1],s=o[l-1][r]):(i=o[l-1][r-1],s=o[l-1][r-2]),u=o[l][i.matchId-1],console.log(" onClick : ",i,s,u),i.isWinner=c,s.isWinner=!c,u&&(u.pair=c?i.pair:s.pair),t(L.e.updateCell.request({cell1:i,cell2:s})),t(L.e.setCells(o)),1===o[l].length&&t(L.e.updateCell.request({cell1:u,cell2:null}))},rowNumber:r,elements:a,onSelectPair:function(e,r,l){if(v){var c=Object(n.a)(a),o=e,i=c[0][r-1].pair,s=Object(n.a)(v);o&&o.id&&(s=s.filter((function(e){return e.id!==o.id}))),i&&i.id&&(s=[].concat(Object(n.a)(s),[i])),O(s),c[0][r-1].pair=o,t(L.e.setCells(c)),t(L.e.updateCell.request({cell1:c[0][r-1],cell2:null}))}}})):s.a.createElement(B.LoadingModal,{show:d})}))},294:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(139);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(i){r=!0,l=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},327:function(e,t,a){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}},347:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(77),c=a(38),o=a(187),i=a(143),s=a(287),u=a(140),m=a(291);t.a=function(){var e=Object(c.d)(l.f.getTournament),t=Object(m.a)(["tournament"]).t;return r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement("h2",{className:"float-left"},r.a.createElement(s.a,{variant:"info"},r.a.createElement("span",null,t("tournament:tournament")," "),r.a.createElement("strong",null,'"',e.name.toUpperCase(),'"'),r.a.createElement("span",null,r.a.createElement("i",null," - ".concat(Object(u.a)(e.date)," "),r.a.createElement("small",null," @ ",t("tournament:progress.".concat(e.progress)))))))))}},495:function(e,t,a){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}}}]);
//# sourceMappingURL=10.155ef9bc.chunk.js.map