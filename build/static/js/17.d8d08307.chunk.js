(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[17],{1290:function(e,t,r){"use strict";r.r(t);var n,l,a,i,c,o,d=r(15),s=r(291),u=r(2),f=r(0),j=r(24),b=r(39),h=r(395),m=r.n(h),p=r(141),x=r(101),O=r(184),y=r(324),g=r.n(y),F=r(144),v=r(1256),S=r.n(v),k=r(360),w=r(59),C=r(51);var P=S()(),_=function(e,t,r){var d;return[{dataField:"rowNumber",text:"ID",editable:!1,headerStyle:function(e,t){return{width:"3%"}}},{dataField:"name",text:t.name,autoSelectText:!0,headerStyle:function(t,r){return{width:e?"16%":"25%"}},filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return n=e}})},{dataField:"surname",text:t.surname,autoSelectText:!0,headerStyle:function(t,r){return{width:e?"16%":"25%"}},filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return l=e}})},{dataField:"alias",text:t.alias,headerStyle:function(t,r){return{width:e?"17%":"25%"}},autoSelectText:!0,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return a=e}})},{dataField:"role",text:t.role,headerStyle:function(t,r){return{width:"".concat(e?"11":"15","%")}},filter:Object(v.selectFilter)({placeholder:"".concat(t.filter,"..."),options:(d={},Object(F.a)(d,w.PlayerRole.GoalKeeper,t.goalKeeper),Object(F.a)(d,w.PlayerRole.Striker,t.striker),Object(F.a)(d,w.PlayerRole.Master,t.master),d),getFilter:function(e){return i=e}}),editor:{type:k.Type.SELECT,getOptions:function(){return[{value:w.PlayerRole.GoalKeeper,label:t.goalKeeper},{value:w.PlayerRole.Striker,label:t.striker},{value:w.PlayerRole.Master,label:t.master}]}}},{dataField:"email",text:t.email,headerStyle:function(e,t){return{width:"20%"}},autoSelectText:!0,hidden:!e,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return c=e}})},{dataField:"phone",headerStyle:function(e,t){return{width:"10%"}},text:t.phone,autoSelectText:!0,hidden:!e,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return o=e}})},{dataField:"actions",isDummyField:!0,text:"Azioni",hidden:!e,formatter:function(e,t){return Object(u.jsx)(x.a,{variant:"success",onClick:function(){return r(t)},children:Object(u.jsx)(C.d,{})})}},{dataField:"match_played",text:"Partite Giocate",hidden:!0},{dataField:"match_won",text:"Vittorie",hidden:!0},{dataField:"total_score",text:"Punteggio",hidden:!0}]};var R=r(288),B=function(e){var t=e.title,r=e.saved,n={color:r?"#4feb34":void 0},l=Object(R.a)(["common"]).t;return Object(u.jsxs)("h3",{children:[Object(u.jsx)("b",{style:n,children:"string"===typeof t?l(t):t}),r?Object(u.jsxs)("small",{children:[" ","- ".concat(l("common:saving"),"...")," "]}):null]})},K=r(76),T=r(13),L=r(64),A=r(75);t.default=Object(j.i)((function(){var e=Object(b.c)(),t=Object(j.g)(),r=Object(R.a)(["common","player"]).t,h=Object(b.d)(A.c.isLoading),y=Object(b.d)(A.a.isAdmin),F=Object(b.d)(A.c.getPlayersList),v=Object(b.d)(A.c.isSaving),S=Object(f.useState)([]),k=Object(s.a)(S,2),w=k[0],E=k[1];Object(f.useEffect)((function(){e(T.c.fetchPlayers.request({}))}),[e]);var N=function(e,t){return E((function(r){var n=!!r.find((function(t){return t.id===e.id}));return t?n?r:[e].concat(Object(d.a)(r)):n?r.filter((function(t){return t.id!==e.id})):r})),!0},q={mode:"checkbox",nonSelectable:F.filter((function(e){return e.id&&!e.editable})).map((function(e){return e.id})),onSelect:N,onSelectAll:function(e,t){return t.forEach((function(t){return N(t,e)}))},style:{backgroundColor:"#c8e6c9"},hideSelectAll:!F.find((function(e){return e.editable})),hideSelectColumn:!F.find((function(e){return e.editable}))||!y,selectColumnStyle:function(e){e.checked,e.disabled;var t=e.rowIndex;e.rowKey;return F[t].editable?{}:{backgroundColor:"#dc3545"}}},D=function(r){console.log("addEdit : ",r),e(T.c.setPlayer(r)),t.push("/player/edit")},G=function(){w&&(e(T.c.deletePlayers.request({players:w})),E([]))};function I(){t.push("/")}var M={name:r("player:field.name"),surname:r("player:field.surname"),alias:r("player:field.alias"),role:r("player:field.role"),email:r("player:field.email"),phone:r("player:field.phone"),filter:r("player:field.filter"),goalKeeper:r("player:role.goalKeeper"),striker:r("player:role.striker"),master:r("player:role.master"),edit:r("common:edit")};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(K.LoadingModal,{show:h,message:r("common:loading")}),Object(u.jsxs)(p.a,{children:[Object(u.jsx)(O.a,{children:Object(u.jsx)(p.a,{className:g.a.toolsBarContainer,children:Object(u.jsxs)("div",{className:g.a.toolsBar,children:[Object(u.jsxs)(x.a,{variant:"secondary",className:"float-left align-middle",onClick:I,children:[Object(u.jsx)(C.f,{}),Object(u.jsxs)("span",{children:[" ",r("common:route.home")]})]}),y?Object(u.jsxs)(x.a,{variant:"success",onClick:function(){return D(Object(L.c)())},children:[Object(u.jsx)(C.k,{}),Object(u.jsx)("span",{children:r("player:add")})]}):null,Object(u.jsxs)(x.a,{variant:"dark",onClick:function(){return function(e){n(""),l(""),a(""),i(""),e&&(c(""),o(""))}(y)},children:[Object(u.jsx)(C.b,{}),Object(u.jsxs)("span",{children:[" ",r("player:filter")]})]}),y?Object(u.jsxs)(x.a,{variant:"danger",className:"float-right",onClick:G,disabled:0===w.length,children:[Object(u.jsx)(C.q,{})," ",w.length>1?r("player:delete.multi"):r("player:delete.one")]}):null]})})}),Object(u.jsx)(O.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(m.a,{bootstrap4:!0,keyField:"id",data:F,columns:_(y,M,D),selectRow:q,caption:Object(u.jsx)(B,{title:"common:route.player",saved:v}),filter:P,headerClasses:"default-background default-color-yellow",noDataIndication:function(){return Object(u.jsx)("p",{children:r("player:data")})},striped:!0,hover:!0})})})]})]})}))},324:function(e,t,r){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}}}]);
//# sourceMappingURL=17.d8d08307.chunk.js.map