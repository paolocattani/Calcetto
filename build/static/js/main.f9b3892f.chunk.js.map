{"version":3,"sources":["redux/services/stage2.service.ts","redux/actions/pair.action.ts","redux/actions/stage1.action.ts","redux/actions/stage2.action.ts","@common/utils/date.utils.ts","@common/utils/math.utils.ts","redux/selectors/tournament.selector.ts","@common/dto/player.dto.ts","@common/dto/tournament.dto.ts","@common/dto/user.dto.ts","components/Stage1/helper.ts","redux/actions/auth.action.ts","redux/actions/constants.ts","@common/utils/fetch.utils.ts","redux/actions/player.action.ts","serviceWorker.ts","redux/reducers/tournament.reducer.ts","redux/reducers/player.reducer.ts","redux/reducers/pair.reducer.ts","redux/reducers/auth.reducer.ts","redux/reducers/stage1.reducer.ts","redux/reducers/stage2.reducer.ts","redux/services/tournament.service.ts","i18n/i18n.ts","redux/sagas/utils.ts","redux/sagas/tournament.saga.ts","redux/sagas/player.saga.ts","redux/sagas/pair.saga.ts","redux/services/auth.service.ts","redux/services/stage1.service.ts","redux/sagas/stage1.saga.ts","redux/sagas/stage2.saga.ts","redux/sagas/auth.saga.ts","redux/store.ts","assets/header.jpg","components/core/routing/Routes.ts","components/Header/Header.tsx","components/core/routing/ProtectedRoute.tsx","components/core/errorBoundary.tsx","components/App/badge.tsx","components/App/App.tsx","components/App/Entry.tsx","index.tsx","redux/actions/tournament.action.ts","@common/models/common.models.ts","@common/models/HttpStatusCode.ts","components/core/icons.tsx","@common/dto/index.ts","redux/services/pair.service.ts","redux/services/player.service.ts","redux/selectors/auth.selector.ts","redux/selectors/pair.selector.ts","redux/selectors/player.selector.ts","redux/selectors/stage1.selector.ts","redux/selectors/stage2.selector.ts","components/core/generic/Commons.tsx","@common/utils/index.ts"],"names":["deleteStage2","tId","a","fetch","method","DEFAULT_HEADERS","body","JSON","stringify","response","json","updateCells","cell1","cell2","console","error","fetchPairsStage2","result","pairs","getEmptyPair","fetchStage2","rowsNumber","count","tournamentId","cells","PairAction","createAsyncAction","defaultAsyncParams","purge","createAction","PURGE_STORE_ACTION","actionName","Stage1Action","updateSelectedPairs","stage1Watcher","fetchStage1","updateCellStage1","updatePlacement","Stage2Action","updateCell","delete","setCells","defaultParam","setLoading","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","getBaseLog","x","y","Math","log","RegExp","passwordRegExp","emailRegExp","TournamentSelector","isLoading","tournamentState","getTournament","tournament","getTournamentsList","tournamentsList","PlayerRole","TournamentProgress","UserRole","getOpposite","value","parseInt","comparator","obj1","obj2","total","rowNumber","rowsGenerator","pairsList","map","e","ii","row","id","pair","placement","jj","AuthAction","registration","login","logout","update","checkAuthentication","sessionControl","updateSession","name","headers","getWrapper","url","fetchWrapper","deleteWrapper","putWrapper","postWrapper","undefined","group","groupEnd","toast","UnexpectedServerError","PlayerAction","setPlayer","fetchPlayers","savePlayer","updatePlayer","deletePlayers","Boolean","window","location","hostname","match","initialTournamentState","TournamentReducer","createReducer","handleAction","TournamentAction","request","save","state","failure","success","payload","setTournament","initialPlayerState","isSaving","playersList","PlayerReducer","message","player","filter","find","selectedRow","i","initialPairState","PairReducer","initialSessionState","isAuthenticated","isAdmin","SessionReducer","user","role","Admin","initialStage1State","needRefresh","selectedPairs","stages","Stage1Reducer","stageName","rows","currentStage","s","newStage","autoOrder","stage1Name","stage1Rows","selected","selectedRows","Map","set","initialStage2State","Stage2Reducer","fetchTournaments","encodeURIComponent","postTournament","updateTournament","i18n","use","HttpBackend","LanguageDetector","initReactI18next","init","debug","process","supportedLngs","fallbackLng","ns","defaultNS","fallbackNS","preload","load","interpolation","escapeValue","backend","loadPath","entityLifeCycle","getMessage","t","label","options","action","onSuccess","onFailure","call","userMessage","messageText","type","UserMessageType","Success","Warning","Danger","warning","code","HTTPStatusCode","put","getTournamentsSaga","saveTournamentSaga","updateTournamentSaga","history","push","TournamentSagas","takeEvery","getPlayersSaga","deletePlayersSaga","savePlayerSaga","updatePlayerSaga","back","PlayersSagas","getPairsSaga","fetchPairs","SessionStatus","PairsSagas","updateUser","updateUserRequest","deleteUser","deleteUserRequest","loginRequest","registrationRequest","CheckAuthentication","status","Unauthorized","createSessionChannel","channel","eventChannel","emitter","openListener","event","messageListener","messageEvent","parse","data","SESSION_EXPIRED","closeConnection","errorListener","END","addEventListener","removeEventListener","close","buffers","expanding","createStage1Channel","NEED_REFRESH","watchStage1Saga","fetchSaga","updateCellSaga","updatePlacementSaga","updateSelectedPairsSaga","EventSource","take","selectPairs","Stage1Sagas","takeLatest","deleteStage2Saga","fetchStage2Saga","updateCellsSaga","select","progress","Stage1","fork","Stage2Sagas","checkAuthenticationSaga","watchSessionSaga","logoutSaga","loginSaga","registrationSaga","updateUserSaga","deleteUserSaga","i18next","delay","persistor","logoutReponse","loginReponse","registrationReponse","errors","forEach","updateReponse","deleteReponse","SessionSagas","rootSagas","composeEnhancers","compose","sagaMiddleware","createSagaMiddleware","rootReducers","playerState","pairState","authState","stage1State","stage2State","store","createStore","persistReducer","key","storage","localForage","combineReducers","applyMiddleware","persistStore","all","Cypress","run","lazySwagger","lazy","lazyPlayer","lazyPlayerEdit","lazyTournament","lazyPairs","lazyStage1","lazyStage2","lazyLogin","lazyUser","lazyRedirectionControl","then","module","default","RedirectionControl","routes","path","exact","componentToRender","visible","private","index","icon","MaleIcon","FileMedicalIcon","Header","dispatch","useDispatch","currentHistory","useHistory","useTranslation","useSelector","AuthSelector","getSession","jumboStyle","backgroundImage","backgroundSize","padding","minHeight","otherLang","language","Jumbotron","style","margin","color","Navbar","collapseOnSelect","expand","bg","variant","Brand","as","Link","to","Toggle","aria-controls","Collapse","Nav","className","route","Dropdown","alignRight","ButtonGroup","Button","opacity","size","disabled","fontSize","data-cy","username","split","Menu","Item","eventKey","onClick","changeLanguage","Divider","borderTopColor","ProtectedRoute","props","session","render","innerProps","pathname","from","pathName","element","getLabelByPathname","connect","ErrorBoundary","errorInfo","this","setState","children","React","Component","AppBadge","position","top","right","Badge","loadIcons","App","_","useEffect","fallback","Container","fluid","marginBottom","autoClose","Application","loading","show","Entry","setDefaultLocale","registerLocale","it","ReactDOM","document","getElementById","navigator","serviceWorker","ready","unregister","Environment","InternalServerError","initialState","player1","surname","alias","GoalKeeper","email","phone","match_played","match_won","total_score","editable","player2","paid1","paid2","Continue","SwitchingProtocols","Processing","EarlyHints","OK","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","IMUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","SwitchProxy","TemporaryRedirect","PermanentRedirect","BadRequest","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","URITooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HTTPVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","library","add","faTrashAlt","faSave","faSignOutAlt","faUser","faMale","faLanguage","faHome","faBroom","faArrowAltCircleRight","faArrowAltCircleLeft","faTimes","faToggleOff","faToggleOn","faPlus","faTrophy","faAngleDoubleRight","faBan","faFileMedicalAlt","faEdit","SOLID","Icon","prefix","iconName","findIconDefinition","TrashIcon","SaveIcon","EditIcon","LogoutIcon","UserIcon","LanguageIcon","HomeIcon","BroomIcon","RightArrowIcon","LeftArrowIcon","TimesIcon","ToggleOn","ToggleOff","PlusIcon","TrophyIcon","DoubleRightIcon","BanIcon","API_VERSION","listAPI","aliasAPI","player1Id","player2Id","newAPI","findAlias","postPair","updatePair","deletePairs","getEmptyPlayer","addEmpty","players","getUser","PairSelector","getPairsList","PlayerSelector","getPlayersList","getPlayer","Stage1Selector","getSelectedRows","getSelectedPairs","getNeedRefresh","getStages","Stage2Selector","getCells","getRowsNumber","modalStyle","backgroundColor","borderColor","fancyModalFooter","animation","LoadingModal","title","onHide","centered","borderWidth","closeButton","Title","Body","Footer","YesNoModal","GenericToast","useLocation"],"mappings":"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","file":"static/js/main.f9b3892f.chunk.js","sourcesContent":["import { FetchStage2Response, FetchStage2Request } from '../../@common/models';\r\nimport { ICell } from '../../@common/dto';\r\nimport { DEFAULT_HEADERS } from '../../@common/utils/fetch.utils';\r\nimport { getEmptyPair } from './pair.service';\r\n\r\nexport const deleteStage2 = async (tId: number) => {\r\n  const response = await fetch('/api/v1/stage2', {\r\n    method: 'DELETE',\r\n    ...DEFAULT_HEADERS,\r\n    body: JSON.stringify({ tId }),\r\n  });\r\n  await response.json();\r\n};\r\n\r\nexport const updateCells = async (cell1: ICell, cell2: ICell | null) => {\r\n  try {\r\n    const response = await fetch('/api/v1/stage2/cells', {\r\n      method: 'POST',\r\n      ...DEFAULT_HEADERS,\r\n      body: JSON.stringify({ cell1, cell2 }),\r\n    });\r\n    await response.json();\r\n  } catch (e) {\r\n    console.error('Error stage2 update');\r\n  }\r\n};\r\n\r\nexport const fetchPairsStage2 = async (tId: number) => {\r\n  try {\r\n    const response = await fetch(`/api/v1/stage2/pairs/${tId}`);\r\n    const result = await response.json();\r\n    return { pairs: [getEmptyPair('-'), ...result.pairs] };\r\n  } catch (e) {\r\n    console.error('Error stage2 fetching pairs');\r\n  }\r\n  return { pairs: [] };\r\n};\r\n\r\nexport const fetchStage2 = async ({\r\n  count: rowsNumber,\r\n  tournamentId,\r\n}: FetchStage2Request): Promise<FetchStage2Response> => {\r\n  try {\r\n    const response = await fetch('/api/v1/stage2', {\r\n      method: 'POST',\r\n      ...DEFAULT_HEADERS,\r\n      body: JSON.stringify({ tournamentId, rowsNumber }),\r\n    });\r\n    const cells = await response.json();\r\n    return { cells, rowsNumber };\r\n  } catch (e) {\r\n    return { cells: [], rowsNumber };\r\n  }\r\n};\r\n","import { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport { defaultAsyncParams, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\nimport { FetchPairsRequest, FetchPairsResponse } from '../../@common/models';\r\n\r\nconst actionName = '[Pair]';\r\n\r\nexport const PairAction = {\r\n  // Fetch Pairs\r\n  fetch: createAsyncAction(...defaultAsyncParams(actionName, 'Fetch Pairs'))<\r\n    FetchPairsRequest,\r\n    FetchPairsResponse,\r\n    Error\r\n  >(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","import { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport {\r\n  WatchStage1Request,\r\n  WatchStage1Response,\r\n  FetchStage1Response,\r\n  FetchStage1Request,\r\n  UpdateCellRequest,\r\n  UpdateCellResponse,\r\n  UpdatePlacementRequest,\r\n  UpdatePlacementResponse,\r\n  SelectPairsRequest,\r\n  SelectPairsResponse,\r\n} from '../../@common/models';\r\nimport { defaultAsyncParams, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\n\r\nconst actionName = '[Stage1]';\r\n\r\nexport const Stage1Action = {\r\n  // Update Selected Pairs\r\n  updateSelectedPairs: createAsyncAction(...defaultAsyncParams(actionName, 'Selected Pairs Stage1'))<\r\n    SelectPairsRequest,\r\n    SelectPairsResponse,\r\n    Error\r\n  >(),\r\n\r\n  // watcher\r\n  stage1Watcher: createAsyncAction(...defaultAsyncParams(actionName, 'Stage1 Watcher'))<\r\n    WatchStage1Request,\r\n    WatchStage1Response,\r\n    Error\r\n  >(),\r\n  fetchStage1: createAsyncAction(...defaultAsyncParams(actionName, 'Fetch Stage1'))<\r\n    FetchStage1Request,\r\n    FetchStage1Response,\r\n    Error\r\n  >(),\r\n  updateCellStage1: createAsyncAction(...defaultAsyncParams(actionName, 'Update Cell Stage1'))<\r\n    UpdateCellRequest,\r\n    UpdateCellResponse,\r\n    Error\r\n  >(),\r\n  updatePlacement: createAsyncAction(...defaultAsyncParams(actionName, 'Update Placement Stage1'))<\r\n    UpdatePlacementRequest,\r\n    UpdatePlacementResponse,\r\n    Error\r\n  >(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","import { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport {\r\n  FetchStage2Response,\r\n  FetchStage2Request,\r\n  UpdateStage2CellResponse,\r\n  UpdateStage2CellRequest,\r\n  DeleteStage2Request,\r\n  DeleteStage2Response,\r\n} from '../../@common/models';\r\nimport { defaultAsyncParams, defaultParam, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\nimport { ICell } from '../../@common/dto';\r\n\r\nconst actionName = '[Stage2]';\r\n\r\nexport const Stage2Action = {\r\n  // get selected tournament\r\n  fetchStage2: createAsyncAction(...defaultAsyncParams(actionName, 'Fetch Stage2'))<\r\n    FetchStage2Request,\r\n    FetchStage2Response,\r\n    Error\r\n  >(),\r\n  updateCell: createAsyncAction(...defaultAsyncParams(actionName, 'Update Cell Stage2'))<\r\n    UpdateStage2CellRequest,\r\n    UpdateStage2CellResponse,\r\n    Error\r\n  >(),\r\n  delete: createAsyncAction(...defaultAsyncParams(actionName, 'Delete Stage2'))<\r\n    DeleteStage2Request,\r\n    DeleteStage2Response,\r\n    Error\r\n  >(),\r\n  setCells: createAction(...defaultParam(actionName, 'Set Cells'))<ICell[][]>(),\r\n  setLoading: createAction(...defaultParam(actionName, 'Stage2 is Loading'))<boolean>(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","export const getTodayDate = () => formatDate(new Date());\r\n\r\nexport function formatDate(date: Date) {\r\n  var d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  return [year, month, day].join('/');\r\n}\r\n\r\n// https://stackoverflow.com/questions/2698725/comparing-date-part-only-without-comparing-time-in-javascript\r\nexport const justADate = (initDate?: Date | string) => {\r\n  let utcMidnightDateObj: Date;\r\n  // if no date supplied, use Now.\r\n  if (!initDate) initDate = new Date();\r\n\r\n  // if initDate specifies a timezone offset, or is already UTC, just keep the date part, reflecting the date _in that timezone_\r\n  if (typeof initDate === 'string' && initDate.match(/((\\+|-)\\d{2}:\\d{2}|Z)$/gm)) {\r\n    utcMidnightDateObj = new Date(initDate.substring(0, 10) + 'T00:00:00Z');\r\n  } else {\r\n    // if init date is not already a date object, feed it to the date constructor.\r\n    if (!(initDate instanceof Date)) initDate = new Date(initDate);\r\n    // Vital Step! Strip time part. Create UTC midnight dateObj according to local timezone.\r\n    utcMidnightDateObj = new Date(Date.UTC(initDate.getFullYear(), initDate.getMonth(), initDate.getDate()));\r\n  }\r\n\r\n  return {\r\n    toISOString: () => utcMidnightDateObj.toISOString(),\r\n    getUTCDate: () => utcMidnightDateObj.getUTCDate(),\r\n    getUTCDay: () => utcMidnightDateObj.getUTCDay(),\r\n    getUTCFullYear: () => utcMidnightDateObj.getUTCFullYear(),\r\n    getUTCMonth: () => utcMidnightDateObj.getUTCMonth(),\r\n    setUTCDate: (date: number) => utcMidnightDateObj.setUTCDate(date),\r\n    setUTCFullYear: (years: number) => utcMidnightDateObj.setUTCFullYear(years),\r\n    setUTCMonth: (months: number) => utcMidnightDateObj.setUTCMonth(months),\r\n    addDays: (days: number) => {\r\n      utcMidnightDateObj.setUTCDate(utcMidnightDateObj.getUTCDate() + days);\r\n    },\r\n    toString: () => utcMidnightDateObj.toString(),\r\n    toLocaleDateString: (\r\n      locales?: string | string[] | undefined,\r\n      options?: Intl.DateTimeFormatOptions | undefined\r\n    ): string => {\r\n      const option = options || {};\r\n      option.timeZone = 'UTC';\r\n      const locale = locales || 'it-IT';\r\n      return utcMidnightDateObj.toLocaleDateString(locale, option);\r\n    },\r\n  };\r\n};\r\n","export function getRandomIntInclusive(min: number, max: number) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n\r\nexport function getBaseLog(x: number, y: number) {\r\n  return Math.log(y) / Math.log(x);\r\n}\r\n\r\nexport const phoneRegExp = new RegExp('^d{10}$');\r\nexport const passwordRegExp = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})');\r\nexport const emailRegExp = new RegExp(\r\n  // eslint-disable-next-line quotes\r\n  \"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$\"\r\n);\r\n","import { RootState } from '../../@common/models';\r\n\r\n// Get state from store\r\nexport const TournamentSelector = {\r\n  isLoading: ({ tournamentState: { isLoading } }: RootState) => isLoading,\r\n  getTournament: ({ tournamentState: { tournament } }: RootState) => tournament,\r\n  getTournamentsList: ({ tournamentState: { tournamentsList } }: RootState) => tournamentsList,\r\n};\r\n","export interface PlayerDTO {\r\n  id: number | null;\r\n  name: string;\r\n  surname: string;\r\n  alias: string;\r\n  label: string;\r\n  role: PlayerRole;\r\n  email: string;\r\n  phone: string;\r\n  userId?: number;\r\n  match_played?: number;\r\n  match_won?: number;\r\n  total_score?: number;\r\n  editable: boolean;\r\n  rowNumber: number;\r\n}\r\n\r\nexport enum PlayerRole {\r\n  NotAPlayer = 'Non sono un giocatore',\r\n  GoalKeeper = 'Portiere',\r\n  Master = 'Master',\r\n  Striker = 'Attaccante',\r\n}\r\n","export interface TournamentDTO {\r\n  id: number | null;\r\n  name: string;\r\n  date: Date;\r\n  progress: TournamentProgress;\r\n  public: boolean;\r\n  autoOrder: boolean;\r\n  label: string;\r\n  ownerId: number | null;\r\n}\r\n\r\nexport enum TournamentProgress {\r\n  New = 'new',\r\n  PairsSelection = 'pairsSelection',\r\n  Stage1 = 'stage1',\r\n  Stage2 = 'stage2',\r\n}\r\n","import { PlayerDTO } from '.';\r\n\r\nexport interface UserDTO {\r\n  id: number;\r\n  username: string;\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  phone: string;\r\n  role: UserRole;\r\n  birthday: Date;\r\n  label: string;\r\n  player?: PlayerDTO;\r\n}\r\nexport enum UserRole {\r\n  Admin = 'Admin',\r\n  User = 'User',\r\n}\r\n","import { PairDTO, Stage1Row } from '../../@common/dto';\r\n\r\n/**\r\n *\r\n * @param value il valore di partenza\r\n * @returns il valore opposto a quello di partenze\r\n *\r\n *  3->0 , 2->1 , 1->2 , 0->3\r\n */\r\nexport function getOpposite(value: string | null) {\r\n  /*\r\n   * Attenzione :\r\n   *  !0 = true\r\n   *  !''  = true\r\n   *  !null   = true\r\n   *  !undefined  = true\r\n   */\r\n  if (value === null) return null;\r\n  switch (parseInt(value)) {\r\n    case 3:\r\n      return 0;\r\n    case 2:\r\n      return 1;\r\n    case 1:\r\n      return 2;\r\n    case 0:\r\n      return 3;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {*} obj1\r\n * @param {*} obj2\r\n */\r\nexport function comparator(obj1: Stage1Row, obj2: Stage1Row) {\r\n  // in caso di parità valuto scontro diretto\r\n  if (obj1.total === obj2.total) {\r\n    if (obj1[`col${obj2.rowNumber}`] === 3 || obj1[`col${obj2.rowNumber}`] === 2) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n  return obj2.total - obj1.total;\r\n}\r\n\r\n/**\r\n * Questo metodo riceve una lista di coppie PairdDTO e la trasforma in Stage1Row.\r\n * Viene utilizzato da Stage1.handler per costruire la struttura da passare alla tabella\r\n * Inoltre viene passata al BE per salvare i dati sul DB.\r\n *\r\n * @param pairsList PairDTO[] Lista di coppie\r\n *\r\n */\r\nexport const rowsGenerator = (pairsList: Array<PairDTO>): Array<Stage1Row> =>\r\n  pairsList.map((e, ii) => {\r\n    const row: Stage1Row = {\r\n      id: `row-${e.tournamentId}-${ii}`,\r\n      rowNumber: ii + 1,\r\n      pair: e,\r\n      total: 0,\r\n      placement: e.placement || 0,\r\n    };\r\n    for (let jj = 1; jj <= pairsList.length; jj++) {\r\n      row[`col${jj}`] = null;\r\n    }\r\n    return row;\r\n  });\r\n","import { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport { defaultParam, defaultAsyncParams, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\nimport {\r\n  CheckAuthenticationRequest,\r\n  WatchSessionRequest,\r\n  AuthenticationError,\r\n  AuthenticationResponse,\r\n  LoginRequest,\r\n  RegistrationRequest,\r\n  LogoutRequest,\r\n  DeleteUserRequest,\r\n  UpdateUserRequest,\r\n} from '../../@common/models/auth.model';\r\n\r\nconst actionName = '[Session]';\r\n\r\nexport const AuthAction = {\r\n  // Register new user\r\n  registration: createAsyncAction(...defaultAsyncParams(actionName, 'Register User'))<\r\n    RegistrationRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  // Login\r\n  login: createAsyncAction(...defaultAsyncParams(actionName, 'Login User'))<\r\n    LoginRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  logout: createAsyncAction(...defaultAsyncParams(actionName, 'Logout User'))<\r\n    LogoutRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  delete: createAsyncAction(...defaultAsyncParams(actionName, 'Delete User'))<\r\n    DeleteUserRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  update: createAsyncAction(...defaultAsyncParams(actionName, 'Update User'))<\r\n    UpdateUserRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  // Check if user is already authenticate\r\n  checkAuthentication: createAsyncAction(...defaultAsyncParams(actionName, 'Check User Authentication'))<\r\n    CheckAuthenticationRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n  // Session watcher\r\n  sessionControl: createAsyncAction(...defaultAsyncParams(actionName, 'Session Watcher'))<\r\n    WatchSessionRequest,\r\n    AuthenticationResponse,\r\n    AuthenticationError\r\n  >(),\r\n\r\n  // set selected tournament\r\n  updateSession: createAction(...defaultParam(actionName, 'Set Session'))<AuthenticationResponse>(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","import { TypeConstant } from 'typesafe-actions';\r\n\r\nexport const Request = 'Request';\r\nexport const Success = 'Success';\r\nexport const Failure = 'Failure';\r\nexport const PURGE_STORE_ACTION = 'persist/PURGE';\r\n\r\nexport const defaultAsyncParams = (actionName: string, name: string): [TypeConstant, TypeConstant, TypeConstant] => [\r\n  `${actionName} ${name} ${Request}`,\r\n  `${actionName} ${name} ${Success}`,\r\n  `${actionName} ${name} ${Failure}`,\r\n];\r\n\r\nexport const defaultParam = (actionName: string, name: string): [TypeConstant] => [`${actionName} ${name}`];\r\n\r\nexport interface PurgeResponse {}\r\n","//-----------------------------\r\n// Fetch utils\r\n//\r\nimport { GenericReponse, OmitHistory, UnexpectedServerError } from '../models/common.models';\r\nimport { toast } from 'react-toastify';\r\n\r\n//\r\nexport const DEFAULT_HEADERS: { headers: HeadersInit } = {\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n\r\nexport const getWrapper = async <T extends GenericReponse>(url: string): Promise<T> => await fetchWrapper(url, 'GET');\r\nexport const deleteWrapper = async <B, T extends GenericReponse>(url: string, body?: OmitHistory<B>): Promise<T> =>\r\n  await fetchWrapper(url, 'DELETE', body);\r\nexport const putWrapper = async <B, T extends GenericReponse>(url: string, body?: OmitHistory<B>): Promise<T> =>\r\n  await fetchWrapper(url, 'PUT', body);\r\nexport const postWrapper = async <B, T extends GenericReponse>(url: string, body?: OmitHistory<B>): Promise<T> =>\r\n  await fetchWrapper(url, 'POST', body);\r\n\r\nexport const fetchWrapper = async <B, T extends GenericReponse>(\r\n  url: string,\r\n  method: string,\r\n  body?: OmitHistory<B>\r\n): Promise<T> => {\r\n  console.log('fetchWrapper : ', method, url, body);\r\n  let response = null;\r\n  try {\r\n    response = await fetch(url, {\r\n      method,\r\n      body: method === 'PUT' || method === 'POST' || method === 'DELETE' ? JSON.stringify(body) : undefined,\r\n      ...DEFAULT_HEADERS,\r\n    });\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.group('An error occur : ');\r\n    console.error('Error', error);\r\n    console.error('Details : ', response);\r\n    console.groupEnd();\r\n    toast.error('Whoooops...Something went wrong...');\r\n    /*  FIXME:\r\n      Type 'GenericReponse' is not assignable to type 'T'.\r\n      'GenericReponse' is assignable to the constraint of type 'T', but 'T' could be instantiated with a different subtype of constraint 'GenericReponse'.\r\n    */\r\n    return UnexpectedServerError as any;\r\n  }\r\n};\r\n","import { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport { defaultAsyncParams, defaultParam, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\nimport {\r\n  FetchPlayersResponse,\r\n  FetchPlayersRequest,\r\n  SavePlayerRequest,\r\n  SavePlayerResponse,\r\n  DeletePlayersResponse,\r\n  DeletePlayersRequest,\r\n  PlayerError,\r\n} from '../../@common/models/player.model';\r\nimport { PlayerDTO } from '../../@common/dto';\r\n\r\nconst actionName = '[Player]';\r\nexport const PlayerAction = {\r\n  // set selected tournament\r\n  setPlayer: createAction(...defaultParam(actionName, 'Set Player'))<PlayerDTO>(),\r\n  // fetch tournaments\r\n  fetchPlayers: createAsyncAction(...defaultAsyncParams(actionName, 'Fetch Palyers'))<\r\n    FetchPlayersRequest,\r\n    FetchPlayersResponse,\r\n    PlayerError\r\n  >(),\r\n  savePlayer: createAsyncAction(...defaultAsyncParams(actionName, 'Save Player'))<\r\n    SavePlayerRequest,\r\n    SavePlayerResponse,\r\n    PlayerError\r\n  >(),\r\n  updatePlayer: createAsyncAction(...defaultAsyncParams(actionName, 'Update Player'))<\r\n    SavePlayerRequest,\r\n    SavePlayerResponse,\r\n    PlayerError\r\n  >(),\r\n  deletePlayers: createAsyncAction(...defaultAsyncParams(actionName, 'Delete Player'))<\r\n    DeletePlayersRequest,\r\n    DeletePlayersResponse,\r\n    PlayerError\r\n  >(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","import { toast } from 'react-toastify';\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          toast.warn('This web app is being served cache-first by a service worker.');\r\n          // TODO: show this message to user\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    // eslint-disable-next-line sonarjs/cognitive-complexity\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              toast.warn('New content is available and will be used when all tabs for this page are closed.');\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              toast.warn('Content is cached for offline use.');\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      toast.warn('Error during service worker registration.');\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      toast.warn('No internet connection found. App is running in offline mode.');\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { TournamentAction } from '../actions/tournament.action';\r\nimport { TournamentState } from '../../@common/models/tournament.model';\r\n\r\nexport const initialTournamentState: TournamentState = {\r\n  tournament: null,\r\n  tournamentsList: [],\r\n  isLoading: false,\r\n};\r\n\r\nexport const TournamentReducer = createReducer<TournamentState, Action>(initialTournamentState)\r\n  // Request\r\n  .handleAction(\r\n    [TournamentAction.fetch.request, TournamentAction.save.request, TournamentAction.update.request],\r\n    (state) => ({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n  )\r\n  // Failure\r\n  .handleAction(\r\n    [TournamentAction.fetch.failure, TournamentAction.save.failure, TournamentAction.update.failure],\r\n    (state) => ({ ...state, isLoading: false })\r\n  )\r\n  // SUCCESS\r\n  // Fetch Tournament\r\n  .handleAction(TournamentAction.fetch.success, (state, { payload: { tournamentsList } }) => ({\r\n    tournament: tournamentsList && tournamentsList.length > 0 ? tournamentsList[0] : null,\r\n    tournamentsList: tournamentsList || [],\r\n    isLoading: false,\r\n  }))\r\n  // Set selected tournament\r\n  .handleAction(TournamentAction.setTournament, (state, { payload }) => ({\r\n    ...state,\r\n    tournament: payload,\r\n    isLoading: false,\r\n  }))\r\n  // Create/Update a new tournament\r\n  .handleAction(\r\n    [TournamentAction.save.success, TournamentAction.update.success],\r\n    (state, { payload: { tournament } }) => ({\r\n      ...state,\r\n      tournament,\r\n      isLoading: false,\r\n    })\r\n  )\r\n  .handleAction(TournamentAction.purge, () => initialTournamentState);\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { PlayerState } from '../../@common/models/player.model';\r\nimport { PlayerAction } from '../actions/player.action';\r\n\r\nexport const initialPlayerState: PlayerState = {\r\n  isLoading: false,\r\n  isSaving: false,\r\n  playersList: [],\r\n};\r\n\r\nexport const PlayerReducer = createReducer<PlayerState, Action>(initialPlayerState)\r\n  // Request\r\n  .handleAction([PlayerAction.fetchPlayers.request], (state) => ({\r\n    ...state,\r\n    isLoading: true,\r\n  }))\r\n  .handleAction(\r\n    [PlayerAction.savePlayer.request, PlayerAction.updatePlayer.request, PlayerAction.deletePlayers.request],\r\n    (state) => ({\r\n      ...state,\r\n      isLoading: true,\r\n      isSaving: true,\r\n    })\r\n  )\r\n  // Failure\r\n  .handleAction(\r\n    [\r\n      PlayerAction.fetchPlayers.failure,\r\n      PlayerAction.savePlayer.failure,\r\n      PlayerAction.updatePlayer.failure,\r\n      PlayerAction.deletePlayers.failure,\r\n    ],\r\n    (state, { payload: { message } }) => ({\r\n      ...state,\r\n      isLoading: false,\r\n    })\r\n  )\r\n  // Success\r\n  .handleAction([PlayerAction.savePlayer.success], (state, { payload: { player } }) => ({\r\n    playersList: [player, ...state.playersList],\r\n    isLoading: false,\r\n    isSaving: false,\r\n  }))\r\n  .handleAction([PlayerAction.deletePlayers.success], (state, { payload: { playersList } }) => ({\r\n    playersList: state.playersList.filter((row) => !playersList.find((selectedRow) => selectedRow.id === row.id)),\r\n    isLoading: false,\r\n    isSaving: false,\r\n  }))\r\n  .handleAction(PlayerAction.fetchPlayers.success, (state, { payload: { playersList } }) => ({\r\n    playersList: playersList.map((e, i) => ({ ...e, rowNumber: i + 1 })),\r\n    isLoading: false,\r\n    isSaving: false,\r\n  }))\r\n  .handleAction(PlayerAction.setPlayer, (state, { payload }) => ({ ...state, player: payload }))\r\n  .handleAction(PlayerAction.purge, () => initialPlayerState);\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { PairState } from '../../@common/models';\r\nimport { PairAction } from '../actions';\r\n\r\nexport const initialPairState: PairState = {\r\n  isLoading: false,\r\n  isSaving: false,\r\n};\r\n\r\nexport const PairReducer = createReducer<PairState, Action>(initialPairState)\r\n  // Request\r\n  .handleAction([PairAction.fetch.request], (state) => ({\r\n    ...state,\r\n    isLoading: true,\r\n  }))\r\n  // Failure\r\n  .handleAction([PairAction.fetch.failure], (state) => ({\r\n    ...state,\r\n    isLoading: false,\r\n  }))\r\n  // Fetch Tournament\r\n  .handleAction(PairAction.fetch.success, (state, { payload: { pairsList } }) => ({\r\n    pairsList,\r\n    isLoading: false,\r\n    isSaving: false,\r\n  }))\r\n  .handleAction(PairAction.purge, () => initialPairState);\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { AuthState } from '../../@common/models/auth.model';\r\nimport { AuthAction } from '../actions/auth.action';\r\nimport { UserRole } from '../../@common/dto';\r\n\r\nexport const initialSessionState: AuthState = {\r\n  isAuthenticated: false,\r\n  isAdmin: false,\r\n  isLoading: true,\r\n};\r\n\r\nexport const SessionReducer = createReducer<AuthState, Action>(initialSessionState)\r\n  // Request\r\n  .handleAction(\r\n    [\r\n      AuthAction.checkAuthentication.request,\r\n      AuthAction.registration.request,\r\n      AuthAction.login.request,\r\n      AuthAction.logout.request,\r\n      AuthAction.update.request,\r\n      AuthAction.delete.request,\r\n    ],\r\n    (state) => ({ ...state, isLoading: true })\r\n  )\r\n  // Failure\r\n  .handleAction(\r\n    [AuthAction.checkAuthentication.failure, AuthAction.registration.failure, AuthAction.login.failure],\r\n    () => ({\r\n      isLoading: false,\r\n      user: undefined,\r\n      isAdmin: false,\r\n      isAuthenticated: false,\r\n    })\r\n  )\r\n  .handleAction([AuthAction.logout.failure, AuthAction.update.failure, AuthAction.delete.failure], (state) => ({\r\n    ...state,\r\n    isLoading: false,\r\n  }))\r\n  // Success\r\n  .handleAction(\r\n    [\r\n      AuthAction.checkAuthentication.success,\r\n      AuthAction.registration.success,\r\n      AuthAction.login.success,\r\n      AuthAction.logout.success,\r\n      AuthAction.update.success,\r\n      AuthAction.delete.success,\r\n      AuthAction.updateSession,\r\n    ],\r\n    (state, { payload: { user } }) => ({\r\n      user,\r\n      isAuthenticated: !!user,\r\n      isAdmin: user ? user.role === UserRole.Admin : false,\r\n      isLoading: false,\r\n    })\r\n  )\r\n  .handleAction(AuthAction.purge, () => initialSessionState);\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { Stage1State } from '../../@common/models';\r\nimport { Stage1Action } from '../actions';\r\nimport { Stage1Row } from '../../@common/dto';\r\nimport { getEmptyPair } from '../services/pair.service';\r\n\r\nexport const initialStage1State: Stage1State = {\r\n  needRefresh: false,\r\n  selectedPairs: [getEmptyPair('-')],\r\n  isLoading: false,\r\n  stages: [],\r\n};\r\n\r\nexport const Stage1Reducer = createReducer<Stage1State, Action>(initialStage1State)\r\n  // Gestione Watcher\r\n  // All'avvio del watcher reimposto needRefresh\r\n  .handleAction([Stage1Action.stage1Watcher.request], (state) => ({ ...state, needRefresh: false }))\r\n  .handleAction([Stage1Action.stage1Watcher.failure], (state) => ({ ...state }))\r\n  .handleAction([Stage1Action.stage1Watcher.success], (state) => ({ ...state, needRefresh: true }))\r\n  //\r\n  .handleAction([Stage1Action.fetchStage1.request, Stage1Action.updateSelectedPairs.request], (state) => ({\r\n    ...state,\r\n    isLoading: true,\r\n  }))\r\n  .handleAction([Stage1Action.fetchStage1.failure, Stage1Action.updateSelectedPairs.failure], (state) => ({\r\n    ...state,\r\n    isLoading: false,\r\n  }))\r\n  // Aggiornamento valore cella/posizionamento\r\n  .handleAction([Stage1Action.updateCellStage1.success, Stage1Action.updatePlacement.success], (state) => ({\r\n    ...state,\r\n    isLoading: false,\r\n  }))\r\n  // Reperimento dati\r\n  .handleAction([Stage1Action.fetchStage1.success], (state, { payload: { stageName, rows, pairsList } }) => {\r\n    const currentStage = state.stages.filter((s) => s.stageName === stageName);\r\n    const newStage =\r\n      currentStage && currentStage.length > 0\r\n        ? { ...currentStage[0], rows }\r\n        : { pairsList, stageName, rows, autoOrder: false, isLoading: false };\r\n    return {\r\n      ...state,\r\n      stages: [...state.stages.filter((s) => s.stageName !== stageName), newStage],\r\n      isLoading: false,\r\n    };\r\n  })\r\n  // Aggiornamento coppie selezionate dati vari gironi\r\n  .handleAction([Stage1Action.updateSelectedPairs.success], (state, { payload: { stage1Name, stage1Rows } }) => {\r\n    const selected = state.selectedRows ? state.selectedRows : new Map<string, Stage1Row[]>();\r\n    selected.set(stage1Name, stage1Rows);\r\n\r\n    const selectedPairs = state.selectedPairs\r\n      ? [\r\n          // Filtro selectedPairs\r\n          //  e.id === null : mantengo il placeholder\r\n          //  e.stage1Name !== stageName : matengo tutte le coppie che non appartengo al girone attuale\r\n          ...state.selectedPairs.filter((e) => e.id === null || e.stage1Name !== stage1Name),\r\n          ...stage1Rows.map((e) => e.pair),\r\n        ]\r\n      : [...stage1Rows.map((e) => e.pair)];\r\n\r\n    return {\r\n      ...state,\r\n      selectedRows: selected,\r\n      selectedPairs,\r\n      isLoading: false,\r\n    };\r\n  })\r\n  .handleAction(Stage1Action.purge, () => initialStage1State);\r\n","import { createReducer, Action } from 'typesafe-actions';\r\nimport { Stage2State } from '../../@common/models';\r\nimport { Stage2Action } from '../actions';\r\n\r\nexport const initialStage2State: Stage2State = {\r\n  isLoading: false,\r\n};\r\n\r\nexport const Stage2Reducer = createReducer<Stage2State, Action>(initialStage2State)\r\n  // Request\r\n  .handleAction([Stage2Action.fetchStage2.request, Stage2Action.delete.request], (state) => ({\r\n    ...state,\r\n    isLoading: true,\r\n  }))\r\n  // Failure\r\n  .handleAction([Stage2Action.fetchStage2.failure], (state, { payload: { message } }) => ({\r\n    ...state,\r\n    isLoading: false,\r\n  }))\r\n  // Success\r\n  .handleAction([Stage2Action.fetchStage2.success], (state, { payload: { cells, rowsNumber } }) => ({\r\n    cells,\r\n    rowsNumber,\r\n    isLoading: false,\r\n  }))\r\n  .handleAction([Stage2Action.delete.success], () => ({\r\n    cells: undefined,\r\n    rowsNumber: 0,\r\n    isLoading: false,\r\n  }))\r\n  .handleAction([Stage2Action.setCells], (state, { payload }) => ({\r\n    ...state,\r\n    cells: payload,\r\n  }))\r\n  .handleAction([Stage2Action.setLoading], (state, { payload }) => ({\r\n    ...state,\r\n    isLoading: payload,\r\n  }))\r\n  .handleAction(Stage2Action.purge, () => initialStage2State);\r\n","import {\r\n  DeleteTournamentRequest,\r\n  DeleteTournamentResponse,\r\n  FetchTournamentsRequest,\r\n  FetchTournamentsResponse,\r\n  SaveTournamentRequest,\r\n  SaveTournamentResponse,\r\n  UpdateTournamentRequest,\r\n  UpdateTournamentResponse,\r\n} from '../../@common/models/tournament.model';\r\nimport { postWrapper, putWrapper, getWrapper, deleteWrapper } from '../../@common/utils/fetch.utils';\r\n\r\nexport const fetchTournaments = async (request: FetchTournamentsRequest): Promise<FetchTournamentsResponse> =>\r\n  getWrapper<FetchTournamentsResponse>(\r\n    request?.tId ? `/api/v2/tournament/${encodeURIComponent(request.tId)}` : '/api/v2/tournament/list'\r\n  );\r\n\r\nexport const postTournament = async (request: SaveTournamentRequest): Promise<SaveTournamentResponse> =>\r\n  postWrapper<SaveTournamentRequest, SaveTournamentResponse>('/api/v2/tournament/new', request);\r\n\r\nexport const updateTournament = async (request: UpdateTournamentRequest): Promise<UpdateTournamentResponse> =>\r\n  putWrapper<UpdateTournamentRequest, UpdateTournamentResponse>('/api/v2/tournament/update', request);\r\n\r\nexport const deleteTournament = async (request: DeleteTournamentRequest): Promise<DeleteTournamentResponse> =>\r\n  deleteWrapper<DeleteTournamentRequest, DeleteTournamentResponse>('/api/v2/tournament/delete', request);\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport HttpBackend from 'i18next-http-backend';\r\n\r\n// https://linguinecode.com/post/lazy-loading-react-i18next-translations\r\ni18n\r\n\t.use(HttpBackend)\r\n\t.use(LanguageDetector)\r\n\t.use(initReactI18next) // passes i18n down to react-i18next\r\n\t.init({\r\n\t\tdebug: process.env.NODE_ENV !== 'production',\r\n\t\t//## Langs\r\n\t\t// Language to use (overrides language detection)\r\n\t\t// lng: 'it-IT',\r\n\t\t// Array of allowed languages\r\n\t\tsupportedLngs: ['it-IT', 'en-US'],\r\n\t\t// Language to use if translations in user language are not available.\r\n\t\tfallbackLng: 'en-US',\r\n\r\n\t\t//## Namespaces\r\n\t\t// String or array of namespaces to load\r\n\t\tns: ['common', 'auth', 'tournament', 'pair'],\r\n\t\t// Default namespace used if not passed to translation function\r\n\t\tdefaultNS: 'common',\r\n\t\t// String or array of namespaces to lookup key if not found in given namespace.\r\n\t\tfallbackNS: ['common'],\r\n\r\n\t\t//## Load options\r\n\t\t// Array of languages to preload.\r\n\t\tpreload: ['it-IT'],\r\n\t\t/**\r\n\t\t * Language codes to lookup, given set language is\r\n\t\t * 'en-US': 'all' --> ['en-US', 'en', 'dev'],\r\n\t\t * 'currentOnly' --> 'en-US',\r\n\t\t * 'languageOnly' --> 'en'\r\n\t\t */\r\n\t\tload: 'currentOnly',\r\n\t\tinterpolation: {\r\n\t\t\t// react already safes from xss\r\n\t\t\tescapeValue: false,\r\n\t\t},\r\n\t\tbackend: {\r\n\t\t\tloadPath: '/locales/{{lng}}/{{ns}}.json',\r\n\t\t},\r\n\t});\r\n\r\nexport default i18n;\r\n\r\nexport const getOtherLang = () => (i18n.language === 'it-IT' ? 'en-US' : 'it-IT');\r\n","import {\r\n\tGenericReponse,\r\n\tUnexpectedServerError,\r\n\tUserMessage,\r\n\tUserMessageType,\r\n} from '../../@common/models/common.models';\r\nimport { HTTPStatusCode } from '../../@common/models/HttpStatusCode';\r\nimport { toast } from 'react-toastify';\r\nimport { put, call } from 'redux-saga/effects';\r\nimport i18n from '../../i18n/i18n';\r\n\r\nexport const getMessage = (message: UserMessage) => i18n.t(message.label, message.options);\r\n// FIXME: remove this any type\r\nexport function* entityLifeCycle<Req, Res extends GenericReponse>(\r\n\taction: any,\r\n\tmethod: (p: Req) => Res | Promise<Res>,\r\n\tpayload: Req,\r\n\tonSuccess?: (response: Res) => void,\r\n\tonFailure?: (response: Res) => void\r\n): ReturnType<typeof action.request> {\r\n\ttry {\r\n\t\t// Call method with payload\r\n\t\tconst response: Res = yield call(method, payload);\r\n\t\tconst { userMessage: message } = response;\r\n\r\n\t\tif (message) {\r\n\t\t\tconst messageText = getMessage(message);\r\n\t\t\tswitch (message.type) {\r\n\t\t\t\tcase UserMessageType.Success:\r\n\t\t\t\t\ttoast.success(messageText);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase UserMessageType.Warning:\r\n\t\t\t\t\ttoast.warning(messageText);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase UserMessageType.Danger:\r\n\t\t\t\t\ttoast.error(messageText);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If success\r\n\t\t// FIXME: include all 2XX\r\n\t\tif (response.code === HTTPStatusCode.Success) {\r\n\t\t\t// Show success toast\r\n\t\t\t// Dispatch success action\r\n\t\t\tyield put(action.success(response));\r\n\t\t\t// Callback\r\n\t\t\tif (onSuccess) {\r\n\t\t\t\tonSuccess(response);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Dispatch failure action\r\n\t\t\tyield put(action.failure(response));\r\n\t\t\t// Callback\r\n\t\t\tif (onFailure) {\r\n\t\t\t\tonFailure(response);\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tyield put(action.failure(UnexpectedServerError));\r\n\t}\r\n}\r\n","import { put, call, StrictEffect, takeEvery } from 'redux-saga/effects';\r\nimport { fetchTournaments, postTournament, updateTournament } from '../services/tournament.service';\r\nimport {\r\n  SaveTournamentResponse,\r\n  FetchTournamentsResponse,\r\n  UpdateTournamentResponse,\r\n  FetchTournamentsRequest,\r\n  UpdateTournamentRequest,\r\n} from '../../@common/models/tournament.model';\r\nimport { TournamentAction } from '../actions/tournament.action';\r\nimport { HTTPStatusCode } from '../../@common/models/HttpStatusCode';\r\nimport { toast } from 'react-toastify';\r\nimport { UnexpectedServerError } from '../../@common/models/common.models';\r\nimport { entityLifeCycle, getMessage } from './utils';\r\n\r\n// https://medium.com/swlh/asynchronous-with-redux-sagas-b43c9630f218\r\nfunction* getTournamentsSaga({\r\n  payload,\r\n}: ReturnType<typeof TournamentAction.fetch.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<FetchTournamentsRequest, FetchTournamentsResponse>(\r\n    TournamentAction.fetch,\r\n    fetchTournaments,\r\n    payload\r\n  );\r\n}\r\n\r\nfunction* saveTournamentSaga(\r\n  action: ReturnType<typeof TournamentAction.save.request>\r\n): Generator<StrictEffect, void, any> {\r\n  try {\r\n    const response: SaveTournamentResponse = yield call(postTournament, action.payload);\r\n    if (response.code === HTTPStatusCode.Success) {\r\n      yield put(TournamentAction.save.success(response));\r\n      action.payload.history.push('/tournament');\r\n      toast.success(getMessage(response.userMessage));\r\n    } else {\r\n      toast.error(getMessage(response.userMessage));\r\n      yield put(TournamentAction.save.failure(response));\r\n    }\r\n  } catch (err) {\r\n    yield put(TournamentAction.save.failure(UnexpectedServerError));\r\n  }\r\n}\r\n\r\nfunction* updateTournamentSaga({\r\n  payload,\r\n}: ReturnType<typeof TournamentAction.update.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<UpdateTournamentRequest, UpdateTournamentResponse>(\r\n    TournamentAction.update,\r\n    updateTournament,\r\n    payload\r\n  );\r\n}\r\n\r\nexport const TournamentSagas = [\r\n  takeEvery(TournamentAction.fetch.request, getTournamentsSaga),\r\n  takeEvery(TournamentAction.save.request, saveTournamentSaga),\r\n  takeEvery(TournamentAction.update.request, updateTournamentSaga),\r\n];\r\n","import {\r\n  DeletePlayersRequest,\r\n  DeletePlayersResponse,\r\n  FetchPlayersRequest,\r\n  FetchPlayersResponse,\r\n  SavePlayerRequest,\r\n  SavePlayerResponse,\r\n} from '../../@common/models';\r\nimport { StrictEffect, takeEvery } from 'redux-saga/effects';\r\nimport { PlayerAction } from '../actions/player.action';\r\nimport { fetchPlayers, deletePlayers, savePlayer, updatePlayer } from '../services/player.service';\r\nimport { entityLifeCycle } from './utils';\r\n\r\nconst back = (payload: DeletePlayersRequest | SavePlayerRequest) => payload.history?.push('/player');\r\n\r\nfunction* getPlayersSaga({\r\n  payload,\r\n}: ReturnType<typeof PlayerAction.fetchPlayers.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<FetchPlayersRequest, FetchPlayersResponse>(PlayerAction.fetchPlayers, fetchPlayers, payload);\r\n}\r\n\r\nfunction* deletePlayersSaga({\r\n  payload,\r\n}: ReturnType<typeof PlayerAction.deletePlayers.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<DeletePlayersRequest, DeletePlayersResponse>(\r\n    PlayerAction.deletePlayers,\r\n    deletePlayers,\r\n    payload,\r\n    () => back(payload)\r\n  );\r\n}\r\n\r\nfunction* savePlayerSaga({\r\n  payload,\r\n}: ReturnType<typeof PlayerAction.savePlayer.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<SavePlayerRequest, SavePlayerResponse>(PlayerAction.savePlayer, savePlayer, payload, () =>\r\n    back(payload)\r\n  );\r\n}\r\n\r\nfunction* updatePlayerSaga({\r\n  payload,\r\n}: ReturnType<typeof PlayerAction.updatePlayer.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<SavePlayerRequest, SavePlayerResponse>(PlayerAction.updatePlayer, updatePlayer, payload, () =>\r\n    back(payload)\r\n  );\r\n}\r\n\r\nexport const PlayersSagas = [\r\n  takeEvery(PlayerAction.fetchPlayers.request, getPlayersSaga),\r\n  takeEvery(PlayerAction.deletePlayers.request, deletePlayersSaga),\r\n  takeEvery(PlayerAction.savePlayer.request, savePlayerSaga),\r\n  takeEvery(PlayerAction.updatePlayer.request, updatePlayerSaga),\r\n];\r\n","import { StrictEffect, takeEvery } from 'redux-saga/effects';\r\nimport { PairAction } from '../actions';\r\nimport { fetchPairs } from '../services/pair.service';\r\nimport { FetchPairsResponse, FetchPairsRequest } from '../../@common/models';\r\nimport { entityLifeCycle } from './utils';\r\n\r\nfunction* getPairsSaga({ payload }: ReturnType<typeof PairAction.fetch.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<FetchPairsRequest, FetchPairsResponse>(PairAction.fetch, fetchPairs, payload);\r\n}\r\n\r\nexport const PairsSagas = [takeEvery(PairAction.fetch.request, getPairsSaga)];\r\n","import {\r\n\tAuthenticationResponse,\r\n\tLoginRequest,\r\n\tRegistrationRequest,\r\n\tRegistrationResponse,\r\n\tUpdateUserRequest,\r\n\tDeleteUserRequest,\r\n} from '../../@common/models';\r\nimport { eventChannel, buffers, END } from 'redux-saga';\r\nimport { HTTPStatusCode } from '../../@common/models/HttpStatusCode';\r\nimport { OmitHistory, UnexpectedServerError, UserMessageType } from '../../@common/models/common.models';\r\nimport { putWrapper, deleteWrapper, postWrapper, getWrapper } from '../../@common/utils';\r\n\r\nexport enum SessionStatus {\r\n\t// Sessione scaduta, reindirizza l'utente alla login\r\n\tSESSION_EXPIRED = 'session_expired',\r\n\t// Necessario aggiornamento dati su Stage1\r\n\tNEED_REFRESH = 'need_refresh',\r\n}\r\n\r\nexport interface Message {\r\n\tstatus: SessionStatus;\r\n\tmessage?: string;\r\n}\r\n\r\n// Update\r\nexport const updateUser = async (updateUserRequest: OmitHistory<UpdateUserRequest>): Promise<AuthenticationResponse> =>\r\n\tputWrapper<UpdateUserRequest, AuthenticationResponse>('/api/v2/auth/update', updateUserRequest);\r\n\r\n// Delete\r\nexport const deleteUser = async (deleteUserRequest: OmitHistory<DeleteUserRequest>): Promise<AuthenticationResponse> =>\r\n\tdeleteWrapper<DeleteUserRequest, AuthenticationResponse>('/api/v2/auth/delete', deleteUserRequest);\r\n\r\n// Login\r\nexport const login = async (loginRequest: OmitHistory<LoginRequest>): Promise<AuthenticationResponse> =>\r\n\tpostWrapper<LoginRequest, AuthenticationResponse>('/api/v2/auth/login', loginRequest);\r\n\r\n// Login\r\nexport const logout = async (): Promise<AuthenticationResponse> =>\r\n\tgetWrapper<AuthenticationResponse>('/api/v2/auth/logout');\r\n\r\n// Registration\r\nexport const registration = async (\r\n\tregistrationRequest: OmitHistory<RegistrationRequest>\r\n): Promise<RegistrationResponse> =>\r\n\tpostWrapper<RegistrationRequest, AuthenticationResponse>('/api/v2/auth/register', registrationRequest);\r\n\r\nexport const CheckAuthentication = async (): Promise<AuthenticationResponse> => {\r\n\tlet response;\r\n\ttry {\r\n\t\tresponse = await fetch('/api/v2/auth/check');\r\n\t\treturn await response.json();\r\n\t} catch (error) {\r\n\t\tif (response?.status === HTTPStatusCode.Unauthorized) {\r\n\t\t\treturn {\r\n\t\t\t\tuser: undefined,\r\n\t\t\t\tcode: HTTPStatusCode.Success,\r\n\t\t\t\tmessage: 'Unauthorize',\r\n\t\t\t\tuserMessage: { type: UserMessageType.Success, label: 'common:server.unauthorize' },\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tuser: undefined,\r\n\t\t\t...UnexpectedServerError,\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// Session Control\r\nexport const createSessionChannel = (channel: EventSource) =>\r\n\teventChannel<Message>((emitter) => {\r\n\t\t// Listen for open channel\r\n\t\tconst openListener = (event: Event) => console.log('Connected...');\r\n\r\n\t\t// Listen for new message\r\n\t\tconst messageListener = (messageEvent: MessageEvent) => {\r\n\t\t\tif (messageEvent) {\r\n\t\t\t\tconst message = JSON.parse(messageEvent.data) as Message;\r\n\t\t\t\tif (message.status === SessionStatus.SESSION_EXPIRED) {\r\n\t\t\t\t\temitter(message);\r\n\t\t\t\t\tcloseConnection();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t// Listen for error\r\n\t\tconst errorListener = (event: Event) => {\r\n\t\t\tconsole.error('An Error Occur: ', event);\r\n\t\t\temitter(END);\r\n\t\t\tcloseConnection();\r\n\t\t};\r\n\t\tchannel.addEventListener('open', openListener);\r\n\t\tchannel.addEventListener('message', messageListener);\r\n\t\tchannel.addEventListener('error', errorListener);\r\n\t\t// Cleanup function\r\n\t\tconst closeConnection = () => {\r\n\t\t\tchannel.removeEventListener('open', openListener);\r\n\t\t\tchannel.removeEventListener('message', messageListener);\r\n\t\t\tchannel.removeEventListener('error', errorListener);\r\n\t\t\tchannel.close();\r\n\t\t};\r\n\t\treturn closeConnection;\r\n\t}, buffers.expanding());\r\n","import { eventChannel, END, buffers } from 'redux-saga';\r\nimport { SessionStatus, Message } from './auth.service';\r\nimport {\r\n  FetchStage1Request,\r\n  FetchStage1Response,\r\n  UpdateCellRequest,\r\n  UpdateCellResponse,\r\n  UpdatePlacementRequest,\r\n  UpdatePlacementResponse,\r\n} from '../../@common/models';\r\nimport { rowsGenerator } from '../../components/Stage1/helper';\r\nimport { postWrapper, putWrapper } from '../../@common/utils/fetch.utils';\r\n\r\nexport const fetchStage1 = async ({ pairsList, stageName }: FetchStage1Request): Promise<FetchStage1Response> =>\r\n  postWrapper<FetchStage1Request, FetchStage1Response>('/api/v1/stage1', {\r\n    // FIXME:\r\n    rows: rowsGenerator(pairsList),\r\n    stageName,\r\n    pairsList,\r\n  });\r\n\r\nexport const updatePlacement = async (request: UpdatePlacementRequest): Promise<UpdatePlacementResponse> =>\r\n  putWrapper<UpdatePlacementRequest, UpdatePlacementResponse>('/api/v1/stage1/update/placement', request);\r\n\r\nexport const updateCellStage1 = async (request: UpdateCellRequest): Promise<UpdateCellResponse> =>\r\n  putWrapper<UpdateCellRequest, UpdateCellResponse>('/api/v1/stage1/update/cell', request);\r\n\r\nexport const createStage1Channel = (channel: EventSource) =>\r\n  eventChannel<Message>((emitter) => {\r\n    // Listen for open channel\r\n    const openListener = (event: Event) => console.log('Stage1 Channel is now open.');\r\n\r\n    // Listen for new message\r\n    const messageListener = (messageEvent: MessageEvent) => {\r\n      if (messageEvent) {\r\n        const message = JSON.parse(messageEvent.data) as Message;\r\n        if (message.status === SessionStatus.NEED_REFRESH) {\r\n          emitter(message);\r\n          closeConnection();\r\n        }\r\n      }\r\n    };\r\n    // Listen for error\r\n    const errorListener = (event: Event) => {\r\n      console.error('An Error Occur: ', event);\r\n      emitter(END);\r\n      closeConnection();\r\n    };\r\n    channel.addEventListener('open', openListener);\r\n    channel.addEventListener('message', messageListener);\r\n    channel.addEventListener('error', errorListener);\r\n    // Cleanup function\r\n    const closeConnection = () => {\r\n      channel.removeEventListener('open', openListener);\r\n      channel.removeEventListener('message', messageListener);\r\n      channel.removeEventListener('error', errorListener);\r\n      channel.close();\r\n    };\r\n    return closeConnection;\r\n  }, buffers.expanding());\r\n","import { Stage1Action } from '../actions';\r\nimport { takeLatest, StrictEffect, call, take, takeEvery } from 'redux-saga/effects';\r\nimport { createStage1Channel, fetchStage1, updateCellStage1, updatePlacement } from '../services/stage1.service';\r\nimport {\r\n  FetchStage1Request,\r\n  FetchStage1Response,\r\n  SelectPairsRequest,\r\n  SelectPairsResponse,\r\n  UpdateCellRequest,\r\n  UpdateCellResponse,\r\n  UpdatePlacementRequest,\r\n  UpdatePlacementResponse,\r\n} from '../../@common/models';\r\nimport { entityLifeCycle } from './utils';\r\nimport { selectPairs } from '../services/pair.service';\r\n\r\n// TODO:\r\nfunction* watchStage1Saga(\r\n  action: ReturnType<typeof Stage1Action.stage1Watcher.request>\r\n): Generator<StrictEffect, void, any> {\r\n  try {\r\n    console.log('watchStage1Saga : start');\r\n    const eventChannel = new EventSource('/sse/v1/session');\r\n    const channel = yield call(createStage1Channel, eventChannel);\r\n    while (true) {\r\n      const message = yield take(channel);\r\n      console.log('watchStage1Saga.message : ', message);\r\n    }\r\n  } catch (err) {\r\n    console.log('watchStage1Saga.err : ', err);\r\n  }\r\n}\r\n\r\nfunction* fetchSaga({\r\n  payload,\r\n}: ReturnType<typeof Stage1Action.fetchStage1.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<FetchStage1Request, FetchStage1Response>(Stage1Action.fetchStage1, fetchStage1, payload);\r\n}\r\n\r\nfunction* updateCellSaga({\r\n  payload,\r\n}: ReturnType<typeof Stage1Action.updateCellStage1.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<UpdateCellRequest, UpdateCellResponse>(\r\n    Stage1Action.updateCellStage1,\r\n    updateCellStage1,\r\n    payload\r\n  );\r\n}\r\n\r\nfunction* updatePlacementSaga({\r\n  payload,\r\n}: ReturnType<typeof Stage1Action.updatePlacement.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<UpdatePlacementRequest, UpdatePlacementResponse>(\r\n    Stage1Action.updateCellStage1,\r\n    updatePlacement,\r\n    payload\r\n  );\r\n}\r\n\r\nfunction* updateSelectedPairsSaga({\r\n  payload,\r\n}: ReturnType<typeof Stage1Action.updateSelectedPairs.request>): Generator<StrictEffect, void, any> {\r\n  yield entityLifeCycle<SelectPairsRequest, SelectPairsResponse>(\r\n    Stage1Action.updateSelectedPairs,\r\n    selectPairs,\r\n    payload\r\n  );\r\n}\r\n\r\nexport const Stage1Sagas = [\r\n  takeLatest(Stage1Action.stage1Watcher.request, watchStage1Saga),\r\n  takeEvery(Stage1Action.fetchStage1.request, fetchSaga),\r\n  takeEvery(Stage1Action.updateCellStage1.request, updateCellSaga),\r\n  takeEvery(Stage1Action.updatePlacement.request, updatePlacementSaga),\r\n  takeEvery(Stage1Action.updateSelectedPairs.request, updateSelectedPairsSaga),\r\n];\r\n","import { put, call, StrictEffect, takeEvery, select, fork } from 'redux-saga/effects';\r\nimport { Stage2Action, TournamentAction } from '../actions';\r\nimport { fetchStage2, updateCells, deleteStage2 } from '../services/stage2.service';\r\nimport { FetchStage2Response, DeleteStage2Response } from '../../@common/models';\r\nimport { TournamentSelector } from '../selectors';\r\nimport { toast } from 'react-toastify';\r\nimport { TournamentProgress } from '../../@common/dto';\r\n\r\nfunction* deleteStage2Saga(action: ReturnType<typeof Stage2Action.delete.request>): Generator<StrictEffect, void, any> {\r\n  try {\r\n    const response: DeleteStage2Response = yield call(deleteStage2, action.payload.tId);\r\n    yield put(Stage2Action.delete.success(response));\r\n    const tournament = yield select(TournamentSelector.getTournament);\r\n    tournament.progress = TournamentProgress.Stage1;\r\n    toast.success('Fase 2 eiminata...');\r\n    yield put(TournamentAction.update.request({ tournament }));\r\n  } catch (err) {\r\n    yield put(Stage2Action.delete.failure(err));\r\n    toast.error('Error while deleting Stage2');\r\n  }\r\n}\r\n\r\nfunction* fetchStage2Saga(\r\n  action: ReturnType<typeof Stage2Action.fetchStage2.request>\r\n): Generator<StrictEffect, void, any> {\r\n  try {\r\n    const response: FetchStage2Response = yield call(fetchStage2, action.payload);\r\n    yield put(Stage2Action.fetchStage2.success(response));\r\n  } catch (err) {\r\n    yield put(Stage2Action.fetchStage2.failure(err));\r\n    toast.error('Error while fetching Stage2');\r\n  }\r\n}\r\n\r\nfunction* updateCellsSaga({\r\n  payload: { cell1, cell2 },\r\n}: ReturnType<typeof Stage2Action.updateCell.request>): Generator<StrictEffect, void, any> {\r\n  try {\r\n    yield fork(updateCells, cell1, cell2);\r\n    yield put(Stage2Action.updateCell.success({}));\r\n  } catch (err) {\r\n    yield put(Stage2Action.updateCell.failure(err));\r\n    toast.error('Error while updating Stage2');\r\n  }\r\n}\r\n\r\nexport const Stage2Sagas = [\r\n  takeEvery(Stage2Action.fetchStage2.request, fetchStage2Saga),\r\n  takeEvery(Stage2Action.updateCell.request, updateCellsSaga),\r\n  takeEvery(Stage2Action.delete.request, deleteStage2Saga),\r\n];\r\n","import { put, call, StrictEffect, takeEvery, take, takeLatest, delay } from 'redux-saga/effects';\r\nimport { AuthAction } from '../actions/auth.action';\r\nimport { AuthenticationResponse, RegistrationResponse } from '../../@common/models';\r\nimport {\r\n\tCheckAuthentication,\r\n\tcreateSessionChannel,\r\n\tMessage,\r\n\tlogin,\r\n\tregistration,\r\n\tupdateUser,\r\n\tdeleteUser,\r\n\tlogout,\r\n\tSessionStatus,\r\n} from '../services/auth.service';\r\nimport { toast } from 'react-toastify';\r\nimport { Action } from 'typesafe-actions';\r\nimport { persistor } from '../store';\r\nimport { HTTPStatusCode } from '../../@common/models/HttpStatusCode';\r\nimport { TournamentAction } from '../actions';\r\nimport { UserMessageType } from '../../@common/models/common.models';\r\nimport { getMessage } from './utils';\r\nimport i18next from 'src/i18n/i18n';\r\n\r\nfunction* checkAuthenticationSaga({\r\n\tpayload: { history },\r\n}: ReturnType<typeof AuthAction.checkAuthentication.request>): Generator<StrictEffect, void, any> {\r\n\ttry {\r\n\t\tconst response: AuthenticationResponse = yield call(CheckAuthentication);\r\n\t\tif (response.code === HTTPStatusCode.Success) {\r\n\t\t\tyield put(AuthAction.checkAuthentication.success(response));\r\n\t\t\tyield put(AuthAction.sessionControl.request({ history }));\r\n\t\t} else {\r\n\t\t\tyield put(AuthAction.checkAuthentication.failure(response));\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tyield put(AuthAction.checkAuthentication.failure(err));\r\n\t}\r\n}\r\n\r\n/*\r\nFIXME:\r\nhttps://github.com/redux-saga/redux-saga/issues/868\r\nhttps://github.com/redux-saga/redux-saga/blob/master/docs/advanced/Channels.md#using-the-eventchannel-factory-to-connect-to-external-events\r\nhttps://github.com/redux-saga/redux-saga/issues/940#issuecomment-298170212\r\n*/\r\n\r\nfunction* watchSessionSaga({\r\n\tpayload: { history },\r\n}: ReturnType<typeof AuthAction.sessionControl.request>): Generator<StrictEffect, void, any> {\r\n\ttry {\r\n\t\tconst eventChannel = new EventSource('/sse/v1/session');\r\n\t\tconst channel = yield call(createSessionChannel, eventChannel);\r\n\t\twhile (true) {\r\n\t\t\tconst message: Message = yield take(channel);\r\n\t\t\tif (message && message.status === SessionStatus.SESSION_EXPIRED) {\r\n\t\t\t\ttoast.error(i18next.t('auth:expired_alert'));\r\n\t\t\t\tyield delay(3000);\r\n\t\t\t\tyield put(\r\n\t\t\t\t\tAuthAction.logout.success({\r\n\t\t\t\t\t\tuser: undefined,\r\n\t\t\t\t\t\tcode: HTTPStatusCode.Unauthorized,\r\n\t\t\t\t\t\tmessage: 'Unauthorized!',\r\n\t\t\t\t\t\tuserMessage: {\r\n\t\t\t\t\t\t\ttype: UserMessageType.Danger,\r\n\t\t\t\t\t\t\tlabel: 'auth:expired',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\thistory.push('/login');\r\n\t\t\t\tpersistor.purge();\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tconsole.log('watchSessionSaga.err : ', err);\r\n\t}\r\n}\r\n\r\n// Logout\r\nfunction* logoutSaga({\r\n\tpayload: { history },\r\n}: ReturnType<typeof AuthAction.logout.request>): Generator<StrictEffect, void, any> {\r\n\tconst logoutReponse: AuthenticationResponse = yield call(logout);\r\n\tconst message = getMessage(logoutReponse.userMessage);\r\n\tif (logoutReponse.code === HTTPStatusCode.Success) {\r\n\t\tyield put(AuthAction.logout.success(logoutReponse));\r\n\t\thistory.push('/');\r\n\t\ttoast.success(message);\r\n\t} else {\r\n\t\ttoast.error(message);\r\n\t\tyield put(AuthAction.logout.failure(logoutReponse));\r\n\t}\r\n\tpersistor.purge();\r\n\tyield put(\r\n\t\tAuthAction.logout.success({\r\n\t\t\tcode: HTTPStatusCode.Success,\r\n\t\t\tmessage: 'Logout complete',\r\n\t\t\tuserMessage: {\r\n\t\t\t\ttype: UserMessageType.Success,\r\n\t\t\t\tlabel: 'auth:logout',\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n}\r\n\r\n// Login\r\nfunction* loginSaga({\r\n\tpayload: { history, ...loginRequest },\r\n}: ReturnType<typeof AuthAction.login.request>): Generator<StrictEffect, void, any> {\r\n\t// Validate Login\r\n\tconst loginReponse: AuthenticationResponse = yield call(login, loginRequest);\r\n\tconst message = getMessage(loginReponse.userMessage);\r\n\tconsole.log('login saga : ', message, loginReponse.userMessage);\r\n\tconsole.log('trans : ', i18next.t('auth:name'));\r\n\tconsole.log('trans : ', i18next.t('auth:server.error.wrong_credential'));\r\n\tconsole.log('trans : ', i18next.t(loginReponse.userMessage.label!));\r\n\tif (loginReponse.code === HTTPStatusCode.Success) {\r\n\t\tyield put(AuthAction.login.success(loginReponse));\r\n\t\t// Session control\r\n\t\tyield put(AuthAction.sessionControl.request({ history }));\r\n\t\t// Fetch tournament\r\n\t\tyield put(TournamentAction.fetch.request({}));\r\n\t\t// history.push('/');\r\n\t\ttoast.success(message);\r\n\t} else {\r\n\t\ttoast.error(message);\r\n\t\tyield put(AuthAction.login.failure(loginReponse));\r\n\t}\r\n}\r\n\r\n// Registration\r\nfunction* registrationSaga({\r\n\tpayload: { history, ...registrationRequest },\r\n}: ReturnType<typeof AuthAction.registration.request>): Generator<StrictEffect, void, any> {\r\n\t// Validate Registration\r\n\tconst registrationReponse: RegistrationResponse = yield call(registration, registrationRequest);\r\n\tconst message = getMessage(registrationReponse.userMessage);\r\n\tif (registrationReponse.code === HTTPStatusCode.Success) {\r\n\t\tyield put(AuthAction.registration.success(registrationReponse));\r\n\t\t// Session control\r\n\t\tyield put(AuthAction.sessionControl.request({ history }));\r\n\t\t// Fetch tournament\r\n\t\tyield put(TournamentAction.fetch.request({}));\r\n\t\thistory.push('/');\r\n\t\ttoast.success(message);\r\n\t} else {\r\n\t\tif (registrationReponse.errors) {\r\n\t\t\tregistrationReponse.errors.forEach((e) => toast.error(i18next.t(e.label, e.options)));\r\n\t\t}\r\n\t\tyield put(AuthAction.registration.failure(registrationReponse));\r\n\t}\r\n}\r\n\r\n// Update user\r\nfunction* updateUserSaga({\r\n\tpayload: { history, ...updateUserRequest },\r\n}: ReturnType<typeof AuthAction.update.request>): Generator<StrictEffect, void, any> {\r\n\t// Validate Login\r\n\tconst updateReponse: AuthenticationResponse = yield call(updateUser, updateUserRequest);\r\n\tconst message = getMessage(updateReponse.userMessage);\r\n\tif (updateReponse.code === HTTPStatusCode.Success) {\r\n\t\tyield put(AuthAction.update.success(updateReponse));\r\n\t\thistory.push('/');\r\n\t\ttoast.success(message);\r\n\t} else {\r\n\t\ttoast.error(message);\r\n\t\tyield put(AuthAction.update.failure(updateReponse));\r\n\t}\r\n}\r\n\r\n// Delete user\r\nfunction* deleteUserSaga({\r\n\tpayload: { history, ...deleteUserRequest },\r\n}: ReturnType<typeof AuthAction.delete.request>): Generator<StrictEffect, void, any> {\r\n\t// Validate Login\r\n\tconst deleteReponse: AuthenticationResponse = yield call(deleteUser, deleteUserRequest);\r\n\tconst message = getMessage(deleteReponse.userMessage);\r\n\tif (deleteReponse.code === HTTPStatusCode.Success) {\r\n\t\tyield put(AuthAction.delete.success(deleteReponse));\r\n\t\tyield put(AuthAction.logout.request({ history }));\r\n\t\ttoast.success(message);\r\n\t} else {\r\n\t\ttoast.error(message);\r\n\t\tyield put(AuthAction.delete.failure(deleteReponse));\r\n\t}\r\n}\r\n\r\nfunction logger(action: Action<any>) {\r\n\tif (process.env.NODE_ENV === 'development') {\r\n\t\tconsole.log('Action : ', action);\r\n\t}\r\n}\r\n\r\nexport const SessionSagas = [\r\n\ttakeEvery(AuthAction.logout.request, logoutSaga),\r\n\ttakeEvery(AuthAction.login.request, loginSaga),\r\n\ttakeEvery(AuthAction.update.request, updateUserSaga),\r\n\ttakeEvery(AuthAction.delete.request, deleteUserSaga),\r\n\ttakeEvery(AuthAction.registration.request, registrationSaga),\r\n\ttakeEvery(AuthAction.checkAuthentication.request, checkAuthenticationSaga),\r\n\ttakeLatest(AuthAction.sessionControl.request, watchSessionSaga),\r\n\ttakeEvery('*', logger),\r\n];\r\n","import createSagaMiddleware from 'redux-saga';\r\nimport { createStore, applyMiddleware, compose, combineReducers, ReducersMapObject } from 'redux';\r\nimport { all } from 'redux-saga/effects';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport localForage from 'localforage';\r\nimport { RootState } from '../@common/models';\r\nimport {\r\n  TournamentReducer,\r\n  PlayerReducer,\r\n  PairReducer,\r\n  SessionReducer,\r\n  Stage1Reducer,\r\n  Stage2Reducer,\r\n  initialTournamentState,\r\n  initialPairState,\r\n  initialPlayerState,\r\n  initialStage1State,\r\n  initialStage2State,\r\n  initialSessionState,\r\n} from './reducers';\r\nimport { TournamentSagas, PlayersSagas, PairsSagas, SessionSagas, Stage2Sagas, Stage1Sagas } from './sagas';\r\nimport { initialState } from '../@common/models/common.models';\r\n\r\n// TODO: https://manukyan.dev/posts/2019-04-15-code-splitting-for-redux-and-optional-redux-saga/#:~:text=Redux%20Saga%20Code%20Splitting,whenever%20those%20actions%20are%20dispatched.\r\n\r\n// https://github.com/rt2zz/redux-persist\r\n// https://redux-saga.js.org/docs/introduction/BeginnerTutorial.html\r\n// custom compose for the redux devtool extension\r\nconst composeEnhancers =\r\n  (process.env.NODE_ENV !== 'production' &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n      trace: true,\r\n      traceLimit: 25,\r\n    })) ||\r\n  compose;\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nexport const rootReducers: ReducersMapObject<RootState> = {\r\n  tournamentState: TournamentReducer,\r\n  playerState: PlayerReducer,\r\n  pairState: PairReducer,\r\n  authState: SessionReducer,\r\n  stage1State: Stage1Reducer,\r\n  stage2State: Stage2Reducer,\r\n};\r\n\r\nexport const initialStoreState: RootState = {\r\n  tournamentState: initialTournamentState,\r\n  pairState: initialPairState,\r\n  playerState: initialPlayerState,\r\n  stage1State: initialStage1State,\r\n  stage2State: initialStage2State,\r\n  authState: initialSessionState,\r\n};\r\n\r\n// Meet the Store\r\nexport const store = createStore(\r\n  persistReducer(\r\n    {\r\n      key: 'app',\r\n      storage: localForage,\r\n    },\r\n    combineReducers(rootReducers)\r\n  ),\r\n  composeEnhancers(applyMiddleware(sagaMiddleware))\r\n);\r\n\r\nexport const storeWithState = (preloaded: RootState = initialState) =>\r\n  createStore(\r\n    persistReducer(\r\n      {\r\n        key: 'app',\r\n        storage: localForage,\r\n      },\r\n\r\n      combineReducers(rootReducers)\r\n    ),\r\n    preloaded,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n\r\nexport const persistor = persistStore(store);\r\n\r\n// expose store when run in Cypress\r\n// https://www.cypress.io/blog/2018/11/14/testing-redux-store/\r\n// FIXME:\r\nif ((<any> window).Cypress) {\r\n\t(<any> window).store = store;\r\n}\r\n\r\n// Exec all sagas\r\nfunction* rootSagas() {\r\n  yield all([...TournamentSagas, ...PlayersSagas, ...PairsSagas, ...SessionSagas, ...Stage2Sagas, ...Stage1Sagas]);\r\n}\r\n\r\nsagaMiddleware.run(rootSagas);\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/header.dc972d44.jpg\";","import React, { lazy } from 'react';\r\nimport { MaleIcon, FileMedicalIcon } from '../icons';\r\n\r\nconst lazySwagger = lazy(() => import('../../Swagger/Swagger'));\r\nconst lazyPlayer = lazy(() => import('../../Player/table'));\r\nconst lazyPlayerEdit = lazy(() => import('../../Player/edit'));\r\nconst lazyTournament = lazy(() => import('../../Tournament/select'));\r\nconst lazyPairs = lazy(() => import('../../Pair/table'));\r\nconst lazyStage1 = lazy(() => import('../../Stage1/wrapper'));\r\nconst lazyStage2 = lazy(() => import('../../Stage2/handler'));\r\nconst lazyLogin = lazy(() => import('../../Auth/Wrapper'));\r\nconst lazyUser = lazy(() => import('../../Auth/Edit'));\r\nconst lazyRedirectionControl = lazy(() =>\r\n  import('../generic/Commons').then((module) => ({ default: module.RedirectionControl }))\r\n);\r\n\r\nexport interface routeType {\r\n  path: string;\r\n  label: string;\r\n  exact: boolean;\r\n  componentToRender: React.LazyExoticComponent<React.ComponentType<any>>;\r\n  icon?: React.ComponentType;\r\n  visible: boolean;\r\n  index: number;\r\n  private: boolean;\r\n}\r\n\r\n// Mappatura route\r\nexport const routes: routeType[] = [\r\n  {\r\n    path: '/login',\r\n    label: 'route.login',\r\n    exact: true,\r\n    componentToRender: lazyLogin,\r\n    visible: false,\r\n    private: false,\r\n    index: 0,\r\n  },\r\n  {\r\n    path: '/',\r\n    label: 'route.home',\r\n    exact: true,\r\n    componentToRender: lazyTournament,\r\n    visible: false,\r\n    private: true,\r\n    index: 10,\r\n  },\r\n  {\r\n    path: '/tournament',\r\n    label: 'route.tournament',\r\n    exact: true,\r\n    componentToRender: lazyPairs,\r\n    visible: false,\r\n    private: true,\r\n    index: 20,\r\n  },\r\n  {\r\n    path: '/stage1',\r\n    label: 'route.stage1',\r\n    exact: true,\r\n    componentToRender: lazyStage1,\r\n    visible: false,\r\n    private: true,\r\n    index: 30,\r\n  },\r\n  {\r\n    path: '/player',\r\n    label: 'route.player',\r\n    exact: true,\r\n    componentToRender: lazyPlayer,\r\n    icon: MaleIcon,\r\n    visible: true,\r\n    private: true,\r\n    index: 40,\r\n  },\r\n  {\r\n    path: '/player/edit',\r\n    label: 'route.player',\r\n    exact: true,\r\n    componentToRender: lazyPlayerEdit,\r\n    visible: false,\r\n    private: true,\r\n    index: 41,\r\n  },\r\n  {\r\n    path: '/user',\r\n    label: 'route.user',\r\n    exact: true,\r\n    componentToRender: lazyUser,\r\n    visible: false,\r\n    private: true,\r\n    index: 50,\r\n  },\r\n  {\r\n    path: '/stage2',\r\n    label: 'route.stage2',\r\n    exact: true,\r\n    componentToRender: lazyStage2,\r\n    visible: false,\r\n    private: true,\r\n    index: 60,\r\n  },\r\n  {\r\n    path: '/swagger',\r\n    label: 'route.swagger',\r\n    exact: true,\r\n    componentToRender: lazySwagger,\r\n    icon: FileMedicalIcon,\r\n    visible: true,\r\n    private: true,\r\n    index: 70,\r\n  },\r\n  // TODO: creare pagina per route not found\r\n  {\r\n    path: '*',\r\n    label: 'route.notFound',\r\n    exact: false,\r\n    componentToRender: lazyRedirectionControl,\r\n    visible: false,\r\n    private: true,\r\n    index: 1000,\r\n  },\r\n];\r\nexport default routes;\r\n\r\nexport function getLabelByPathname(pathName: string): string {\r\n  const element = routes.find((e) => e.path === pathName);\r\n  return element ? element.label : `route ${pathName} not found!`;\r\n}\r\n\r\nexport function getRouteByPathname(pathName: string): routeType | undefined {\r\n  return routes.find((e) => e.path === pathName);\r\n}\r\n","import React, { CSSProperties } from 'react';\r\nimport backgroundImage from '../../assets/header.jpg';\r\nimport { Jumbotron, Navbar, Nav, Button, Dropdown, ButtonGroup } from 'react-bootstrap';\r\nimport routes from '../core/routing/Routes';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AuthSelector } from '../../redux/selectors/auth.selector';\r\nimport { HomeIcon, LanguageIcon, UserIcon, LogoutIcon } from '../core/icons';\r\nimport { AuthAction } from '../../redux/actions';\r\nimport i18n, { getOtherLang } from '../../i18n/i18n';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst applicationName = 'Calcetto C.S.M';\r\n\r\n// App header with navbar\r\nconst Header: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const currentHistory = useHistory();\r\n  const { t } = useTranslation(['common']);\r\n\r\n  const { user, isAuthenticated, isAdmin } = useSelector(AuthSelector.getSession);\r\n\r\n  const logout = () => dispatch(AuthAction.logout.request({ history: currentHistory }));\r\n\r\n  // const yellow = '#ffc107';\r\n  const jumboStyle: CSSProperties = {\r\n    backgroundImage: `url(${backgroundImage})`,\r\n    backgroundSize: 'cover',\r\n    padding: '60px 0px 10px 0px',\r\n    minHeight: '28vh',\r\n  };\r\n\r\n  const titleStyle: CSSProperties = {\r\n    color: 'white',\r\n  };\r\n\r\n  const otherLang = getOtherLang();\r\n\r\n  return (\r\n    <header>\r\n      <Jumbotron style={jumboStyle}>\r\n        <h1 style={{ margin: '5vh' }}>\r\n          <strong style={titleStyle}>{applicationName}</strong>\r\n        </h1>\r\n        {isAuthenticated ? (\r\n          <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n            <Navbar.Brand as={Link} to=\"/\">\r\n              <span>\r\n                <HomeIcon /> {t('route.home')}\r\n              </span>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n              <Nav className=\"mr-auto\">\r\n                {routes.map((route) =>\r\n                  !route.visible || (route.path === '/swagger' && !isAdmin) ? null : (\r\n                    <Nav.Link as={Link} key={route.index} to={route.path} className=\"text-white\">\r\n                      <span>\r\n                        {route.icon ? <route.icon /> : null} {t(route.label)}\r\n                      </span>\r\n                    </Nav.Link>\r\n                  )\r\n                )}\r\n              </Nav>\r\n              {user ? (\r\n                <>\r\n                  <Dropdown alignRight as={ButtonGroup}>\r\n                    <Button style={{ opacity: 1 }} variant=\"outline-warning\" size=\"lg\" disabled>\r\n                      <strong style={{ color: '#64bd9c', fontSize: 'larger' }} data-cy=\"header-username\">\r\n                        {user.username} <UserIcon />\r\n                      </strong>\r\n                    </Button>\r\n                    <Dropdown.Toggle split variant=\"outline-warning\" id=\"dropdown-custom-2\" data-cy=\"header-dropdown\" />\r\n                    <Dropdown.Menu className=\"default-background default-border-yellow\">\r\n                      <Dropdown.Item\r\n                        className=\"default-color-white default-hover-green\"\r\n                        as={Link}\r\n                        to={'/user'}\r\n                        eventKey=\"1\"\r\n                      >\r\n                        <span>{t('route.user')}</span>\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item\r\n                        className=\"default-color-white default-hover-green\"\r\n                        onClick={() => i18n.changeLanguage(otherLang)}\r\n                        as=\"button\"\r\n                        eventKey=\"2\"\r\n                      >\r\n                        <span>\r\n                          <LanguageIcon /> {t(`common:lang.${otherLang}`)}\r\n                        </span>\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Divider style={{ borderTopColor: '#ffc107' }} />\r\n                      <Dropdown.Item\r\n                        className=\"default-color-white default-hover-green\"\r\n                        as=\"button\"\r\n                        onClick={logout}\r\n                        eventKey=\"3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-cy=\"header-user-logout\"\r\n                      >\r\n                        <span>\r\n                          <LogoutIcon /> <strong>{t('logout')} </strong>\r\n                        </span>\r\n                      </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </>\r\n              ) : null}\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n        ) : null}\r\n      </Jumbotron>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// https://github.com/openscript/react-example-authentication-redirection\r\n\r\nimport * as React from 'react';\r\nimport { Route } from 'react-router';\r\nimport { routeType, getLabelByPathname } from './Routes';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useSelector, connect } from 'react-redux';\r\nimport { AuthSelector } from '../../../redux/selectors/auth.selector';\r\nimport { TournamentSelector } from '../../../redux/selectors';\r\n\r\n// HOC gestisce la visibilità dei componenti ed eventualmente reindirizza alla login\r\nexport const ProtectedRoute: React.FC<routeType> = (props) => {\r\n  const isAuthenticated = useSelector(AuthSelector.isAuthenticated);\r\n  const session = useSelector(AuthSelector.getSession);\r\n  const tournament = useSelector(TournamentSelector.getTournament);\r\n  return (\r\n    <Route\r\n      {...props}\r\n      render={(innerProps) => {\r\n        const { location } = innerProps;\r\n        console.log('ProtectedRoute : ', session, tournament, location);\r\n        // Se sono gia autenticato e sto chiedendo la login, reindirizzo alla home\r\n        if (isAuthenticated && location.pathname === '/login') {\r\n          console.log('ProtectedRoute => redirect to Home');\r\n          return <Redirect {...props} to={{ pathname: '/', state: { from: location } }} />;\r\n        }\r\n\r\n        // Se non è una rotta protetta\r\n        if (!props.private) {\r\n          console.log('ProtectedRoute => public route : ', { ...props });\r\n          return <props.componentToRender {...props} />;\r\n        }\r\n\r\n        // Se è una rotta privata e non sono autenticato devo andare alla login\r\n        if (!isAuthenticated) {\r\n          console.log('ProtectedRoute => redirect to Login : ', { ...session });\r\n          return <Redirect {...props} to={{ pathname: '/login', state: { from: location } }} />;\r\n        }\r\n        /**\r\n         * Se sono arrivato qui vuol dire che è una rotta protetta, che sono autenticato\r\n         * e che non sto chiedendo di andare alla login. Quindi direi che posso andare dove voglio...\r\n         */\r\n        console.log('ProtectedRoute => render component : ', getLabelByPathname(location.pathname));\r\n        return <props.componentToRender {...props} />;\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default connect(ProtectedRoute);\r\n","import React from 'react';\r\n\r\ninterface IErrorBoundaryProps {\r\n  readonly children: JSX.Element | JSX.Element[];\r\n}\r\n\r\ninterface IErrorBoundaryState {\r\n  readonly error: any;\r\n  readonly errorInfo: any;\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<IErrorBoundaryProps, IErrorBoundaryState> {\r\n  readonly state: IErrorBoundaryState = { error: undefined, errorInfo: undefined };\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { error, errorInfo } = this.state;\r\n    const { children } = this.props;\r\n    if (errorInfo) {\r\n      const errorDetails =\r\n        process.env.NODE_ENV === 'development' ? (\r\n          <details className=\"preserve-space\">\r\n            {error && error.toString()}\r\n            <br />\r\n            {errorInfo.componentStack}\r\n          </details>\r\n        ) : undefined;\r\n      return (\r\n        <div>\r\n          <h2 className=\"error\">An unexpected error has occurred.</h2>\r\n          {errorDetails}\r\n        </div>\r\n      );\r\n    }\r\n    return children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React, { CSSProperties } from 'react';\r\nimport { Badge } from 'react-bootstrap';\r\n\r\ninterface AppBadgeProps {}\r\nconst AppBadge: React.FC<AppBadgeProps> = () => {\r\n  const appVersion = process.env.REACT_APP_CLIENT_VERSION;\r\n  const commitHash = process.env.REACT_APP_CLIENT_COMMIT_HASH;\r\n\r\n  const style: CSSProperties = {\r\n    position: 'absolute',\r\n    top: '0.1em',\r\n    right: '0.1em',\r\n  };\r\n  return (\r\n    <h4 style={style}>\r\n      <Badge variant=\"info\">\r\n        <span>v.</span>\r\n        <strong>{appVersion}</strong>\r\n        <span>\r\n          <i>\r\n            <small> @ {commitHash}</small>\r\n          </i>\r\n        </span>\r\n      </Badge>\r\n    </h4>\r\n  );\r\n};\r\n\r\nexport default AppBadge;\r\n","import React, { Suspense, useEffect } from 'react';\r\n// Components\r\nimport Header from '../Header/Header';\r\nimport { LoadingModal } from '../core/generic/Commons';\r\n// Routing\r\nimport { Switch, useHistory } from 'react-router';\r\nimport routes from '../core/routing/Routes';\r\nimport { ProtectedRoute } from '../core/routing/ProtectedRoute';\r\nimport ErrorBoundary from '../core/errorBoundary';\r\n// Style\r\nimport './App.css';\r\nimport { Container } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AuthAction } from '../../redux/actions';\r\nimport { loadIcons } from '../core/icons';\r\n// Toasts\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './toast.css';\r\nimport AppBadge from './badge';\r\nimport { AuthSelector } from '../../redux/selectors';\r\n// i18n\r\nimport '../../i18n/i18n';\r\n\r\nloadIcons();\r\nconst App: React.FC = (_) => {\r\n  const dispatch = useDispatch();\r\n  const currentHistory = useHistory();\r\n  const isLoading = useSelector(AuthSelector.isLoading);\r\n\r\n  // Check if user is already logged\r\n  useEffect(() => {\r\n    dispatch(AuthAction.checkAuthentication.request({ history: currentHistory }));\r\n  }, [currentHistory, dispatch]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ErrorBoundary>\r\n        {/* Loading translations */}\r\n        <Suspense fallback={<LoadingModal />}>\r\n          <Header />\r\n        </Suspense>\r\n        <Container fluid style={{ marginBottom: '20vh' }}>\r\n          {/*<RedirectionControl />*/}\r\n          <ToastContainer autoClose={3000} data-cy=\"toast-container\"/>\r\n          {isLoading ? (\r\n            // Loading store\r\n            <LoadingModal />\r\n          ) : (\r\n            // Loading lazy components\r\n            <Suspense fallback={<LoadingModal />}>\r\n              <Switch>\r\n                {routes.map((route) => (\r\n                  <ProtectedRoute {...route} key={route.index} />\r\n                ))}\r\n              </Switch>\r\n            </Suspense>\r\n          )}\r\n          <AppBadge />\r\n        </Container>\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React, { StrictMode } from 'react';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from '../../redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport { LoadingModal } from '../core/generic/Commons';\r\n\r\nconst Application: React.FC = () => (\r\n  <Provider store={store}>\r\n    <PersistGate loading={<LoadingModal show={true} />} persistor={persistor}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </PersistGate>\r\n  </Provider>\r\n);\r\nconst Entry: React.FC = () =>\r\n  process.env.NODE_ENV !== 'production' ? (\r\n    <StrictMode>\r\n      <Application />\r\n    </StrictMode>\r\n  ) : (\r\n    <Application />\r\n  );\r\n\r\nexport default Entry;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport 'typeface-roboto';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport it from 'date-fns/locale/it';\r\nimport { setDefaultLocale, registerLocale } from 'react-datepicker';\r\n\r\nimport Entry from './components/App/Entry';\r\n\r\nsetDefaultLocale('it');\r\nregisterLocale('it', it);\r\n\r\nReactDOM.render(<Entry />, document.getElementById('root'));\r\n\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//process.env.NODE_ENV !== 'production' ? serviceWorker.unregister() : serviceWorker.register();\r\nserviceWorker.unregister();\r\n\r\n// Redefine console so it does not in production env\r\nif (process.env.NODE_ENV === 'production') {\r\n  if (!window.console) (window as any).console = {};\r\n  ['log', 'debug', 'warn', 'info'].forEach((e) => ((window as any).console[e] = () => {}));\r\n}\r\n","import {\r\n  FetchTournamentsRequest,\r\n  SaveTournamentRequest,\r\n  FetchTournamentsResponse,\r\n  SaveTournamentResponse,\r\n  UpdateTournamentRequest,\r\n  UpdateTournamentResponse,\r\n  TournamentError,\r\n} from '../../@common/models/tournament.model';\r\nimport { createAsyncAction, createAction } from 'typesafe-actions';\r\nimport { defaultAsyncParams, defaultParam, PurgeResponse, PURGE_STORE_ACTION } from './constants';\r\nimport { TournamentDTO } from '../../@common/dto';\r\n\r\nconst actionName = '[Tournament]';\r\n\r\nexport const TournamentAction = {\r\n  // fetch tournaments\r\n  fetch: createAsyncAction(...defaultAsyncParams(actionName, 'Fetch Tournaments'))<\r\n    FetchTournamentsRequest,\r\n    FetchTournamentsResponse,\r\n    Error\r\n  >(),\r\n  // set selected tournament\r\n  setTournament: createAction(...defaultParam(actionName, 'Set Tournament'))<TournamentDTO | null>(),\r\n  // save a new tournament\r\n  save: createAsyncAction(...defaultAsyncParams(actionName, 'Save Tournament'))<\r\n    SaveTournamentRequest,\r\n    SaveTournamentResponse,\r\n    TournamentError\r\n  >(),\r\n  // save a new tournament\r\n  update: createAsyncAction(...defaultAsyncParams(actionName, 'Update Tournament'))<\r\n    UpdateTournamentRequest,\r\n    UpdateTournamentResponse,\r\n    TournamentError\r\n  >(),\r\n  purge: createAction(PURGE_STORE_ACTION)<PurgeResponse>(),\r\n};\r\n","import { PlayerRole } from '../dto';\r\nimport { RootState } from '.';\r\nimport { HTTPStatusCode } from './HttpStatusCode';\r\nimport { TOptions } from 'i18next';\r\n\r\nexport type I18nLabel = {\r\n\tlabel: string;\r\n\toptions?: TOptions<{ [key: string]: any }> | string;\r\n};\r\n\r\nexport enum Environment {\r\n\tdevelopment = 'development',\r\n\ttest = 'test',\r\n\tproduction = 'production',\r\n}\r\n\r\nexport interface GenericReponse {\r\n\tcode: HTTPStatusCode;\r\n\tmessage: string;\r\n\tuserMessage: UserMessage;\r\n}\r\n\r\nexport enum UserMessageType {\r\n\tSuccess = 'success',\r\n\tWarning = 'warning',\r\n\tDanger = 'danger',\r\n}\r\n\r\nexport interface UserMessage {\r\n\ttype: UserMessageType;\r\n\tlabel: string;\r\n\toptions?: TOptions<{ [key: string]: any }> | string;\r\n}\r\n\r\nexport type OmitHistory<T> = Omit<T, 'history'>;\r\n// FIXME:\r\nexport type OmitGeneric<T extends GenericReponse> = Omit<T, 'code' | 'message' | 'userMessage'>;\r\n// FIXME: UNUSED\r\nexport type PickGeneric<T extends GenericReponse> = Pick<T, 'code' | 'message' | 'userMessage'>;\r\n\r\nexport const UnexpectedServerError: GenericReponse = {\r\n\tcode: HTTPStatusCode.InternalServerError,\r\n\tmessage: 'Unexpected Server Error',\r\n\tuserMessage: {\r\n\t\ttype: UserMessageType.Danger,\r\n\t\tlabel: 'commmon:server.unexpected',\r\n\t},\r\n};\r\n\r\nexport const initialState: RootState = {\r\n\ttournamentState: {\r\n\t\ttournament: null,\r\n\t\ttournamentsList: [],\r\n\t\tisLoading: false,\r\n\t},\r\n\tplayerState: {\r\n\t\tisLoading: false,\r\n\t\tplayersList: [],\r\n\t\tisSaving: false,\r\n\t},\r\n\tpairState: {\r\n\t\tisLoading: false,\r\n\t\tisSaving: false,\r\n\t},\r\n\tauthState: {\r\n\t\tisAuthenticated: false,\r\n\t\tisAdmin: false,\r\n\t\tisLoading: false,\r\n\t},\r\n\tstage1State: {\r\n\t\tneedRefresh: false,\r\n\t\tselectedPairs: [\r\n\t\t\t{\r\n\t\t\t\tid: null,\r\n\t\t\t\ttournamentId: 0,\r\n\t\t\t\trowNumber: 0,\r\n\t\t\t\tplayer1: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tsurname: '',\r\n\t\t\t\t\talias: '',\r\n\t\t\t\t\tlabel: '',\r\n\t\t\t\t\trole: PlayerRole.GoalKeeper,\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tmatch_played: 0,\r\n\t\t\t\t\tmatch_won: 0,\r\n\t\t\t\t\ttotal_score: 0,\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\trowNumber: 0,\r\n\t\t\t\t},\r\n\t\t\t\tplayer2: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tsurname: '',\r\n\t\t\t\t\talias: '',\r\n\t\t\t\t\tlabel: '',\r\n\t\t\t\t\trole: PlayerRole.GoalKeeper,\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tmatch_played: 0,\r\n\t\t\t\t\tmatch_won: 0,\r\n\t\t\t\t\ttotal_score: 0,\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\trowNumber: 0,\r\n\t\t\t\t},\r\n\t\t\t\talias: '-',\r\n\t\t\t\tstage1Name: '',\r\n\t\t\t\tplacement: 0,\r\n\t\t\t\tpaid1: false,\r\n\t\t\t\tpaid2: false,\r\n\t\t\t},\r\n\t\t],\r\n\t\tisLoading: false,\r\n\t\tstages: [],\r\n\t},\r\n\tstage2State: {\r\n\t\tisLoading: false,\r\n\t},\r\n};\r\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\r\nexport enum HTTPStatusCode {\r\n  Continue = 100,\r\n  SwitchingProtocols = 101,\r\n  Processing = 102,\r\n  EarlyHints = 103,\r\n\r\n  /**\r\n   * All `1xx` status codes.\r\n   */\r\n  InformationalResponses = Continue | SwitchingProtocols | Processing | EarlyHints,\r\n\r\n  OK = 200,\r\n  Created = 201,\r\n  Accepted = 202,\r\n  NonAuthoritativeInformation = 203,\r\n  NoContent = 204,\r\n  ResetContent = 205,\r\n  PartialContent = 206,\r\n  MultiStatus = 207,\r\n  AlreadyReported = 208,\r\n  IMUsed = 226,\r\n\r\n  /**\r\n   * All `2xx` status codes.\r\n   */\r\n  Success = OK |\r\n    Created |\r\n    Accepted |\r\n    NonAuthoritativeInformation |\r\n    NoContent |\r\n    ResetContent |\r\n    PartialContent |\r\n    MultiStatus |\r\n    AlreadyReported |\r\n    IMUsed,\r\n\r\n  MultipleChoices = 300,\r\n  MovedPermanently = 301,\r\n  Found = 302,\r\n  SeeOther = 303,\r\n  NotModified = 304,\r\n  UseProxy = 305,\r\n  SwitchProxy = 306,\r\n  TemporaryRedirect = 307,\r\n  PermanentRedirect = 308,\r\n\r\n  /**\r\n   * All `3xx` status codes.\r\n   */\r\n  Redirection = MultipleChoices |\r\n    MovedPermanently |\r\n    Found |\r\n    SeeOther |\r\n    NotModified |\r\n    UseProxy |\r\n    SwitchProxy |\r\n    TemporaryRedirect |\r\n    PermanentRedirect,\r\n\r\n  BadRequest = 400,\r\n  /**\r\n   * The HTTP 401 Unauthorized client error status response code indicates that the request has not been applied because it lacks valid authentication credentials for the target resource.\r\n   */\r\n  Unauthorized = 401,\r\n  PaymentRequired = 402,\r\n  /**\r\n   * The HTTP 403 Forbidden client error status response code indicates that the server understood the request but refuses to authorize it.\r\n   * This status is similar to 401, but in this case, re-authenticating will make no difference.\r\n   * The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.\r\n   */\r\n  Forbidden = 403,\r\n  NotFound = 404,\r\n  MethodNotAllowed = 405,\r\n  NotAcceptable = 406,\r\n  ProxyAuthenticationRequired = 407,\r\n  RequestTimeout = 408,\r\n  Conflict = 409,\r\n  Gone = 410,\r\n  LengthRequired = 411,\r\n  PreconditionFailed = 412,\r\n  PayloadTooLarge = 413,\r\n  URITooLong = 414,\r\n  UnsupportedMediaType = 415,\r\n  RangeNotSatisfiable = 416,\r\n  ExpectationFailed = 417,\r\n  ImATeapot = 418,\r\n  MisdirectedRequest = 421,\r\n  UnprocessableEntity = 422,\r\n  Locked = 423,\r\n  FailedDependency = 424,\r\n  UpgradeRequired = 426,\r\n  PreconditionRequired = 428,\r\n  TooManyRequests = 429,\r\n  RequestHeaderFieldsTooLarge = 431,\r\n  UnavailableForLegalReasons = 451,\r\n\r\n  /**\r\n   * All `4xx` error codes.\r\n   */\r\n  ClientErrors = BadRequest |\r\n    Unauthorized |\r\n    PaymentRequired |\r\n    Forbidden |\r\n    NotFound |\r\n    MethodNotAllowed |\r\n    NotAcceptable |\r\n    ProxyAuthenticationRequired |\r\n    RequestTimeout |\r\n    Conflict |\r\n    Gone |\r\n    LengthRequired |\r\n    PreconditionFailed |\r\n    PayloadTooLarge |\r\n    URITooLong |\r\n    UnsupportedMediaType |\r\n    RangeNotSatisfiable |\r\n    ExpectationFailed |\r\n    ImATeapot |\r\n    MisdirectedRequest |\r\n    UnprocessableEntity |\r\n    Locked |\r\n    FailedDependency |\r\n    UpgradeRequired |\r\n    PreconditionRequired |\r\n    TooManyRequests |\r\n    RequestHeaderFieldsTooLarge |\r\n    UnavailableForLegalReasons,\r\n\r\n  InternalServerError = 500,\r\n  NotImplemented = 501,\r\n  BadGateway = 502,\r\n  ServiceUnavailable = 503,\r\n  GatewayTimeout = 504,\r\n  HTTPVersionNotSupported = 505,\r\n  VariantAlsoNegotiates = 506,\r\n  InsufficientStorage = 507,\r\n  LoopDetected = 508,\r\n  NotExtended = 510,\r\n  NetworkAuthenticationRequired = 511,\r\n\r\n  /**\r\n   * All `5xx` error codes.\r\n   */\r\n  ServerErrors = InternalServerError |\r\n    NotImplemented |\r\n    BadGateway |\r\n    ServiceUnavailable |\r\n    GatewayTimeout |\r\n    HTTPVersionNotSupported |\r\n    VariantAlsoNegotiates |\r\n    InsufficientStorage |\r\n    LoopDetected |\r\n    NotExtended |\r\n    NetworkAuthenticationRequired,\r\n}\r\n\r\nexport const InformationCodes = [\r\n  HTTPStatusCode.Continue,\r\n  HTTPStatusCode.SwitchingProtocols,\r\n  HTTPStatusCode.Processing,\r\n  HTTPStatusCode.EarlyHints,\r\n];\r\nexport const SuccessCodes = [\r\n  HTTPStatusCode.OK,\r\n  HTTPStatusCode.Created,\r\n  HTTPStatusCode.Accepted,\r\n  HTTPStatusCode.NonAuthoritativeInformation,\r\n  HTTPStatusCode.NoContent,\r\n  HTTPStatusCode.ResetContent,\r\n  HTTPStatusCode.PartialContent,\r\n  HTTPStatusCode.MultiStatus,\r\n  HTTPStatusCode.AlreadyReported,\r\n  HTTPStatusCode.IMUsed,\r\n];\r\n\r\nexport const RedirectCodes = [\r\n  HTTPStatusCode.MultipleChoices,\r\n  HTTPStatusCode.MovedPermanently,\r\n  HTTPStatusCode.Found,\r\n  HTTPStatusCode.SeeOther,\r\n  HTTPStatusCode.NotModified,\r\n  HTTPStatusCode.UseProxy,\r\n  HTTPStatusCode.SwitchProxy,\r\n  HTTPStatusCode.TemporaryRedirect,\r\n  HTTPStatusCode.PermanentRedirect,\r\n];\r\n\r\nexport const ClientErrorsCodes = [\r\n  HTTPStatusCode.BadRequest,\r\n  HTTPStatusCode.Unauthorized,\r\n  HTTPStatusCode.PaymentRequired,\r\n  HTTPStatusCode.Forbidden,\r\n  HTTPStatusCode.NotFound,\r\n  HTTPStatusCode.MethodNotAllowed,\r\n  HTTPStatusCode.NotAcceptable,\r\n  HTTPStatusCode.ProxyAuthenticationRequired,\r\n  HTTPStatusCode.RequestTimeout,\r\n  HTTPStatusCode.Conflict,\r\n  HTTPStatusCode.Gone,\r\n  HTTPStatusCode.LengthRequired,\r\n  HTTPStatusCode.PreconditionFailed,\r\n  HTTPStatusCode.PayloadTooLarge,\r\n  HTTPStatusCode.URITooLong,\r\n  HTTPStatusCode.UnsupportedMediaType,\r\n  HTTPStatusCode.RangeNotSatisfiable,\r\n  HTTPStatusCode.ExpectationFailed,\r\n  HTTPStatusCode.ImATeapot,\r\n  HTTPStatusCode.MisdirectedRequest,\r\n  HTTPStatusCode.UnprocessableEntity,\r\n  HTTPStatusCode.Locked,\r\n  HTTPStatusCode.FailedDependency,\r\n  HTTPStatusCode.UpgradeRequired,\r\n  HTTPStatusCode.PreconditionRequired,\r\n  HTTPStatusCode.TooManyRequests,\r\n  HTTPStatusCode.RequestHeaderFieldsTooLarge,\r\n  HTTPStatusCode.UnavailableForLegalReasons,\r\n];\r\n\r\nexport const ServerErrorsCodes = [\r\n  HTTPStatusCode.InternalServerError,\r\n  HTTPStatusCode.NotImplemented,\r\n  HTTPStatusCode.BadGateway,\r\n  HTTPStatusCode.ServiceUnavailable,\r\n  HTTPStatusCode.GatewayTimeout,\r\n  HTTPStatusCode.HTTPVersionNotSupported,\r\n  HTTPStatusCode.VariantAlsoNegotiates,\r\n  HTTPStatusCode.InsufficientStorage,\r\n  HTTPStatusCode.LoopDetected,\r\n  HTTPStatusCode.NotExtended,\r\n  HTTPStatusCode.NetworkAuthenticationRequired,\r\n];\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { findIconDefinition, SizeProp, IconPrefix, IconName } from '@fortawesome/fontawesome-svg-core';\r\n// FontAwesome 5\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faSignOutAlt,\r\n  faUser,\r\n  faMale,\r\n  faLanguage,\r\n  faHome,\r\n  faBroom,\r\n  faArrowAltCircleRight,\r\n  faArrowAltCircleLeft,\r\n  faTimes,\r\n  faToggleOff,\r\n  faToggleOn,\r\n  faPlus,\r\n  faTrophy,\r\n  faAngleDoubleRight,\r\n  faBan,\r\n  faFileMedicalAlt,\r\n  faEdit,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faTrashAlt, faSave } from '@fortawesome/free-regular-svg-icons';\r\n\r\nexport const loadIcons = () => {\r\n  library.add(\r\n    // Regular\r\n    faTrashAlt,\r\n    faSave,\r\n    // Solid\r\n    faSignOutAlt,\r\n    faUser,\r\n    faMale,\r\n    faLanguage,\r\n    faHome,\r\n    faBroom,\r\n    faArrowAltCircleRight,\r\n    faArrowAltCircleLeft,\r\n    faTimes,\r\n    faToggleOff,\r\n    faToggleOn,\r\n    faPlus,\r\n    faTrophy,\r\n    faAngleDoubleRight,\r\n    faBan,\r\n    faFileMedicalAlt,\r\n    faEdit\r\n  );\r\n};\r\n\r\ninterface IconProps {\r\n  color?: string;\r\n  size?: SizeProp;\r\n}\r\n\r\ninterface AbstractIconProps extends IconProps {\r\n  prefix: IconPrefix;\r\n  iconName: IconName;\r\n}\r\n\r\nconst SOLID = 'fas';\r\nconst REGULAR = 'far';\r\n\r\n// Wrapper per icone FontAwesome\r\nconst Icon: React.FC<AbstractIconProps> = ({ size, prefix, iconName, color }) => (\r\n  <FontAwesomeIcon color={color} size={size} icon={findIconDefinition({ prefix, iconName })} />\r\n);\r\n\r\n// Regular\r\nexport const TrashIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"trash-alt\" />\r\n);\r\nexport const SaveIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={REGULAR} iconName=\"save\" />\r\n);\r\n\r\n// Solid\r\nexport const EditIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"edit\" />\r\n);\r\nexport const FileMedicalIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"file-medical-alt\" />\r\n);\r\nexport const LogoutIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"sign-out-alt\" />\r\n);\r\nexport const UserIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"user\" />\r\n);\r\nexport const MaleIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"male\" />\r\n);\r\nexport const LanguageIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"language\" />\r\n);\r\nexport const HomeIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"home\" />\r\n);\r\nexport const BroomIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"broom\" />\r\n);\r\nexport const RightArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-right\" />\r\n);\r\nexport const LeftArrowIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"arrow-alt-circle-left\" />\r\n);\r\nexport const TimesIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"times\" />\r\n);\r\nexport const ToggleOn: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-on\" />\r\n);\r\nexport const ToggleOff: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"toggle-off\" />\r\n);\r\nexport const PlusIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"plus\" />\r\n);\r\nexport const TrophyIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"trophy\" />\r\n);\r\nexport const DoubleRightIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"angle-double-right\" />\r\n);\r\nexport const BanIcon: React.FC<IconProps> = ({ size, color }) => (\r\n  <Icon size={size} color={color} prefix={SOLID} iconName=\"ban\" />\r\n);\r\n","export * from './pair.dto';\r\nexport * from './player.dto';\r\nexport * from './stage1.dto';\r\nexport * from './stage2.dto';\r\nexport * from './tournament.dto';\r\nexport * from './user.dto';\r\n","import { PairDTO } from '../../@common/dto';\r\nimport {\r\n  FetchPairsRequest,\r\n  FetchPairsResponse,\r\n  SavePairResponse,\r\n  SavePairRequest,\r\n  DeletePairsRequest,\r\n  DeletePairsResponse,\r\n  FindAliasRequest,\r\n  FindAliasResponse,\r\n  SelectPairsResponse,\r\n  SelectPairsRequest,\r\n} from '../../@common/models';\r\nimport { deleteWrapper, getWrapper, postWrapper, putWrapper } from '../../@common/utils/fetch.utils';\r\nimport { getEmptyPlayer } from './player.service';\r\n\r\nconst API_VERSION = '/api/v2/pair';\r\nconst listAPI = (tId: number) => `${API_VERSION}/list?tId=${encodeURIComponent(tId)}`;\r\nconst aliasAPI = (player1Id: number, player2Id: number) =>\r\n  `${API_VERSION}/alias?player1Id=${encodeURIComponent(player1Id)}&player2Id=${encodeURIComponent(player2Id)}`;\r\nconst selectAPI = () => `${API_VERSION}/selected`;\r\nconst newAPI = () => `${API_VERSION}/new`;\r\nconst deleteAPI = () => `${API_VERSION}/delete`;\r\n\r\nexport const fetchPairs = async ({ tId }: FetchPairsRequest): Promise<FetchPairsResponse> =>\r\n  getWrapper<FetchPairsResponse>(listAPI(tId));\r\nexport const findAlias = async ({ player1Id, player2Id }: FindAliasRequest): Promise<FindAliasResponse> =>\r\n  getWrapper<FindAliasResponse>(aliasAPI(player1Id, player2Id));\r\nexport const selectPairs = async (request: SelectPairsRequest): Promise<SelectPairsResponse> =>\r\n  putWrapper<SelectPairsRequest, SelectPairsResponse>(selectAPI(), request);\r\n\r\nexport const postPair = async (request: SavePairRequest): Promise<SavePairResponse> =>\r\n  postWrapper<SavePairRequest, SavePairResponse>(newAPI(), request);\r\n\r\n// FIXME: create update\r\nexport const updatePair = async (request: SavePairRequest): Promise<SavePairResponse> =>\r\n  postWrapper<SavePairRequest, SavePairResponse>(newAPI(), request);\r\n\r\nexport const deletePairs = async (request: DeletePairsRequest): Promise<DeletePairsResponse> =>\r\n  deleteWrapper<DeletePairsRequest, DeletePairsResponse>(deleteAPI(), request);\r\n\r\nexport const getEmptyPair = (label?: string): PairDTO => ({\r\n  id: null,\r\n  tournamentId: 0,\r\n  rowNumber: 0,\r\n  player1: getEmptyPlayer(),\r\n  player2: getEmptyPlayer(),\r\n  alias: label || '',\r\n  stage1Name: '',\r\n  placement: 0,\r\n  paid1: false,\r\n  paid2: false,\r\n});\r\n","import { PlayerDTO, PlayerRole } from '../../@common/dto';\r\nimport {\r\n  FetchPlayersRequest,\r\n  FetchPlayersResponse,\r\n  DeletePlayersRequest,\r\n  DeletePlayersResponse,\r\n  SavePlayerResponse,\r\n  SavePlayerRequest,\r\n} from '../../@common/models';\r\nimport { UnexpectedServerError } from '../../@common/models/common.models';\r\nimport { DEFAULT_HEADERS, deleteWrapper, postWrapper, putWrapper } from '../../@common/utils/fetch.utils';\r\n\r\nexport const fetchPlayers = async ({ tId, addEmpty }: FetchPlayersRequest): Promise<FetchPlayersResponse> => {\r\n  try {\r\n    const response = await fetch(tId ? `/api/v2/player/list/${encodeURIComponent(tId)}` : '/api/v2/player/list', {\r\n      method: 'GET',\r\n      ...DEFAULT_HEADERS,\r\n    });\r\n    const result: FetchPlayersResponse = await response.json();\r\n    return {\r\n      ...result,\r\n      playersList: addEmpty ? [...result.playersList, getEmptyPlayer('Nessun Giocatore')] : result.playersList,\r\n    };\r\n  } catch (e) {\r\n    return { ...UnexpectedServerError, playersList: [] };\r\n  }\r\n};\r\n\r\nexport const deletePlayers = async ({ players }: DeletePlayersRequest): Promise<DeletePlayersResponse> =>\r\n  deleteWrapper<DeletePlayersRequest, DeletePlayersResponse>('/api/v2/player/delete', { players });\r\n\r\nexport const savePlayer = async ({ player }: SavePlayerRequest): Promise<SavePlayerResponse> =>\r\n  postWrapper<SavePlayerRequest, SavePlayerResponse>('/api/v2/player/new', { player });\r\n\r\nexport const updatePlayer = async ({ player }: SavePlayerRequest): Promise<SavePlayerResponse> =>\r\n  putWrapper<SavePlayerRequest, SavePlayerResponse>('/api/v2/player/update', { player });\r\n\r\nexport const getEmptyPlayer = (label?: string): PlayerDTO => ({\r\n  id: null,\r\n  name: '',\r\n  surname: '',\r\n  alias: '',\r\n  label: label || '',\r\n  role: PlayerRole.GoalKeeper,\r\n  email: '',\r\n  phone: '',\r\n  match_played: 0,\r\n  match_won: 0,\r\n  total_score: 0,\r\n  editable: false,\r\n  rowNumber: 0,\r\n});\r\n","import { RootState } from '../../@common/models';\r\n\r\n// Get state from store\r\nexport const AuthSelector = {\r\n  isLoading: ({ authState: { isLoading } }: RootState) => isLoading,\r\n  isAdmin: ({ authState: { isAdmin } }: RootState) => isAdmin,\r\n  isAuthenticated: ({ authState: { isAuthenticated } }: RootState) => isAuthenticated,\r\n  getUser: ({ authState: { user } }: RootState) => user,\r\n  getSession: ({ authState }: RootState) => authState,\r\n};\r\n","import { RootState } from '../../@common/models';\r\n\r\n// Get state from store\r\nexport const PairSelector = {\r\n  isLoading: ({ pairState: { isLoading } }: RootState) => isLoading,\r\n  getPairsList: ({ pairState: { pairsList } }: RootState) => pairsList,\r\n};\r\n","import { RootState } from '../../@common/models';\r\n\r\n// Get state from store\r\nexport const PlayerSelector = {\r\n  // Default states\r\n  isLoading: ({ playerState: { isLoading } }: RootState) => isLoading,\r\n  isSaving: ({ playerState: { isSaving } }: RootState) => isSaving,\r\n  // Player\r\n  getPlayersList: ({ playerState: { playersList } }: RootState) => playersList,\r\n  getPlayer: ({ playerState: { player } }: RootState) => player,\r\n};\r\n","import { RootState } from '../../@common/models';\r\n\r\n// Get state from store\r\nexport const Stage1Selector = {\r\n  isLoading: ({ stage1State: { isLoading } }: RootState) => isLoading,\r\n  getSelectedRows: ({ stage1State: { selectedRows } }: RootState) => selectedRows || null,\r\n  getSelectedPairs: ({ stage1State: { selectedPairs } }: RootState) => selectedPairs,\r\n  getNeedRefresh: ({ stage1State: { needRefresh } }: RootState) => needRefresh,\r\n  // Utilizzare una closure nel compoanente per accedere allo specifico stage\r\n  getStages: ({ stage1State: { stages } }: RootState) => stages,\r\n};\r\n","import { RootState } from '../../@common/models';\r\n\r\n\r\n// Get state from store\r\nexport const Stage2Selector = {\r\n  isLoading: ({ stage2State: { isLoading } }: RootState) => isLoading,\r\n  getCells: ({ stage2State: { cells } }: RootState) => cells,\r\n  getRowsNumber: ({ stage2State: { rowsNumber } }: RootState) => rowsNumber,\r\n};\r\n","import React, { CSSProperties } from 'react';\r\nimport { Modal, Spinner, Toast, Alert, Row, Button, Container, Col } from 'react-bootstrap';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './style.css';\r\n\r\nconst modalStyle: CSSProperties = { color: 'whitesmoke', backgroundColor: '#343a40', borderColor: '#ffc107' };\r\nconst fancyModalFooter = (\r\n  <>\r\n    <Spinner animation=\"border\" variant=\"light\" />\r\n    <Spinner animation=\"border\" variant=\"primary\" />\r\n    <Spinner animation=\"border\" variant=\"secondary\" />\r\n    <Spinner animation=\"border\" variant=\"success\" />\r\n    <Spinner animation=\"border\" variant=\"danger\" />\r\n    <Spinner animation=\"border\" variant=\"warning\" />\r\n    <Spinner animation=\"border\" variant=\"info\" />\r\n    <Spinner animation=\"border\" variant=\"dark\" />\r\n  </>\r\n);\r\n// Loading Modal\r\ninterface LoadingModalPropsType {\r\n  show?: boolean;\r\n  title?: string;\r\n  message?: string;\r\n  onHide?: () => void;\r\n}\r\n\r\nexport const LoadingModal: React.FC<LoadingModalPropsType> = ({\r\n  title = 'Caricamento....',\r\n  message = 'Caricamento....',\r\n  show = true,\r\n  onHide = () => (show = false),\r\n}) => (\r\n  <Modal data-cy=\"loader\" show={show} onHide={onHide} size=\"lg\" centered style={{ borderColor: '#ffc107', borderWidth: '3px' }}>\r\n    <Modal.Header closeButton style={modalStyle}>\r\n      <Modal.Title>{title}</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body className=\"text-center font-weight-bold\" style={modalStyle}>\r\n      {message}\r\n    </Modal.Body>\r\n    <Modal.Footer style={modalStyle}>{fancyModalFooter}</Modal.Footer>\r\n  </Modal>\r\n);\r\n\r\nexport interface YesNoModalProps {\r\n  title: string;\r\n  show: boolean;\r\n  message: string;\r\n  onHide?: () => void;\r\n  onClick: () => void;\r\n}\r\n\r\nexport const YesNoModal: React.FC<YesNoModalProps> = ({\r\n  title,\r\n  message,\r\n  show,\r\n  onHide = () => (show = false),\r\n  onClick,\r\n}) => (\r\n  <Modal\r\n    className=\"YesNoModal\"\r\n    show={show}\r\n    onHide={onHide}\r\n    centered\r\n    style={{ borderColor: '#ffc107', borderWidth: '3px' }}\r\n  >\r\n    <Modal.Header closeButton style={modalStyle}>\r\n      <Modal.Title>{title}</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body style={modalStyle}>\r\n      <Container fluid>\r\n        <Row style={{ fontSize: 'larger' }}>{message}</Row>\r\n        <Row style={{ padding: '2rem 0rem 0rem 0rem' }}>\r\n          <Col>\r\n            <Button variant=\"outline-secondary\" className=\"float-left\" onClick={() => onHide()}>\r\n              Annulla\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button variant=\"outline-success\" className=\"float-right\" onClick={() => onClick()}>\r\n              Conferma\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Modal.Body>\r\n    <Modal.Footer style={modalStyle}>{fancyModalFooter}</Modal.Footer>\r\n  </Modal>\r\n);\r\n\r\n// Toasts\r\nexport interface IToastProps {\r\n  message: string;\r\n  type?: toastType;\r\n}\r\n\r\nexport type toastType = 'success' | 'warning' | 'danger';\r\n\r\nexport const GenericToast: React.FC<IToastProps> = ({ message, type }) =>\r\n  message && message !== '' ? (\r\n    <Toast className=\"rounded mr-2 mx-auto\" key={`${type}-message`} show={message !== ''}>\r\n      <Toast.Header closeButton={false}>\r\n        <strong>Operazione completata !</strong>\r\n      </Toast.Header>\r\n      <Toast.Body>\r\n        <Alert variant={type}>{message}</Alert>\r\n      </Toast.Body>\r\n    </Toast>\r\n  ) : null;\r\n\r\n// TODO: Componente fallback se route non trovata\r\nexport function RedirectionControl(props: any): JSX.Element {\r\n  const location = useLocation();\r\n  return (\r\n    <div>\r\n      <h1>\r\n        Current Ruote : <code>{location.pathname}</code>\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n","export * from './math.utils';\r\nexport * from './fetch.utils';\r\nexport * from './date.utils';\r\n"],"sourceRoot":""}