{"version":3,"sources":["components/Auth/Delete.tsx"],"names":["Delete","show","onHide","dispatch","useDispatch","currentHistory","useHistory","t","useTranslation","user","useSelector","AuthSelector","getUser","useInput","password","value","bindPassword","bind","handleSubmit","evt","email","username","a","preventDefault","AuthAction","delete","request","history","toast","error","size","centered","Header","style","backgroundColor","color","closeButton","Title","className","Body","fluid","onSubmit","e","Group","as","Row","controlId","Label","column","sm","Control","fontSize","fontWeight","plaintext","readOnly","defaultValue","type","placeholder","onClick","variant"],"mappings":"uRA2GeA,UA3FuB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OACvCC,EAAWC,cACXC,EAAiBC,cACfC,EAAMC,YAAe,CAAC,SAAU,SAAhCD,EAGFE,EAAOC,YAAYC,IAAaC,SANoB,EAQVC,YAAiB,IAAlDC,EAR2C,EAQlDC,MAAuBC,EAR2B,EAQjCC,KAEnBC,EAAY,uCAAG,WACnBC,EACAC,EACAC,GAHmB,SAAAC,EAAA,sDAKnBH,EAAII,iBACAH,GAASC,GAAYP,EACvBX,EAASqB,IAAWC,OAAOC,QAAQ,CAAEZ,WAAUa,QAAStB,KAExDuB,IAAMC,MAAMtB,EAAE,wBATG,2CAAH,0DAalB,OACE,eAAC,IAAD,CAAON,KAAMA,EAAMC,OAAQA,EAAQ4B,KAAM,KAAMC,UAAQ,EAAvD,UACE,cAAC,IAAMC,OAAP,CACEC,MAAO,CACLC,gBAAiB,UACjBC,MAAO,SAETC,aAAW,EALb,SAOE,cAAC,IAAMC,MAAP,CAAaC,UAAU,oBAAvB,SAA4C/B,EAAE,mBAEhD,cAAC,IAAMgC,KAAP,CACEN,MAAO,CACLC,gBAAiB,UACjBC,MAAO,SAHX,SAME,cAAC,IAAD,CAAWK,OAAK,EAAhB,SACE,eAAC,IAAD,CAAMC,SAAU,SAACC,GAAD,OAA6CxB,EAAawB,EAAGjC,EAAKW,MAAOX,EAAKY,WAA9F,UACE,eAAC,IAAKsB,MAAN,CAAYC,GAAIC,IAAKC,UAAU,cAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACG1C,EAAE,sBAEL,cAAC,IAAD,CAAK0C,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,CACEjB,MAAO,CAAEkB,SAAU,SAAUC,WAAY,UACzCd,UAAU,sBACVe,WAAS,EACTC,UAAQ,EACRC,aAAc9C,EAAKW,aAIzB,eAAC,IAAKuB,MAAN,CAAYC,GAAIC,IAAKC,UAAU,iBAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACG1C,EAAE,mBAEL,cAAC,IAAD,CAAK0C,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,CACEjB,MAAO,CAAEkB,SAAU,SAAUC,WAAY,UACzCd,UAAU,sBACVe,WAAS,EACTC,UAAQ,EACRC,aAAc9C,EAAKY,gBAIzB,eAAC,IAAKsB,MAAN,CAAYC,GAAIC,IAAKC,UAAU,WAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACG1C,EAAE,4BAEL,cAAC,IAAD,CAAK0C,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,aAAcM,KAAK,WAAWC,YAAalD,EAAE,2BAA+BS,SAGhF,cAAC,IAAD,CAAQc,KAAK,KAAKQ,UAAU,aAAaoB,QAASxD,EAAQyD,QAAQ,kBAAkBH,KAAK,SAAzF,SACGjD,EAAE,mBAEL,eAAC,IAAD,CAAQuB,KAAK,KAAKQ,UAAU,cAAcqB,QAAQ,iBAAiBH,KAAK,SAAxE,UACE,cAAC,IAAD,IADF,IACiBjD,EAAE","file":"static/js/18.f3342096.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal, Container, Form, Col, Row, Button } from 'react-bootstrap';\r\nimport { useInput } from '../core/hooks/InputHook';\r\nimport { TrashIcon } from '../core/icons';\r\nimport { AuthSelector } from 'redux/selectors';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AuthAction } from 'redux/actions';\r\nimport { toast } from 'react-toastify';\r\nimport { useTranslation } from 'react-i18next';\r\ninterface DeleteProps {\r\n  show: boolean;\r\n  onHide: () => void;\r\n}\r\n\r\n// Componente per cancellazione utente\r\nconst Delete: React.FC<DeleteProps> = ({ show, onHide }) => {\r\n  const dispatch = useDispatch();\r\n  const currentHistory = useHistory();\r\n  const { t } = useTranslation(['common', 'auth']);\r\n\r\n  // Dati utente\r\n  const user = useSelector(AuthSelector.getUser)!;\r\n  // Hook gestione campo password\r\n  const { value: password, bind: bindPassword } = useInput<string>('');\r\n\r\n  const handleSubmit = async (\r\n    evt: React.SyntheticEvent<Element, Event>,\r\n    email: string | null | undefined,\r\n    username: string | null | undefined\r\n  ) => {\r\n    evt.preventDefault();\r\n    if (email && username && password) {\r\n      dispatch(AuthAction.delete.request({ password, history: currentHistory }));\r\n    } else {\r\n      toast.error(t('auth:error.password'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} size={'lg'} centered>\r\n      <Modal.Header\r\n        style={{\r\n          backgroundColor: '#343A40',\r\n          color: 'white',\r\n        }}\r\n        closeButton\r\n      >\r\n        <Modal.Title className=\"default-color-red\">{t('auth:delete')}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body\r\n        style={{\r\n          backgroundColor: '#343A40',\r\n          color: 'white',\r\n        }}\r\n      >\r\n        <Container fluid>\r\n          <Form onSubmit={(e: React.SyntheticEvent<Element, Event>) => handleSubmit(e, user.email, user.username)}>\r\n            <Form.Group as={Row} controlId=\"emailDelete\">\r\n              <Form.Label column sm=\"2\">\r\n                {t('auth:email.email')}\r\n              </Form.Label>\r\n              <Col sm=\"10\">\r\n                <Form.Control\r\n                  style={{ fontSize: 'larger', fontWeight: 'bolder' }}\r\n                  className=\"default-color-white\"\r\n                  plaintext\r\n                  readOnly\r\n                  defaultValue={user.email}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group as={Row} controlId=\"usernameDelete\">\r\n              <Form.Label column sm=\"2\">\r\n                {t('auth:username')}\r\n              </Form.Label>\r\n              <Col sm=\"10\">\r\n                <Form.Control\r\n                  style={{ fontSize: 'larger', fontWeight: 'bolder' }}\r\n                  className=\"default-color-white\"\r\n                  plaintext\r\n                  readOnly\r\n                  defaultValue={user.username}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group as={Row} controlId=\"password\">\r\n              <Form.Label column sm=\"2\">\r\n                {t('auth:password.password')}\r\n              </Form.Label>\r\n              <Col sm=\"10\">\r\n                <Form.Control type=\"password\" placeholder={t('auth:password.password')} {...bindPassword} />\r\n              </Col>\r\n            </Form.Group>\r\n            <Button size=\"lg\" className=\"float-left\" onClick={onHide} variant=\"outline-success\" type=\"button\">\r\n              {t('common:cancel')}\r\n            </Button>\r\n            <Button size=\"lg\" className=\"float-right\" variant=\"outline-danger\" type=\"submit\">\r\n              <TrashIcon /> {t('common:confirm')}\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Delete;\r\n"],"sourceRoot":""}