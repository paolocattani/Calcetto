{"version":3,"sources":["components/Player/helper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","components/Player/header.tsx","components/Player/table.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"],"names":["nameFilter","surnameFilter","aliasFilter","roleFilter","emailFilter","phoneFilter","selectOptions","Portiere","Attaccante","Master","clearAllFilter","playerColumns","isEditable","dataField","text","editable","headerStyle","column","colIndex","width","headerClasses","autoSelectText","filter","textFilter","placeholder","getFilter","selectFilter","options","editor","type","Type","SELECT","getOptions","_","value","label","hidden","valueFormatter","selectedOption","alias","surname","name","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","_setPrototypeOf","p","tableHeader","Player","subClass","superClass","TypeError","create","Derived","Constructor","protoProps","staticProps","result","Super","NewTarget","this","arguments","apply","instance","handleOnSelect","row","isSelected","setState","state","selectedRows","found","find","id","cellEditProps","editabile","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","newValue","a","fetch","method","headers","body","JSON","stringify","response","json","rows","isLoading","bind","deleteRow","addRow","map","getEmptyPlayer","selectedRow","selectRow","nonSelectable","onSelect","onSelectAll","forEach","style","backgroundColor","hideSelectAll","selectColumnStyle","checked","disabled","rowIndex","rowKey","show","message","Row","Col","ListGroup","horizontal","Button","variant","onClick","wrapperClasses","keyField","data","columns","cellEdit","caption","filterFactory","noDataIndication","striped","hover","bootstrap4","React","Component","connect","sessionState","isAdmin"],"mappings":"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","file":"static/js/13.aef4ab1a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport { getEmptyPlayer } from 'services/player.service';\r\n\r\n// options for role column\r\nconst selectOptions = {\r\n  Portiere: 'Portiere',\r\n  Attaccante: 'Attaccante',\r\n  Master: 'Master',\r\n};\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  emailFilter('');\r\n  phoneFilter('');\r\n}\r\n\r\n// Columns default\r\nconst playerColumns = (isEditable) => [\r\n  { dataField: 'id', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (nameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (surnameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (aliasFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isEditable ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: selectOptions,\r\n      getFilter: (filter) => (roleFilter = filter),\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: (_) => {\r\n        return [\r\n          { value: 'Portiere', label: 'Portiere' },\r\n          { value: 'Attaccante', label: 'Attaccante' },\r\n          { value: 'Master', label: 'Master' },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: 'Email',\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (emailFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: 'Telefono',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: (filter) => (phoneFilter = filter),\r\n    }),\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true },\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = (props) => {\r\n  return (\r\n    <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n      Esporta in CSV\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n    const result = await response.json();\r\n    const model = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n    console.log('fetchPlayers.result : ', model);\r\n    setterFunction(model);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import React from 'react';\r\n\r\n// FIXME: change to tounament name\r\n//const tableHeader: React.FC<{ saved: string }> = saved => {\r\nconst tableHeader: React.FC = _ => {\r\n  return (\r\n    <h3>\r\n      <b>Gestione giocatori</b>\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default tableHeader;\r\n","import React from 'react';\r\n// bootstrap\r\nimport { Button, Row, Col, ListGroup } from 'react-bootstrap';\r\n// react-bootstrap-table\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory from 'react-bootstrap-table2-filter';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n// helper/ style\r\nimport './style.css';\r\nimport columns, { clearAllFilter } from './helper';\r\nimport TableHeader from './header';\r\nimport { LoadingModal } from '../core/generic/Commons';\r\nimport { getEmptyPlayer } from 'services/player.service';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Player extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rows: [],\r\n      selectedRows: [],\r\n      isLoading: false,\r\n    };\r\n    this.handleOnSelect = this.handleOnSelect.bind(this);\r\n    this.deleteRow = this.deleteRow.bind(this);\r\n    this.addRow = this.addRow.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        const response = await fetch('/api/v1/player/list', {\r\n          method: 'GET',\r\n          headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        const result = await response.json();\r\n\r\n        this.setState({\r\n          isLoading: false,\r\n          rows: result.map((e, i) => ({ ...e, id: i + 1 })),\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  handleOnSelect = (row, isSelected) => {\r\n    this.setState((state) => {\r\n      const { selectedRows } = state;\r\n      const found = selectedRows.find((e) => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? { selectedRows: selectedRows } : { selectedRows: [row, ...selectedRows] };\r\n      } else {\r\n        return found ? { selectedRows: selectedRows.filter((e) => e.id !== row.id) } : { selectedRows: selectedRows };\r\n      }\r\n    });\r\n    // return true or dont return to approve current select action\r\n    return true;\r\n  };\r\n\r\n  addRow() {\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        const response = await fetch('/api/v1/player', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(getEmptyPlayer()),\r\n        });\r\n        const result = await response.json();\r\n        this.setState((state) => {\r\n          return {\r\n            rows: [result, ...state.rows],\r\n            isLoading: false,\r\n          };\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  deleteRow() {\r\n    const { selectedRows } = this.state;\r\n    if (!selectedRows) return;\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        fetch('/api/v1/player', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(selectedRows),\r\n        });\r\n        this.setState((state) => {\r\n          return {\r\n            // Se la riga che sto analizzando è contenuta in quelle selezionata allora non la voglio\r\n            rows: state.rows.filter((row) => !selectedRows.find((selectedRow) => selectedRow.id === row.id)),\r\n            selectedRows: [],\r\n            isLoading: false,\r\n          };\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  cellEditProps = (editabile) =>\r\n    cellEditFactory({\r\n      mode: editabile ? 'click' : 'none',\r\n      blurToSave: true,\r\n      autoSelectText: true,\r\n      afterSaveCell: (oldValue, newValue, row, column) => {\r\n        (async () => {\r\n          // TODO: gestire try-catch\r\n          const response = await fetch('/api/v1/player', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(row),\r\n          });\r\n          await response.json();\r\n        })();\r\n      },\r\n    });\r\n\r\n  render() {\r\n    const { state, deleteRow, addRow } = this;\r\n    const { rows, isLoading } = state;\r\n    const selectRow = {\r\n      mode: 'checkbox',\r\n      nonSelectable: rows.filter((e) => !e.editable).map((e) => e.id),\r\n      onSelect: this.handleOnSelect,\r\n      onSelectAll: (isSelected, rows) => rows.forEach((row) => this.handleOnSelect(row, isSelected)),\r\n      style: { backgroundColor: '#c8e6c9' },\r\n      hideSelectAll: !rows.find((e) => e.editable),\r\n      selectColumnStyle: ({ checked, disabled, rowIndex, rowKey }) =>\r\n        rows[rowIndex].editable ? {} : { backgroundColor: '#dc3545' },\r\n    };\r\n\r\n    const {\r\n      state: { selectedRows } = [],\r\n      props: { isEditable },\r\n    } = this;\r\n\r\n    return (\r\n      <>\r\n        <LoadingModal show={isLoading} message={'Caricamento'} />\r\n        <Row>\r\n          <Col>\r\n            <>\r\n              <ListGroup horizontal>\r\n                {isEditable ? (\r\n                  <Button variant=\"success\" onClick={addRow}>\r\n                    Aggiungi giocatore\r\n                  </Button>\r\n                ) : null}\r\n                {isEditable ? (\r\n                  <Button variant=\"danger\" onClick={deleteRow} disabled={selectedRows.length === 0}>\r\n                    {selectedRows.length > 1 ? 'Elimina giocatori' : 'Elimina giocatore'}\r\n                  </Button>\r\n                ) : null}\r\n                <Button variant=\"dark\" onClick={clearAllFilter.bind(this)}>\r\n                  Pulisci Filtri\r\n                </Button>\r\n              </ListGroup>\r\n              <BootstrapTable\r\n                wrapperClasses=\"player-table\"\r\n                keyField=\"id\"\r\n                data={rows}\r\n                columns={columns(isEditable)}\r\n                cellEdit={this.cellEditProps(isEditable)}\r\n                selectRow={selectRow}\r\n                caption={<TableHeader />}\r\n                filter={filterFactory()}\r\n                headerClasses=\"default-background default-color-white\"\r\n                noDataIndication=\"Nessun dato reperito\"\r\n                striped\r\n                hover\r\n                bootstrap4\r\n              />\r\n            </>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  isEditable: state.sessionState.isAdmin,\r\n}))(Player);\r\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}"],"sourceRoot":""}