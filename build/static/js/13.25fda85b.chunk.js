(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[13],{292:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return p}));a(8),a(31),a(21);var n,r,i,l,o,c,s=a(132),d=(a(0),a(105),a(290)),u=a(276),f=(a(66),a(130));function h(){n(""),r(""),i(""),l(""),o(""),c("")}t.b=function(e){var t;return[{dataField:"id",text:"ID",editable:!1,headerStyle:function(e,t){return{width:"3%"}}},{dataField:"name",text:"Nome",headerClasses:"player-table-header-element",autoSelectText:!0,headerStyle:function(t,a){return{width:e?"16%":"25%"}},filter:Object(d.textFilter)({placeholder:"Filtra...",getFilter:function(e){return n=e}})},{dataField:"surname",text:"Cognome",headerClasses:"player-table-header-element",autoSelectText:!0,headerStyle:function(t,a){return{width:e?"16%":"25%"}},filter:Object(d.textFilter)({placeholder:"Filtra...",getFilter:function(e){return r=e}})},{dataField:"alias",text:"Alias",headerClasses:"player-table-header-element",headerStyle:function(t,a){return{width:e?"17%":"25%"}},autoSelectText:!0,filter:Object(d.textFilter)({placeholder:"Filtra...",getFilter:function(e){return i=e}})},{dataField:"role",text:"Roulo",headerClasses:"player-table-header-element",headerStyle:function(t,a){return{width:"".concat(e?"11":"15","%")}},filter:Object(d.selectFilter)({placeholder:"Filtra...",options:(t={},Object(s.a)(t,f.a.GoalKeeper,f.a.GoalKeeper),Object(s.a)(t,f.a.Striker,f.a.Striker),Object(s.a)(t,f.a.Master,f.a.Master),t),getFilter:function(e){return l=e}}),editor:{type:u.Type.SELECT,getOptions:function(e){return[{value:f.a.GoalKeeper,label:f.a.GoalKeeper},{value:f.a.Striker,label:f.a.Striker},{value:f.a.Master,label:f.a.Master}]}}},{dataField:"email",text:"Email",headerStyle:function(e,t){return{width:"20%"}},headerClasses:"player-table-header-element",autoSelectText:!0,hidden:!e,filter:Object(d.textFilter)({placeholder:"Filtra...",getFilter:function(e){return o=e}})},{dataField:"phone",headerStyle:function(e,t){return{width:"10%"}},text:"Telefono",headerClasses:"player-table-header-element",autoSelectText:!0,hidden:!e,filter:Object(d.textFilter)({placeholder:"Filtra...",getFilter:function(e){return c=e}})},{dataField:"match_played",text:"Partite Giocate",hidden:!0},{dataField:"match_won",text:"Vittorie",hidden:!0},{dataField:"total_score",text:"Punteggio",hidden:!0}]};function p(e){return e?e.alias?e.alias:e.surname?"".concat(e.name," - ").concat(e.surname):e.name:""}},363:function(e,t,a){},376:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(8),i=a.n(r),l=a(21),o=a(31),c=a(139),s=a(140),d=a(141),u=a(152),f=a(153),h=a(0),p=a.n(h),b=a(168),m=a(129),v=a(2),w=a(5),O=a(7),y=a.n(O),S=(a(62),a(45)),j=a(11),g=a(154),x=a(136),F=a(27),k={variant:void 0,active:!1,disabled:!1},E=p.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.active,r=e.disabled,i=e.className,l=e.variant,o=e.action,c=e.as,s=e.eventKey,d=e.onClick,u=Object(w.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);a=Object(j.a)(a,"list-group-item");var f=Object(h.useCallback)((function(e){if(r)return e.preventDefault(),void e.stopPropagation();d&&d(e)}),[r,d]);return p.a.createElement(x.a,Object(v.a)({ref:t},u,{eventKey:Object(F.b)(s||null,u.href),as:c||(o?u.href?"a":"button":"div"),onClick:f,className:y()(i,a,n&&"active",r&&"disabled",l&&a+"-"+l,o&&a+"-action")}))}));E.defaultProps=k,E.displayName="ListGroupItem";var C=E,R={variant:void 0,horizontal:void 0},T=p.a.forwardRef((function(e,t){var a,n=Object(S.a)(e,{activeKey:"onSelect"}),r=n.className,i=n.bsPrefix,l=n.variant,o=n.horizontal,c=n.as,s=void 0===c?"div":c,d=Object(w.a)(n,["className","bsPrefix","variant","horizontal","as"]),u=Object(j.a)(i,"list-group");return a=o?!0===o?"horizontal":"horizontal-"+o:null,p.a.createElement(g.a,Object(v.a)({ref:t},d,{as:s,className:y()(r,u,l&&u+"-"+l,a&&u+"-"+a)}))}));T.defaultProps=R,T.displayName="ListGroup",T.Item=C;var P=T,L=a(105),N=a(285),G=a.n(N),K=a(290),z=a.n(K),M=a(276),A=a.n(M),D=(a(363),a(292)),I=function(e){return p.a.createElement("h3",null,p.a.createElement("b",null,"Gestione giocatori"))},J=a(128),_=a(66),V=a(35),q=function(e){Object(f.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleOnSelect=function(e,t){return n.setState((function(a){var n=a.selectedRows,r=!!n.find((function(t){return t.id===e.id}));return t?r?{selectedRows:n}:{selectedRows:[e].concat(Object(o.a)(n))}:r?{selectedRows:n.filter((function(t){return t.id!==e.id}))}:{selectedRows:n}})),!0},n.cellEditProps=function(e){return A()({mode:e?"click":"none",blurToSave:!0,autoSelectText:!0,afterSaveCell:function(e,t,a,n){Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/player",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return t=e.sent,e.next=5,t.json();case 5:case"end":return e.stop()}}),e)})))()}})},n.state={rows:[],selectedRows:[],isLoading:!1},n.handleOnSelect=n.handleOnSelect.bind(Object(d.a)(n)),n.deleteRow=n.deleteRow.bind(Object(d.a)(n)),n.addRow=n.addRow.bind(Object(d.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoading:!0},(function(){return Object(l.a)(i.a.mark((function e(){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/player/list",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,t.setState({isLoading:!1,rows:r.map((function(e,t){return Object(n.a)({},e,{id:t+1})}))});case 7:case"end":return e.stop()}}),e)})))()}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addRow",value:function(){var e=this;this.setState({isLoading:!0},(function(){return Object(l.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/player",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(_.b)())});case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.setState((function(e){return{rows:[n].concat(Object(o.a)(e.rows)),isLoading:!1}}));case 7:case"end":return t.stop()}}),t)})))()}))}},{key:"deleteRow",value:function(){var e=this,t=this.state.selectedRows;t&&this.setState({isLoading:!0},(function(){return Object(l.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:fetch("/api/v1/player",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),e.setState((function(e){return{rows:e.rows.filter((function(e){return!t.find((function(t){return t.id===e.id}))})),selectedRows:[],isLoading:!1}}));case 2:case"end":return a.stop()}}),a)})))()}))}},{key:"render",value:function(){var e=this,t=this.state,a=this.deleteRow,n=this.addRow,r=t.rows,i=t.isLoading,l={mode:"checkbox",nonSelectable:r.filter((function(e){return!e.editable})).map((function(e){return e.id})),onSelect:this.handleOnSelect,onSelectAll:function(t,a){return a.forEach((function(a){return e.handleOnSelect(a,t)}))},style:{backgroundColor:"#c8e6c9"},hideSelectAll:!r.find((function(e){return e.editable})),selectColumnStyle:function(e){e.checked,e.disabled;var t=e.rowIndex;e.rowKey;return r[t].editable?{}:{backgroundColor:"#dc3545"}}},o=this.state,c=(o=void 0===o?[]:o).selectedRows,s=this.props.isEditable;return p.a.createElement(p.a.Fragment,null,p.a.createElement(J.LoadingModal,{show:i,message:"Caricamento"}),p.a.createElement(b.a,null,p.a.createElement(m.a,null,p.a.createElement(p.a.Fragment,null,p.a.createElement(P,{horizontal:!0},s?p.a.createElement(L.a,{variant:"success",onClick:n},"Aggiungi giocatore"):null,s?p.a.createElement(L.a,{variant:"danger",onClick:a,disabled:0===c.length},c.length>1?"Elimina giocatori":"Elimina giocatore"):null,p.a.createElement(L.a,{variant:"dark",onClick:D.a.bind(this)},"Pulisci Filtri")),p.a.createElement(G.a,{wrapperClasses:"player-table",keyField:"id",data:r,columns:Object(D.b)(s),cellEdit:this.cellEditProps(s),selectRow:l,caption:p.a.createElement(I,null),filter:z()(),headerClasses:"default-background default-color-white",noDataIndication:"Nessun dato reperito",striped:!0,hover:!0,bootstrap4:!0})))))}}]),a}(p.a.Component);t.default=Object(V.b)((function(e){return{isEditable:e.sessionState.isAdmin}}))(q)}}]);
//# sourceMappingURL=13.25fda85b.chunk.js.map