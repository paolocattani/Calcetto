(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[13],{231:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var r=t(34),n=t(0),l=function(e){var a=Object(n.useState)(e),t=Object(r.a)(a,2),l=t[0],o=t[1];return{value:l,setValue:o,reset:function(){return o("")},bind:{value:l,onChange:function(e){o(e.currentTarget.value)}}}}},237:function(e,a,t){"use strict";function r(){var e=new Date,a=String(e.getDate()).padStart(2,"0"),t=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(a)}t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return l}));new RegExp("^d{10}$");var n=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),l=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")},330:function(e,a,t){},340:function(e,a,t){"use strict";t.r(a);var r=t(34),n=t(0),l=t.n(n),o=t(263),c=t(212),s=t(205),i=t(118),u=t(47),m=t.n(u),d=t(53),p=t(61),b=t(231),E=t(260),g=t(226),f=t(36),h=t(17),v=t(83),j=t.n(v),O=t(232),w=(t(330),t(237)),y=[{value:"No",label:"Non sono un giocatore"},{value:"Portiere",label:"Portiere"},{value:"Attaccante",label:"Attaccante"},{value:"Master",label:"Master"}],x=function(e){var a=e.setErrorMessage,t=Object(f.d)(),n=Object(r.a)(t,2),o=n[0],c=n[1],s=(Object(h.g)(),Object(b.a)("")),u=s.value,v=s.bind,x=s.reset,C=Object(b.a)(""),I=C.value,L=C.bind,A=C.reset,S=Object(b.a)(""),R=S.value,z=S.bind,N=S.reset,P=Object(b.a)(""),q=P.value,G=P.bind,M=P.reset,T=Object(b.a)(""),Z=T.value,D=T.bind,F=T.reset,U=Object(b.a)(""),J=U.value,V=U.bind,$=U.reset,B=Object(b.a)(""),H=B.value,Y=B.bind,_=B.reset,K=Object(b.a)(""),Q=K.value,W=K.bind,X=K.reset,ee=Object(b.a)(""),ae=ee.value,te=ee.setValue,re=ee.reset,ne=Object(b.a)({value:"No",label:"Non sono un giocatore"}),le=ne.value,oe=ne.setValue,ce=ne.reset,se=function(e){a(e),setTimeout((function(){return a("")}),3e3)},ie=function(){var e=Object(p.a)(m.a.mark((function e(a){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u?I?R?q?w.a.test(q)?Z?w.a.test(Z)?q!==Z?(se("Le email non corrispondono"),0):J?w.c.test(J)?H?w.c.test(H)?J===H||(se("Le password non corrispondono"),0):(se("La password non rispetta i criteri"),0):(se("Inserire la conferma password"),0):(se("La password non rispetta i criteri"),0):(se("Inserire una password"),0):(se("Inserire una email valida"),0):(se("Inserire la conferma email"),0):(se("Inserire una email valida"),0):(se("Inserire una email"),0):(se("Inserire il cognome"),0):(se("Inserire il nome"),0):(se("Scegli uno username"),0)){e.next=3;break}return e.abrupt("return");case 3:return t={username:u,name:I,surname:R,email:q,cEmail:Z,password:J,cPassword:H,phone:Q,birthday:ae,playerRole:le},e.prev=4,e.next=7,fetch("/api/v1/auth/register",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 7:return r=e.sent,e.next=10,r.json();case 10:if(n=e.sent,!r.ok||!n){e.next=19;break}console.log("before register : ",n),console.log("before register : ",Object(d.a)({},o,{},n,{isAuthenticated:!0})),console.log("before register : ",Object(d.a)({},n,{isAuthenticated:!0})),c(Object(d.a)({},o,{},n,{isAuthenticated:!0})),console.log("after register : ",o),e.next=27;break;case 19:e.t0=r.status,e.next=401===e.t0?22:403===e.t0?24:26;break;case 22:return se("Utente o Password errata"),e.abrupt("break",27);case 24:return se("Utente o Email gia registrati"),e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(4),console.error("onSubmitLogin : ",e.t1),se("Errore durante il processo di registrazione. Riprovare piu tardi");case 33:case"end":return e.stop()}}),e,null,[[4,29]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(E.a,{onSubmit:ie},l.a.createElement(E.a.Row,null,l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"username"},l.a.createElement(E.a.Label,null,"Username"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"text",placeholder:"username"},v)))),l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"name"},l.a.createElement(E.a.Label,null,"Nome"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"text",placeholder:"Nome"},L)))),l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"surname"},l.a.createElement(E.a.Label,null,"Cognome"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"text",placeholder:"Cognome"},z))))),l.a.createElement(E.a.Row,null,l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"email"},l.a.createElement(E.a.Label,null,"Email"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"email",placeholder:"Email"},G)))),l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"cemail"},l.a.createElement(E.a.Label,null,"Conferma Email"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"email",placeholder:"Conferma Email"},D))))),l.a.createElement(E.a.Row,null,l.a.createElement(g.a,null,l.a.createElement(E.a.Group,{controlId:"password"},l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"password",placeholder:"Password"},V))),l.a.createElement(E.a.Group,{controlId:"cpassword"},l.a.createElement(E.a.Label,null,"Conferma Password"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"password",placeholder:"Conferma Password"},Y)))),l.a.createElement(g.a,{md:6,style:{display:"flex",alignItems:"center"}},l.a.createElement("ul",null,l.a.createElement("strong",null,"La password deve rispettare i sequenti criteri :"),l.a.createElement("li",{key:"pass-1"},"Almeno 1 carattere minuscolo"),l.a.createElement("li",{key:"pass-2"},"Almeno 1 carattere maiuscolo"),l.a.createElement("li",{key:"pass-3"},"Almeno 1 carattere numerico"),l.a.createElement("li",{key:"pass-5"},"Tra 8 e 16 caratteri")))),l.a.createElement(E.a.Row,null,l.a.createElement(g.a,{md:3},l.a.createElement(E.a.Group,{controlId:"phone"},l.a.createElement(E.a.Label,null,"Telefono"),l.a.createElement(E.a.Control,Object.assign({type:"text",placeholder:"Telefono"},W)))),l.a.createElement(g.a,{md:3},l.a.createElement(E.a.Group,{controlId:"birthday"},l.a.createElement(E.a.Label,null,"Data di nascita"),l.a.createElement(j.a,{className:"datepicker",dateFormat:"dd/MM/yyyy",required:!0,selected:ae,onChange:function(e){return te(e)}}))),l.a.createElement(g.a,{md:6},l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Label,null,"Ruolo"),l.a.createElement(O.a,{dateFormat:"dd/MM/yyyy",value:le,onChange:function(e){return oe(e)},options:y,styles:k}),l.a.createElement(E.a.Text,{className:"text-muted default-color-green"},"Sei un giocatore? Assegna qui il tuo ruolo.")))),l.a.createElement(i.a,{variant:"outline-success",type:"submit",size:"lg"},"Registrati"),l.a.createElement(i.a,{variant:"outline-danger",className:"float-right",onClick:function(){x(),A(),N(),M(),F(),$(),_(),X(),re(),ce()},type:"submit",size:"lg"},"Reset"))},k={control:function(e){return Object(d.a)({},e,{height:"38px"})},input:function(e){return Object(d.a)({},e,{height:"38px"})},option:function(e,a){a.data,a.isDisabled,a.isFocused,a.isSelected;return Object(d.a)({},e,{color:"black"})},placeholder:function(e){return Object(d.a)({},e,{height:"38px"})},singleValue:function(e,a){a.data;return Object(d.a)({},e,{height:"38px"})},clearIndicator:function(e){return Object(d.a)({},e,{height:"38px"})},indicatorSeparator:function(e){return Object(d.a)({},e)}},C=function(e){var a=e.setErrorMessage,t=Object(h.g)(),n=Object(f.d)(),o=Object(r.a)(n,2),c=o[0],s=o[1],u=Object(b.a)(""),g=u.value,v=u.bind,j=Object(b.a)(""),O=j.value,w=j.bind,y=function(e){a(e),setTimeout((function(){return a("")}),3e3)},x=function(){var e=Object(p.a)(m.a.mark((function e(a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g&&""!==g){e.next=4;break}return y("Inserire username o password"),e.abrupt("return");case 4:if(O&&""!==O){e.next=7;break}return y("Inserire la password"),e.abrupt("return");case 7:return e.prev=7,e.next=10,fetch("/api/v1/auth/authenticate",{method:"POST",body:JSON.stringify({username:g,password:O}),headers:{"Content-Type":"application/json"}});case 10:return r=e.sent,e.next=13,r.json();case 13:n=e.sent,r.ok&&n?(s(Object(d.a)({},c,{},n,{isAuthenticated:!0})),t.push("/")):401===r.status&&y("Utente o Password errata"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("onSubmitLogin : ",e.t0),y("Errore durante il processo di registrazione. Riprovare piu tardi");case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(E.a,{onSubmit:x},l.a.createElement(E.a.Group,{controlId:"username"},l.a.createElement(E.a.Label,null,"Username o Email"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"text",placeholder:"username o email"},v))),l.a.createElement(E.a.Group,{controlId:"password"},l.a.createElement(E.a.Label,null,"Password"),l.a.createElement(E.a.Control,Object.assign({required:!0,type:"password",placeholder:"Password"},w))),l.a.createElement(i.a,{size:"lg",variant:"outline-success",type:"submit"},"Login"))},I=t(331),L=t(103);a.default=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],u=a[1],m=Object(n.useState)(""),d=Object(r.a)(m,2),p=d[0],b=d[1],E=Object(L.a)({prefix:"far",iconName:"arrow-alt-circle-right"}),g=t?"Registrati":"Login",f=t?l.a.createElement(x,{setErrorMessage:b}):l.a.createElement(C,{setErrorMessage:b}),h=t?"Login":"Registrati",v=l.a.createElement(I.a,{icon:E}),j={textAlign:"left",width:t?"50vw":"40vw",height:"auto",margin:"auto",color:"white"};return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{style:j,className:"default-background"},l.a.createElement(o.a.Header,{as:"h2"},g),l.a.createElement(o.a.Body,null,l.a.createElement(c.a,null,p?l.a.createElement(s.a,{key:"auth-alert",variant:"danger"},p):null,f)),l.a.createElement(o.a.Footer,null,l.a.createElement(i.a,{variant:"outline-warning",onClick:function(){return u(!t)}},l.a.createElement("div",null,v," ",l.a.createElement("strong",null,h))))))}}}]);
//# sourceMappingURL=13.c80c25f7.chunk.js.map