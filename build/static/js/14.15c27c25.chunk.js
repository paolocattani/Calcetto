(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[14],{272:function(e,t,a){"use strict";a.d(t,"j",(function(){return u})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"i",(function(){return d})),a.d(t,"h",(function(){return E})),a.d(t,"d",(function(){return p})),a.d(t,"k",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return g}));var n=a(0),r=a.n(n),l=a(273),o=a(125),c=function(e){var t=e.size,a=e.prefix,n=e.iconName,c=e.color;return r.a.createElement(l.a,{color:c,size:t,icon:Object(o.a)({prefix:a,iconName:n})})},u=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"far",iconName:"trash-alt"})},i=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"far",iconName:"save"})},s=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"arrow-alt-circle-right"})},m=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"arrow-alt-circle-left"})},f=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"times"})},d=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"toggle-on"})},E=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"toggle-off"})},p=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"plus"})},b=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"trophy"})},h=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"angle-double-right"})},g=function(e){var t=e.size,a=e.color;return r.a.createElement(c,{size:t,color:a,prefix:"fas",iconName:"ban"})}},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(124),r=a(0),l=function(e){var t=Object(r.useState)(e),a=Object(n.a)(t,2),l=a[0],o=a[1];return{value:l,setValue:o,reset:function(){return o(e)},bind:{value:l,onChange:function(e){return o(e.currentTarget.value)}}}}},372:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a.n(n),l=a(14),o=a(21),c=a(124),u=a(0),i=a.n(u),s=a(129),m=a(308),f=a(295),d=a(168),E=a(105),p=a(255),b=a(256),h=a(279),g=a(107),v=a.n(g),y=a(272),z=a(54),O=a(17),j=a(19),x=a(35),N=Object(u.lazy)((function(){return a.e(17).then(a.bind(null,369))}));t.default=function(){var e=Object(x.c)(),t=Object(j.g)(),a=Object(x.d)(z.a.getSession),n=Object(u.useState)(!1),g=Object(c.a)(n,2),w=g[0],C=g[1],S=Object(h.a)(a.user.name),k=S.value,T=S.bind,G=Object(h.a)(a.user.surname),I=G.value,L=G.bind,D=Object(h.a)(a.user.phone),q=D.value,J=D.bind,R=Object(h.a)(a.user.birthday),W=R.value,A=R.setValue,F=Object(u.useState)(""),H=Object(c.a)(F,2),M=H[0],U=H[1],V=Object(u.useState)(""),B=Object(c.a)(V,2),P=B[0],K=B[1],Q=function(e){U(e),setTimeout((function(){return U("")}),3e3)},X=function(){var n=Object(o.a)(r.a.mark((function n(o){var c,u,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.preventDefault(),n.prev=1,c=a.user,u=Object(l.a)(Object(l.a)({},c),{},{name:k,surname:I,phone:q,birthday:W}),n.next=6,fetch("/api/v1/auth/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});case 6:return i=n.sent,n.next=9,i.json();case 9:i.ok?(e(O.b.updateSession({user:u})),K("Aggiornamento effettuato ... "),setTimeout((function(){return K("")}),3e3),setTimeout((function(){return t.push("/")}),3e3)):Q("Errore durante aggiornamento dati"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),Q("Errore durante aggiornamento dati");case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}();return i.a.createElement(s.a,{md:{span:"6",offset:"3"},sm:"12"},i.a.createElement(m.a,{style:{textAlign:"left",width:"100%",height:"auto",margin:"auto",color:"white"},className:"default-background"},i.a.createElement(f.a,{onSubmit:X},i.a.createElement(m.a.Header,{as:"h2"},i.a.createElement(d.a,null,i.a.createElement(s.a,{md:"9"},"Gestione dati utente"),i.a.createElement(s.a,{md:"3"},i.a.createElement(E.a,{variant:"outline-warning",className:"float-right",onClick:function(){return t.push("/")}},i.a.createElement(y.g,null)," Chiudi")))),i.a.createElement(m.a.Body,null,i.a.createElement(p.a,null,M?i.a.createElement(b.a,{key:"auth-alert-error",variant:"danger"},M):null,P?i.a.createElement(b.a,{key:"auth-alert-success",variant:"success"},P):null,i.a.createElement(f.a.Group,{as:d.a,controlId:"username"},i.a.createElement(f.a.Label,{column:!0},"Username"),i.a.createElement(s.a,{sm:"9"},i.a.createElement(f.a.Control,{plaintext:!0,value:a.user.username,readOnly:!0,style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white "}))),i.a.createElement(f.a.Group,{as:d.a,controlId:"email"},i.a.createElement(f.a.Label,{column:!0},"Email"),i.a.createElement(s.a,{sm:"9"},i.a.createElement(f.a.Control,{plaintext:!0,value:a.user.email,readOnly:!0,style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white"}))),i.a.createElement(f.a.Group,{as:d.a,controlId:"role"},i.a.createElement(f.a.Label,{column:!0},"Ruolo"),i.a.createElement(s.a,{sm:"9"},i.a.createElement(f.a.Control,{plaintext:!0,value:a.user.role,readOnly:!0,style:{fontSize:"larger",fontWeight:"bolder"},className:"default-color-white"}))),i.a.createElement(f.a.Row,null,i.a.createElement(s.a,null,i.a.createElement(f.a.Group,{controlId:"name"},i.a.createElement(f.a.Label,null,"Nome"),i.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"Nome"},T)))),i.a.createElement(s.a,null,i.a.createElement(f.a.Group,{controlId:"surname"},i.a.createElement(f.a.Label,null,"Cognome"),i.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"Cognome"},L))))),i.a.createElement(f.a.Row,null,i.a.createElement(s.a,null,i.a.createElement(f.a.Group,{controlId:"phone"},i.a.createElement(f.a.Label,null,"Telefono"),i.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"Telefono"},J)))),i.a.createElement(s.a,null,i.a.createElement(f.a.Group,{controlId:"birthday"},i.a.createElement(f.a.Label,null,"Data di Nascita"),i.a.createElement(f.a.Control,{as:function(){return i.a.createElement(v.a,{selected:new Date(W),locale:"it-IT",dateFormat:"dd/MM/yyyy",onChange:function(e){return A(e||new Date)}})}})))))),i.a.createElement(m.a.Footer,{style:{height:"10vh"}},i.a.createElement(E.a,{variant:"outline-success",type:"submit",className:"float-right"},i.a.createElement(y.f,null)," Salva"),i.a.createElement(E.a,{variant:"outline-danger",className:"float-left",onClick:function(){return C(!0)}},i.a.createElement(y.j,null)," Elimina Utente"))),i.a.createElement(N,{show:w,onHide:function(){return C(!1)}})))}}}]);
//# sourceMappingURL=14.15c27c25.chunk.js.map