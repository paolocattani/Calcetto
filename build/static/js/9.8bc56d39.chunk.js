(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[9],{214:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(77);var r=a(96);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},231:function(e,t,a){"use strict";function n(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return"".concat(n,"-").concat(a,"-").concat(t)}a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));new RegExp("^d{10}$");var r=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),o=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")},239:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={New:"new",PairsSelection:"PairsSelection",Stage1:"Stage1",Stage2:"Stage2"}},325:function(e,t,a){"use strict";var n=a(3),r=a(5),o=a(6),c=a.n(o),i=a(0),l=a.n(i),s=a(7),u=a(12),p=a(58),m=a(99),b=l.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,i=e.variant,u=e.as,p=void 0===u?"img":u,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),b=Object(s.b)(a,"card-img");return l.a.createElement(p,Object(n.a)({ref:t,className:c()(i?b+"-"+i:b,o)},m))}));b.displayName="CardImg",b.defaultProps={variant:null};var d=b,f=Object(p.a)("h5"),g=Object(p.a)("h6"),v=Object(u.a)("card-body"),O=l.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,u=e.bg,p=e.text,b=e.border,d=e.body,f=e.children,g=e.as,O=void 0===g?"div":g,h=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),j=Object(s.b)(a,"card"),E=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:j+"-header"}}),[j]);return l.a.createElement(m.a.Provider,{value:E},l.a.createElement(O,Object(n.a)({ref:t},h,{className:c()(o,j,u&&"bg-"+u,p&&"text-"+p,b&&"border-"+b)}),d?l.a.createElement(v,null,f):f))}));O.displayName="Card",O.defaultProps={body:!1},O.Img=d,O.Title=Object(u.a)("card-title",{Component:f}),O.Subtitle=Object(u.a)("card-subtitle",{Component:g}),O.Body=v,O.Link=Object(u.a)("card-link",{Component:"a"}),O.Text=Object(u.a)("card-text",{Component:"p"}),O.Header=Object(u.a)("card-header"),O.Footer=Object(u.a)("card-footer"),O.ImgOverlay=Object(u.a)("card-img-overlay");t.a=O},332:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a.n(n),o=a(46),c=a(214),i=a(16),l=a(0),s=a.n(l),u=(a(223),a(23),a(8),a(220)),p=a(221),m=(a(216),a(225),a(251));function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var d=function(e,t){void 0===e&&(e="");var a=String(e).toLowerCase(),n=String(t.value).toLowerCase(),r=String(t.label).toLowerCase();return n===a||r===a},f=b({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,a){return!(!e||t.some((function(t){return d(e,t)}))||a.some((function(t){return d(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),g=function(e){var t,a;return a=t=function(t){var a,n;function r(e){var a;(a=t.call(this,e)||this).select=void 0,a.onChange=function(e,t){var n=a.props,r=n.getNewOptionData,o=n.inputValue,c=n.isMulti,i=n.onChange,l=n.onCreateOption,s=n.value,p=n.name;if("select-option"!==t.action)return i(e,t);var m=a.state.newOption,b=Array.isArray(e)?e:[e];if(b[b.length-1]!==m)i(e,t);else if(l)l(o);else{var d=r(o,o),f={action:"create-option",name:p};i(c?[].concat(Object(u.e)(s),[d]):d,f)}};var n=e.options||[];return a.state={newOption:void 0,options:n},a}n=t,(a=r).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n;var o=r.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){var t=e.allowCreateWhileLoading,a=e.createOptionPosition,n=e.formatCreateLabel,r=e.getNewOptionData,o=e.inputValue,c=e.isLoading,i=e.isValidNewOption,l=e.value,s=e.options||[],p=this.state.newOption;p=i(o,Object(u.e)(l),s)?r(o,n(o)):void 0,this.setState({newOption:p,options:!t&&c||!p?s:"first"===a?[p].concat(s):[].concat(s,[p])})},o.focus=function(){this.select.focus()},o.blur=function(){this.select.blur()},o.render=function(){var t=this,a=this.state.options;return s.a.createElement(e,b({},this.props,{ref:function(e){t.select=e},options:a,onChange:this.onChange}))},r}(l.Component),t.defaultProps=f,a}(p.a),v=Object(m.a)(g),O=a(227),h=a(205),j=a(117),E=a(325),y=a(209),w=a(206),C=a(17),S=a(231),x=a(36),N=a(95);function P(e,t){return{id:null,name:e||"",ownerId:null,progress:t||"New",public:!0,label:e||""}}var A=function(e){var t=e.innerProps;return s.a.createElement("span",Object.assign({style:L},t))},L={alignSelf:"stretch",backgroundColor:"green",marginBottom:8,marginTop:8,marginRigth:10,width:1},T={width:"50%",margin:"auto",backgroundColor:"inherit",borderColor:"#ffc107",borderWidth:"3px"},z=a(239),D=a(79),I=a.n(D),_=function(){var e=Object(l.useState)(new Date),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)(),o=Object(i.a)(r,2),c=o[0];o[1];return s.a.createElement(y.a,null,s.a.createElement(y.a.Row,null,s.a.createElement(j.a,{md:7},s.a.createElement(y.a.Group,{controlId:"formBasicEmail"},s.a.createElement(y.a.Label,null,"Nome"),s.a.createElement(y.a.Control,{type:"text",placeholder:"Nome Torneo"}))),s.a.createElement(j.a,{md:3},s.a.createElement(y.a.Group,null,s.a.createElement(y.a.Label,null,"Data"),s.a.createElement(y.a.Control,{as:function(){return s.a.createElement(I.a,{highlightDates:[new Date],locale:"it",selected:a,dateFormat:"dd/MM/yyyy",onChange:function(e){return n(e||new Date)}})}}))),s.a.createElement(j.a,{md:2},s.a.createElement(y.a.Group,{controlId:"exampleForm.SelectCustom"},s.a.createElement(y.a.Label,null,"Visibilit\xe0 : ",c),s.a.createElement(y.a.Control,{as:"select",custom:!0,onChange:function(e){console.log(e)}},s.a.createElement("option",null,"Pubblico"),s.a.createElement("option",null,"Privato"))))))};t.default=function(){var e=Object(l.useState)(Object(S.b)()),t=Object(i.a)(e,2),a=t[0],n=t[1],u=Object(l.useState)([]),p=Object(i.a)(u,2),m=p[0],b=p[1],d={message:"",type:"success"},f=Object(l.useState)(d),g=Object(i.a)(f,2),L=g[0],D=g[1],I=Object(C.g)();Object(l.useEffect)((function(){return e=b,t=n,void Object(o.a)(r.a.mark((function a(){var n,o,i,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/v1/tournament/list",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=a.sent,a.next=5,n.json();case 5:o=a.sent,i=o.find((function(e){return e.name===Object(S.b)()})),(l=i?[i].concat(Object(c.a)(o)):o).sort(),e(l),t&&t(l[0]);case 11:case"end":return a.stop()}}),a)})))();var e,t}),[]);var k=function(e){return n(e)},R=function(e){var t=P(e);n(t),b((function(e){return[].concat(Object(c.a)(e),[t])}))},Z=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/v1/tournament",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P(a.name,z.a.PairsSelection))});case 3:return n=e.sent,e.next=6,n.json();case 6:o=e.sent,n.ok?I.push("/tournament/".concat(o.id)):(401===n.status?D({message:"Non sei autorizzato",type:"danger"}):o.message?D({message:o.message,type:"danger"}):D({message:"Errore interno. Riprovare piu tardi...",type:"danger"}),setTimeout((function(){return D(d)}),5e3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(h.a,null,s.a.createElement(j.a,null,s.a.createElement(N.a,{message:L.message,type:L.type}),s.a.createElement(E.a,{style:T},s.a.createElement(E.a.Header,{as:"h2"},"Torneo"),s.a.createElement(E.a.Body,null,s.a.createElement(E.a.Title,null,"Scegli un torneo"),s.a.createElement(_,null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(y.a,{onSubmit:Z},s.a.createElement(x.a.Consumer,null,(function(e){var t=Object(i.a)(e,1)[0];return Object(x.c)(t)?s.a.createElement(v,{components:{IndicatorSeparator:A},value:a,options:m,placeholder:"Crea/Cerca un torneo",isSearchable:!0,isClearable:!0,onChange:k,onCreateOption:R,createOptionPosition:"first"}):s.a.createElement(O.a,{components:{IndicatorSeparator:A},value:a,options:m,placeholder:"Cerca un torneo",isSearchable:!0,isClearable:!0,onChange:k})})),s.a.createElement("br",null),s.a.createElement(w.a,{type:"submit",size:"lg",variant:"outline-warning",disabled:!a},"Continua"))))))}}}]);
//# sourceMappingURL=9.8bc56d39.chunk.js.map