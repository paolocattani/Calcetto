{"version":3,"sources":["components/core/utils.ts","common.module.css","../node_modules/react-bootstrap/esm/Badge.js","components/Tournament/badge.tsx","../node_modules/react-bootstrap/esm/InputGroup.js","components/Pair/noData.tsx","components/Player/select.tsx","components/Pair/editor.js","components/Pair/table.tsx"],"names":["translateTournamentProgress","value","TournamentProgress","New","PairsSelection","Stage1","Stage2","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","RegExp","passwordRegExp","emailRegExp","getBaseLog","x","y","Math","log","module","exports","Badge","React","forwardRef","_ref","ref","bsPrefix","variant","pill","className","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","createElement","_extends","classNames","displayName","defaultProps","TournamentBadge","tournament","useSelector","TournamentSelector","getTournament","Row","Col","name","toUpperCase","progress","InputGroupAppend","createWithBsPrefix","InputGroupPrepend","InputGroupText","InputGroup","size","InputGroupWithExtras","Text","Radio","type","Checkbox","Append","Prepend","noData","addRow","optionsLength","isEditable","players","diff","Button","onClick","disabled","to","PlayerSelection","styles","row","columnIndex","onSelect","onUpdate","options","useState","selectedOption","setSelectedOption","onChange","actionMeta","id","getOptionLabel","option","alias","getOptionValue","toString","placeholder","isSearchable","isClearable","playerSelection","editorProps","rowIndex","customStyles","checkBoxProps","align","headerStyle","column","colIndex","width","editor","Type","CHECKBOX","style","content","backgroundColor","columns","dataField","text","editable","hidden","editorRenderer","SELECT","split","map","e","label","hideAskUser","message","console","show","title","withRouter","currentHistory","useHistory","dispatch","useDispatch","isAdmin","SessionSelector","state","isLoading","setIsLoading","askUser","setAskUser","rows","data","setData","selectedRows","setSelectedRows","stage1Number","setStage1Number","newRowsNumber","setNewRowsNumber","showErrorMessage","toast","error","autoClose","showSuccessMessage","success","index","a","emptyRow","getEmptyRowModel","tId","fetch","method","headers","body","JSON","stringify","response","json","result","rowNumber","current","addMultipleRows","ii","deleteRow","forEach","player1","push","player2","sort","e1","e2","localeCompare","filter","find","selectedRow","updateOptions","player","selected","useEffect","fetchData","selectedElement","Promise","all","rowElement","getEmptyPlayer","encodeURIComponent","ok","newRowsElement","confirmPairs","setTimeout","missingStage1Name","stage1Name","missingPairs","stageName","invalidStage","pairsInStage","reduce","allNames","MIN_PAIR_PER_STAGE","TournamentAction","updateTournament","request","model","PairAction","fetchPairs","goBack","selectRow","mode","isSelected","found","onSelectAll","hideSelectColumn","processDeleteStage1","deleteStage1","onHide","setStage1Name","names","newRows","availableRows","floor","accumulator","deleteDisabled","commonStyle","toolsBarContainer","toolsBar","FormControl","aria-label","step","min","max","undefined","event","Number","currentTarget","bootstrap4","keyField","cellEdit","cellEditFactory","blurToSave","afterSaveCell","oldValue","newValue","noDataIndication","caption","headerClasses","striped","hover"],"mappings":"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","file":"static/js/6.43952b02.chunk.js","sourcesContent":["import { TournamentProgress } from '../../redux/models/tournament.model';\r\n\r\nexport const getTodayDate = () => formatDate(new Date());\r\n\r\nexport function translateTournamentProgress(value: string) {\r\n  switch (value) {\r\n    case TournamentProgress.New:\r\n      return 'Nuovo';\r\n    case TournamentProgress.PairsSelection:\r\n      return 'Selezione Coppie';\r\n    case TournamentProgress.Stage1:\r\n      return 'Fase 1';\r\n    case TournamentProgress.Stage2:\r\n      return 'Fase 2';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\nexport function formatDate(date: Date) {\r\n  var d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  return [year, month, day].join('/');\r\n}\r\n\r\nexport function getRandomIntInclusive(min: number, max: number) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n\r\nexport const phoneRegExp = new RegExp('^d{10}$');\r\nexport const passwordRegExp = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})');\r\nexport const emailRegExp = new RegExp(\r\n  // eslint-disable-next-line quotes\r\n  \"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$\"\r\n);\r\n\r\nexport function getBaseLog(x: number, y: number) {\r\n  return Math.log(y) / Math.log(x);\r\n}\r\n\r\n// https://stackoverflow.com/questions/2698725/comparing-date-part-only-without-comparing-time-in-javascript\r\nexport const justADate = (initDate?: Date | string) => {\r\n  let utcMidnightDateObj: Date;\r\n  // if no date supplied, use Now.\r\n  if (!initDate) initDate = new Date();\r\n\r\n  // if initDate specifies a timezone offset, or is already UTC, just keep the date part, reflecting the date _in that timezone_\r\n  if (typeof initDate === 'string' && initDate.match(/((\\+|-)\\d{2}:\\d{2}|Z)$/gm)) {\r\n    utcMidnightDateObj = new Date(initDate.substring(0, 10) + 'T00:00:00Z');\r\n  } else {\r\n    // if init date is not already a date object, feed it to the date constructor.\r\n    if (!(initDate instanceof Date)) initDate = new Date(initDate);\r\n    // Vital Step! Strip time part. Create UTC midnight dateObj according to local timezone.\r\n    utcMidnightDateObj = new Date(Date.UTC(initDate.getFullYear(), initDate.getMonth(), initDate.getDate()));\r\n  }\r\n\r\n  return {\r\n    toISOString: () => utcMidnightDateObj.toISOString(),\r\n    getUTCDate: () => utcMidnightDateObj.getUTCDate(),\r\n    getUTCDay: () => utcMidnightDateObj.getUTCDay(),\r\n    getUTCFullYear: () => utcMidnightDateObj.getUTCFullYear(),\r\n    getUTCMonth: () => utcMidnightDateObj.getUTCMonth(),\r\n    setUTCDate: (date: number) => utcMidnightDateObj.setUTCDate(date),\r\n    setUTCFullYear: (years: number) => utcMidnightDateObj.setUTCFullYear(years),\r\n    setUTCMonth: (months: number) => utcMidnightDateObj.setUTCMonth(months),\r\n    addDays: (days: number) => {\r\n      utcMidnightDateObj.setUTCDate(utcMidnightDateObj.getUTCDate() + days);\r\n    },\r\n    toString: () => utcMidnightDateObj.toString(),\r\n    toLocaleDateString: (\r\n      locales?: string | string[] | undefined,\r\n      options?: Intl.DateTimeFormatOptions | undefined\r\n    ): string => {\r\n      const option = options || {};\r\n      option.timeZone = 'UTC';\r\n      const locale = locales || 'it-IT';\r\n      return utcMidnightDateObj.toLocaleDateString(locale, option);\r\n    },\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"functionsList\":\"common_functionsList__3B3UB\",\"toolsBarContainer\":\"common_toolsBarContainer__1nanA\",\"toolsBarRow\":\"common_toolsBarRow__r8q12\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import React from 'react';\r\nimport { TournamentSelector } from 'redux/selectors';\r\nimport { useSelector } from 'react-redux';\r\nimport { Row, Col, Badge } from 'react-bootstrap';\r\nimport { formatDate, translateTournamentProgress } from 'components/core/utils';\r\n\r\ninterface TournamentBadgeProps {}\r\nconst TournamentBadge: React.FC<TournamentBadgeProps> = () => {\r\n  const tournament = useSelector(TournamentSelector.getTournament)!;\r\n\r\n  return (\r\n    <Row>\r\n      <Col>\r\n        <h2 className=\"float-left\">\r\n          <Badge variant=\"info\">\r\n            <span>Torneo </span>\r\n            <strong>\"{tournament.name.toUpperCase()}\"</strong>\r\n            <span>\r\n              <i>\r\n                {` - ${formatDate(tournament.date)} `}\r\n                <small> @ {translateTournamentProgress(tournament!.progress)}</small>\r\n              </i>\r\n            </span>\r\n          </Badge>\r\n        </h2>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default TournamentBadge;\r\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"size\", \"className\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size)\n  }));\n});\nInputGroup.displayName = 'InputGroup';\n\nvar InputGroupWithExtras = _extends({}, InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox,\n  Append: InputGroupAppend,\n  Prepend: InputGroupPrepend\n});\n\nexport default InputGroupWithExtras;","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface NoDataProps {\r\n  optionsLength: number;\r\n  isEditable: boolean;\r\n  addRow: () => void;\r\n}\r\n\r\n// Componente da mostrare se non sono presenti coppie\r\nconst noData: React.FC<NoDataProps> = ({ addRow, optionsLength, isEditable }) => {\r\n  const MIN_PLAYERS = 8;\r\n  const players = optionsLength - 1;\r\n  const diff = players < MIN_PLAYERS ? MIN_PLAYERS - players : 0;\r\n  if (!optionsLength) return null;\r\n  return players >= MIN_PLAYERS ? (\r\n    <>\r\n      <p> Aggiungi le coppie per questo torneo...</p>\r\n      <Button variant=\"success\" onClick={addRow} disabled={!isEditable}>\r\n        Aggiungi Coppia\r\n      </Button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <p>Ci sono solo {players} giocatori definiti ma devono essercene almeno 8 per poter formare un torneo.</p>\r\n      <p>{diff === 1 ? 'Devi creare un altro giocatore...' : `Devi creare almeno altri ${diff}`}</p>\r\n      <Link to={'/player'}>\r\n        <Button variant=\"success\">Gestione Giocatori</Button>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default noData;\r\n","import React, { useState } from 'react';\r\nimport Select, { Styles, ValueType, ActionMeta } from 'react-select';\r\nimport { PlayerDTO } from 'redux/models';\r\n\r\nexport interface PlayerSelectProps {\r\n  styles?: Partial<Styles>;\r\n  options: PlayerDTO[];\r\n  columnIndex: number;\r\n  id: number;\r\n  onUpdate: any;\r\n  onSelect: any;\r\n  row: any;\r\n}\r\n\r\nconst PlayerSelection: React.FC<PlayerSelectProps> = React.forwardRef(\r\n  ({ styles, row, columnIndex, /*id,*/ onUpdate, onSelect, options }, ref) => {\r\n    const [selectedOption, setSelectedOption] = useState<PlayerDTO>();\r\n\r\n    const handleChange = (selectedOption: ValueType<PlayerDTO>, actionMeta: ActionMeta<PlayerDTO>) => {\r\n      setSelectedOption(selectedOption as PlayerDTO);\r\n      onSelect(selectedOption, row.id, columnIndex);\r\n    };\r\n\r\n    return (\r\n      <Select\r\n        styles={styles}\r\n        options={options}\r\n        onChange={handleChange}\r\n        getOptionLabel={(option) => option.alias}\r\n        getOptionValue={(option) => option.id?.toString(10)!}\r\n        value={selectedOption}\r\n        placeholder=\"Cerca...\"\r\n        isSearchable\r\n        isClearable\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\nimport { customStyles } from './helper';\r\n\r\nconst ALIGN_CENTER = 'center';\r\nconst YES = 'Si';\r\nconst NO = 'No';\r\n\r\nconst playerSelection = (editorProps, value, row, rowIndex, columnIndex, onSelect, options) => (\r\n  <PlayerSelect\r\n    {...editorProps}\r\n    id={columnIndex}\r\n    row={row}\r\n    rowIndex={rowIndex}\r\n    columnIndex={columnIndex}\r\n    value={value}\r\n    onSelect={onSelect}\r\n    options={options}\r\n    styles={customStyles}\r\n  />\r\n);\r\n\r\nconst checkBoxProps = {\r\n  align: () => ALIGN_CENTER,\r\n  headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n  editor: {\r\n    type: Type.CHECKBOX,\r\n    value: `${YES}:${NO}`,\r\n  },\r\n  style: (content, row, rowIndex, columnIndex) => (content !== NO ? { backgroundColor: '#ffbf47' } : null),\r\n};\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => ALIGN_CENTER },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => ALIGN_CENTER },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => ALIGN_CENTER,\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) =>\r\n      playerSelection(editorProps, value, row, rowIndex, columnIndex, onSelect, options),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n  },\r\n  { dataField: 'alias', text: 'Alias Coppia', headerStyle: (column, colIndex) => ({ width: '25%' }) },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => ALIGN_CENTER,\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map((e) => ({ value: e, label: e })),\r\n    },\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    ...checkBoxProps,\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    ...checkBoxProps,\r\n  },\r\n];\r\n\r\nexport const cellEditProps = (editable) =>\r\n  cellEditFactory({\r\n    mode: editable ? 'click' : 'none',\r\n    blurToSave: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n      if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n      (async () => {\r\n        const response = await fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        await response.json();\r\n      })();\r\n    },\r\n  });\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, InputGroup, FormControl, Row, Col } from 'react-bootstrap';\r\nimport BootstrapTable, { SelectRowProps, ColumnDescription } from 'react-bootstrap-table-next';\r\nimport { useHistory } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n// Components\r\nimport NoData from './noData';\r\n// Core / Helper / Editor\r\nimport { LoadingModal, YesNoModal, YesNoModalProps } from '../core/generic/Commons';\r\nimport { FormEventType } from '../core/generic/CommonTypes';\r\nimport { RightArrowIcon, TrashIcon, PlusIcon, HomeIcon } from '../core/icons';\r\nimport { cellEditProps, columns } from './editor';\r\nimport { fetchData, getEmptyRowModel } from './helper';\r\n// Style\r\nimport './style.css';\r\nimport commonStyle from '../../common.module.css';\r\n// Service\r\nimport { getEmptyPlayer } from 'redux/services/player.service';\r\n// Selector\r\nimport { SessionSelector } from 'redux/selectors/session.selector';\r\nimport { TournamentSelector } from 'redux/selectors/tournament.selector';\r\n// Models\r\nimport { PairDTO, PlayerDTO } from '../../redux/models';\r\nimport { TournamentProgress } from '../../redux/models/tournament.model';\r\n// Action\r\nimport { TournamentAction, PairAction } from '../../redux/actions';\r\nimport TournamentBadge from '../Tournament/badge';\r\n\r\nconst hideAskUser = {\r\n  message: '',\r\n  onClick: () => console.log(''),\r\n  show: false,\r\n  title: '',\r\n};\r\ninterface PairTableProps {}\r\nconst PairsTable: React.FC<PairTableProps> = () => {\r\n  // Navigation\r\n  const currentHistory = useHistory();\r\n  const dispatch = useDispatch();\r\n  const isAdmin = useSelector(SessionSelector.isAdmin);\r\n  const tournament = useSelector(TournamentSelector.getTournament)!;\r\n\r\n  // States\r\n  // User messages\r\n  const [isLoading, setIsLoading] = useState({ state: false, message: 'Caricamento' });\r\n  const [askUser, setAskUser] = useState<YesNoModalProps>(hideAskUser);\r\n\r\n  // Data\r\n  const [data, setData] = useState<{ rows: PairDTO[]; players: PlayerDTO[] }>({ rows: [], players: [] });\r\n  const [selectedRows, setSelectedRows] = useState<PairDTO[]>([]);\r\n  // Function params\r\n  const [stage1Number, setStage1Number] = useState<number>(0);\r\n  const [newRowsNumber, setNewRowsNumber] = useState<number>(0);\r\n\r\n  // Initial Fetch\r\n  useEffect(() => {\r\n    if (!tournament) return;\r\n    (async () => setData(await fetchData(tournament.id!)))();\r\n  }, [tournament]);\r\n\r\n  // User messages\r\n  function showErrorMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.error(message, { autoClose: 10000 });\r\n  }\r\n  function showSuccessMessage(message: string) {\r\n    setIsLoading({ state: false, message });\r\n    toast.success(message);\r\n  }\r\n\r\n  async function addRow(index?: number) {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Aggiunta riga in corso' });\r\n      const emptyRow = getEmptyRowModel();\r\n      emptyRow.tId = tournament.id || 0;\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(emptyRow),\r\n      });\r\n      const result = await response.json();\r\n      emptyRow.id = result.id;\r\n      emptyRow.rowNumber = index || data.rows.length + 1;\r\n      setData((current) => ({\r\n        rows: [emptyRow, ...current.rows],\r\n        players: current.players,\r\n      }));\r\n      showSuccessMessage('Riga aggiunta');\r\n    } catch (error) {\r\n      showErrorMessage('Errore aggiunta riga');\r\n    }\r\n  }\r\n\r\n  async function addMultipleRows() {\r\n    let index = data.rows.length + 1;\r\n    for (let ii = 0; ii < newRowsNumber; ii++) {\r\n      await addRow(index);\r\n      index++;\r\n    }\r\n    setNewRowsNumber(0);\r\n  }\r\n\r\n  async function deleteRow() {\r\n    try {\r\n      setIsLoading({\r\n        state: true,\r\n        message: selectedRows.length > 1 ? 'Cancellazione righe in corso' : 'Cancellazione riga in corso',\r\n      });\r\n      // Devo ripristinare i giocatori eliminati\r\n      let players: PlayerDTO[] = [];\r\n      selectedRows.forEach((e) => {\r\n        if (e.player1 && e.player1.id) players.push(e.player1);\r\n        if (e.player2 && e.player2.id) players.push(e.player2);\r\n      });\r\n      if (players)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...players, ...current.players].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n\r\n      const response = await fetch('/api/v1/pair', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(selectedRows),\r\n      });\r\n      await response.json();\r\n\r\n      setData((current) => ({\r\n        rows: current.rows.filter((row) => !selectedRows.find((selectedRow) => selectedRow.id === row.id)),\r\n        players: current.players,\r\n      }));\r\n\r\n      showSuccessMessage(selectedRows.length > 1 ? 'Righe cancellate' : 'Riga cancellata');\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione riga');\r\n    }\r\n\r\n    setSelectedRows([]);\r\n  }\r\n\r\n  // update players list when a player is selected\r\n  function updateOptions(player: PlayerDTO | undefined, selected: PlayerDTO) {\r\n    if (player && player.id)\r\n      if (selected.id)\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players.filter((e) => e.id !== selected.id), player].sort((e1, e2) =>\r\n            e1.alias.localeCompare(e2.alias)\r\n          ),\r\n        }));\r\n      else\r\n        setData((current) => ({\r\n          rows: current.rows,\r\n          players: [...current.players, player].sort((e1, e2) => e1.alias.localeCompare(e2.alias)),\r\n        }));\r\n    else if (selected.id)\r\n      setData((current) => ({\r\n        rows: current.rows,\r\n        players: current.players.filter((e: { id: any }) => e.id !== selected.id),\r\n      }));\r\n  }\r\n  // Aggiorno la colonna con il giocatore selezionato\r\n  const onSelect = async (selectedElement: PlayerDTO, rowIndex: number, columnIndex: number) => {\r\n    const newRowsElement = await Promise.all(\r\n      data.rows.map<Promise<PairDTO>>(async (rowElement) => {\r\n        if (rowElement.id === rowIndex) {\r\n          let row = rowElement;\r\n          if (columnIndex === 1) {\r\n            if (selectedElement.id && row.player2 && row.player2.id === selectedElement.id) {\r\n              // Devo salvare l'elemnto che sto per sostituire\r\n              row.player1 = getEmptyPlayer();\r\n              showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n            } else {\r\n              // Aggiorno la lista dei giocatori disponibili prima di aggiornare i dati\r\n              updateOptions(row.player1, selectedElement);\r\n              row.player1 = selectedElement;\r\n            }\r\n          } else {\r\n            if (selectedElement.id && row.player1 && row.player1.id === selectedElement.id) {\r\n              row.player2 = getEmptyPlayer();\r\n              showErrorMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n            } else {\r\n              updateOptions(row.player2, selectedElement);\r\n              row.player2 = selectedElement;\r\n            }\r\n          }\r\n          //\r\n          if (!row.alias && row.player1 && row.player1.id && row.player2 && row.player2.id) {\r\n            const response = await fetch(\r\n              `/api/v1/pair/alias?player1Id=${encodeURIComponent(row.player1.id)}&player2Id=${encodeURIComponent(\r\n                row.player2.id\r\n              )}`\r\n            );\r\n            const result = await response.json();\r\n            if (response.ok && result.alias) {\r\n              row.alias = result.alias;\r\n            } else {\r\n              row.alias = '';\r\n            }\r\n          }\r\n          // update Db. Non aspetto la risposta...\r\n          fetch('/api/v1/pair', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(row),\r\n          });\r\n          return row;\r\n        } else return rowElement;\r\n      })\r\n    );\r\n    setData((current) => ({\r\n      rows: newRowsElement,\r\n      players: current.players,\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (row: PairDTO, isSelected: boolean) => {\r\n    setSelectedRows((selectedRows) => {\r\n      const found = selectedRows.find((e) => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter((e) => e.id !== row.id) : selectedRows;\r\n      }\r\n    });\r\n  };\r\n\r\n  const confirmPairs = async () => {\r\n    if (!tournament.id) {\r\n      showErrorMessage('Id torneo mancante. Verrai inviato alla Home tra 5 secondi....');\r\n      setTimeout(() => currentHistory.push('/'), 5000);\r\n    }\r\n\r\n    // Controllo che sia presente almeno una coppia\r\n    if (data.rows.length < 4) {\r\n      showErrorMessage('Numero di coppie insufficente. Devi formare almeno 4 coppie');\r\n      return;\r\n    }\r\n    // Controllo gironi non assegnati\r\n    const missingStage1Name = data.rows\r\n      .filter((e: { stage1Name: string }) => !e.stage1Name || e.stage1Name === '')\r\n      .map((e) => e.rowNumber);\r\n    if (missingStage1Name.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  ${\r\n          missingStage1Name.length === 1 ? 'la riga ' : 'le righe '\r\n        } ${missingStage1Name} ad un girone per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo coppie non assegnate\r\n    const missingPairs = data.rows\r\n      .filter((e) => !e.player1 || !e.player1.id || !e.player2 || !e.player2.id)\r\n      .map((e) => e.rowNumber);\r\n    if (missingPairs.length !== 0) {\r\n      showErrorMessage(\r\n        `Assegna  i giocatori ${\r\n          missingPairs.length === 1 ? 'alla riga ' : 'alle righe '\r\n        } ${missingPairs} per procedere `\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Controllo che non ci siano gironi con meno di 1 coppia ( meglio spostare 3 )\r\n    const MIN_PAIR_PER_STAGE = 3;\r\n    let invalidStage = [];\r\n    const pairsInStage = data.rows.reduce((allNames: { [x: string]: number }, row: { stage1Name: string }) => {\r\n      if (row.stage1Name in allNames) allNames[row.stage1Name]++;\r\n      else allNames[row.stage1Name] = 1;\r\n      return allNames;\r\n    }, {});\r\n    for (let stageName in pairsInStage) {\r\n      if (pairsInStage[stageName] <= MIN_PAIR_PER_STAGE) invalidStage.push(stageName);\r\n    }\r\n    if (invalidStage.length > 0) {\r\n      showErrorMessage(\r\n        invalidStage.length === 1\r\n          ? `Il torneo ${invalidStage} deve contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n          : `I torneI ${invalidStage} devono contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Se sono un utente che puo modificare e il torneo è in una fase minore ( vedi ordinamento Enum ) di quella attuale\r\n    // allora aggiorno lo stato del torneo\r\n    if (isAdmin && tournament.progress < TournamentProgress.Stage1) {\r\n      tournament.progress = TournamentProgress.Stage1;\r\n      dispatch(TournamentAction.updateTournament.request({ model: tournament }));\r\n    }\r\n    // Go to Stage1\r\n    dispatch(PairAction.fetchPairs.request({ tId: tournament.id! }));\r\n    currentHistory.push('/stage1');\r\n  };\r\n\r\n  function goBack() {\r\n    currentHistory.push('/');\r\n  }\r\n\r\n  const selectRow: SelectRowProps<PairDTO> = {\r\n    mode: 'checkbox',\r\n    onSelect: handleSelect,\r\n    onSelectAll: (isSelected: boolean, rows: PairDTO[]) => setSelectedRows(isSelected ? rows : []),\r\n    style: { backgroundColor: '#c8e6c9' },\r\n    hideSelectColumn: !isAdmin || tournament.progress > TournamentProgress.PairsSelection,\r\n  };\r\n\r\n  const processDeleteStage1 = async () => {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Cancellazione in corso' });\r\n      const response = await fetch('/api/v1/stage1', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ tId: tournament.id }),\r\n      });\r\n      await response.json();\r\n      // Update tournament progress\r\n      if (isAdmin) {\r\n        dispatch(\r\n          TournamentAction.updateTournament.request({\r\n            model: { ...tournament, progress: TournamentProgress.PairsSelection },\r\n          })\r\n        );\r\n      }\r\n      showSuccessMessage('Cancellazione completata');\r\n      setAskUser(hideAskUser);\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione Fase 1');\r\n    }\r\n  };\r\n\r\n  function deleteStage1() {\r\n    if (tournament.progress > TournamentProgress.Stage1) {\r\n      showErrorMessage('Non è possibile cancellare in quanto il torneo è gia alla fase 2');\r\n      return;\r\n    }\r\n    // Chiedo conferma all'utente\r\n    setAskUser({\r\n      message: 'Vuoi resettare i gironi ? ',\r\n      onClick: () => processDeleteStage1(),\r\n      onHide: () => setAskUser(hideAskUser),\r\n      show: true,\r\n      title: 'Reset Gironi',\r\n    });\r\n  }\r\n\r\n  async function setStage1Name() {\r\n    if (!stage1Number) {\r\n      showErrorMessage('Specificare il numero di gironi da assegnare');\r\n      return;\r\n    }\r\n\r\n    if (tournament.progress > TournamentProgress.PairsSelection) {\r\n      showErrorMessage('Non riassegnare i gironi in quanto le coppie sono gia state confermate per la fase successiva');\r\n      return;\r\n    }\r\n\r\n    setIsLoading({ state: true, message: 'Aggiornamento in corso ' });\r\n    let current = 0;\r\n    const names = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\r\n    let newRows: any[] = [];\r\n    for (let index in data.rows) {\r\n      let row = data.rows[index];\r\n      // FIXME: if (current === stage1Number) QUESTO NON FUNZIONA ===\r\n      // eslint-disable-next-line eqeqeq\r\n      if (current == stage1Number) current = 0;\r\n      row['stage1Name'] = names[current];\r\n      current++;\r\n      try {\r\n        fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row),\r\n        });\r\n        newRows.push(row);\r\n      } catch (error) {\r\n        showErrorMessage('Errore');\r\n        newRows.push(row);\r\n      }\r\n    }\r\n    showSuccessMessage('Gironi assegnati correttamente');\r\n    setData((current) => ({ rows: newRows, players: current.players }));\r\n  }\r\n\r\n  const availableRows = Math.floor(\r\n    Math.floor((data.players.length - 1) / 2) -\r\n      (data.rows.length === 0\r\n        ? 0\r\n        : data.rows.reduce((accumulator: number, e) => {\r\n            if ((!e.player1 && !e.player2) || (!e.player1?.id && !e.player2?.id)) return accumulator + 1;\r\n            if (!e.player1 || !e.player1.id || !e.player2 || !e.player2.id) return accumulator + 0.5;\r\n            return accumulator;\r\n          }, 0))\r\n  );\r\n\r\n  const deleteDisabled = !(selectedRows.length > 0) || tournament.progress > TournamentProgress.PairsSelection;\r\n\r\n  //console.log('render table : ', players, pairs);\r\n\r\n  const assignMatches = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Assegna gironi</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        placeholder={\r\n          data.rows.length < 4\r\n            ? 'Inserisci almeno 4 coppie'\r\n            : `Numero di gironi ( max ${Math.floor(data.rows.length / 4)} )`\r\n        }\r\n        aria-label=\"Numero di gironi\"\r\n        type=\"number\"\r\n        step={1}\r\n        min={0}\r\n        max={Math.floor(data.rows.length / 4)}\r\n        value={stage1Number !== 0 ? stage1Number : undefined}\r\n        onChange={(event: React.FormEvent<FormEventType>) => setStage1Number(Number(event.currentTarget.value))}\r\n        disabled={\r\n          data.rows.length < 4 ||\r\n          tournament.progress === TournamentProgress.Stage1 ||\r\n          tournament.progress === TournamentProgress.Stage2\r\n        }\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={setStage1Name}\r\n          disabled={!stage1Number || stage1Number > Math.floor(data.rows.length / 4) || data.rows.length < 4}\r\n        >\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const addPairs = () => (\r\n    <InputGroup>\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text>Aggiungi coppie</InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        disabled={availableRows <= 0}\r\n        type=\"number\"\r\n        step={1}\r\n        min={1}\r\n        max={availableRows}\r\n        placeholder={\r\n          availableRows <= 0\r\n            ? 'Numero massimo di coppie gia creato'\r\n            : `Numero di coppie da aggiungere ( max ${availableRows} )`\r\n        }\r\n        aria-label=\"Numero di coppie\"\r\n        onChange={(event: React.FormEvent<FormEventType>) => setNewRowsNumber(Number(event.currentTarget.value))}\r\n        value={newRowsNumber || ''}\r\n      />\r\n      <InputGroup.Append>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={(e: any) => setNewRowsNumber(availableRows)}\r\n          disabled={newRowsNumber > availableRows}\r\n        >\r\n          Max\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={addMultipleRows} disabled={!newRowsNumber || newRowsNumber > availableRows}>\r\n          Esegui\r\n        </Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n  );\r\n  const toolsBar = () => (\r\n    <div className={commonStyle.toolsBarContainer}>\r\n      <Row className={commonStyle.toolsBar}>\r\n        <Col>\r\n          <Button variant=\"secondary\" className=\"float-left align-middle\" onClick={goBack}>\r\n            <HomeIcon /> Home\r\n          </Button>\r\n        </Col>\r\n\r\n        {tournament.progress > TournamentProgress.PairsSelection ? null : (\r\n          <Col>\r\n            <Button\r\n              variant=\"success\"\r\n              className=\"align-middle\"\r\n              onClick={() => addRow()}\r\n              disabled={availableRows <= 0 || !isAdmin}\r\n            >\r\n              <PlusIcon /> Aggiungi Coppia\r\n            </Button>\r\n          </Col>\r\n        )}\r\n        {tournament.progress > TournamentProgress.PairsSelection ? null : (\r\n          <Col>\r\n            <Button variant=\"danger\" className=\"align-middle\" onClick={deleteRow} disabled={deleteDisabled || !isAdmin}>\r\n              <TrashIcon /> {selectedRows.length === 1 ? 'Elimina coppia' : 'Elimina coppie'}\r\n            </Button>\r\n          </Col>\r\n        )}\r\n        {tournament.progress !== TournamentProgress.Stage1 ? null : (\r\n          <Col>\r\n            <Button variant=\"danger\" className=\"align-middle\" onClick={deleteStage1} disabled={!isAdmin}>\r\n              Reset gironi\r\n            </Button>\r\n          </Col>\r\n        )}\r\n        <Col>\r\n          <Button\r\n            variant=\"outline-warning\"\r\n            className=\"default-color-white float-right align-middle\"\r\n            onClick={confirmPairs}\r\n            disabled={!isAdmin}\r\n          >\r\n            <b>Prosegui </b> <RightArrowIcon />\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {isAdmin && tournament.progress < TournamentProgress.PairsSelection ? (\r\n        <>\r\n          {assignMatches()}\r\n          {addPairs()}\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  console.log(\r\n    'Pairs : ',\r\n    tournament.progress > TournamentProgress.PairsSelection,\r\n    tournament.progress,\r\n    TournamentProgress.PairsSelection\r\n  );\r\n  return (\r\n    <div>\r\n      <YesNoModal message={askUser.message} title={askUser.title} onClick={askUser.onClick} show={askUser.show} />\r\n      <LoadingModal show={isLoading.state} message={isLoading.message} />\r\n      <Col>\r\n        {toolsBar()}\r\n        <Row>\r\n          <Col>\r\n            {data.rows && data.players ? (\r\n              <BootstrapTable\r\n                bootstrap4\r\n                keyField=\"id\"\r\n                data={data.rows}\r\n                columns={columns(onSelect, data.players) as ColumnDescription<PairDTO, PairDTO>[]}\r\n                cellEdit={cellEditProps(isAdmin && tournament.progress < TournamentProgress.Stage1)}\r\n                selectRow={selectRow}\r\n                noDataIndication={() => (\r\n                  <NoData isEditable={isAdmin || false} addRow={() => addRow()} optionsLength={data.players.length} />\r\n                )}\r\n                caption={<TournamentBadge />}\r\n                headerClasses=\"default-background default-color-yellow\"\r\n                striped\r\n                hover\r\n              />\r\n            ) : null}\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(PairsTable);\r\n"],"sourceRoot":""}