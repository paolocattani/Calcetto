(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[6],{258:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(259),i=n(123),c=function(e){var t=e.size,n=e.prefix,r=e.iconName,c=e.color;return a.a.createElement(o.a,{color:c,size:t,icon:Object(i.a)({prefix:n,iconName:r})})},l=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"far",iconName:"trash-alt"})},s=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"far",iconName:"save"})},u=function(e){var t=e.size;e.color;return a.a.createElement(c,{size:t,prefix:"fas",iconName:"arrow-alt-circle-right"})},f=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"toggle-on"})},p=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"toggle-off"})},d=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"trophy"})},b=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"angle-double-right"})},m=function(e){var t=e.size,n=e.color;return a.a.createElement(c,{size:t,color:n,prefix:"fas",iconName:"ban"})}},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(123),a=n(9),o=n.n(a),i=n(0),c=n.n(i);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function m(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),a=b(t.slice(0,r)),o=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[a]=o,e}),{})}var y=!1;try{y=!0}catch(j){}function v(e){return null===e?null:"object"===l(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function g(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?s({},e,t):{}}function O(e){var t=e.icon,n=e.mask,a=e.symbol,o=e.className,i=e.title,c=v(t),l=g("classes",[].concat(d(function(e){var t,n=e.spin,r=e.pulse,a=e.fixedWidth,o=e.inverse,i=e.border,c=e.listItem,l=e.flip,u=e.size,f=e.rotation,p=e.pull,d=(s(t={"fa-spin":n,"fa-pulse":r,"fa-fw":a,"fa-inverse":o,"fa-border":i,"fa-li":c,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(u),"undefined"!==typeof u&&null!==u),s(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f),s(t,"fa-pull-".concat(p),"undefined"!==typeof p&&null!==p),s(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(e)),d(o.split(" ")))),u=g("transform","string"===typeof e.transform?r.d.transform(e.transform):e.transform),p=g("mask",v(n)),b=Object(r.b)(c,f({},l,{},u,{},p,{symbol:a,title:i}));if(!b)return function(){var e;!y&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=b.abstract,j={};return Object.keys(e).forEach((function(t){O.defaultProps.hasOwnProperty(t)||(j[t]=e[t])})),h(m[0],j)}O.displayName="FontAwesomeIcon",O.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},O.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var h=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=m(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[b(t)]=r}return e}),{attrs:{}}),i=r.style,c=void 0===i?{}:i,l=p(r,["style"]);return o.attrs.style=f({},o.attrs.style,{},c),t.apply(void 0,[n.tag,f({},o.attrs,{},l)].concat(d(a)))}.bind(null,c.a.createElement)},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={isLoading:function(e){var t=e.tournamentState.isLoading;return t},getTournament:function(e){return e.tournamentState.tournament},getTournamentsList:function(e){return e.tournamentState.tournamentsList}}},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={isLoading:function(e){var t=e.stage1State.isLoading;return t},getSelectedRows:function(e){return e.stage1State.selectedRows||null},getSelectedPairs:function(e){return e.stage1State.selectedPairs},getNeedRefresh:function(e){return e.stage1State.needRefresh}}},282:function(e,t,n){e.exports={functionsList:"common_functionsList__3B3UB"}},293:function(e,t,n){e.exports={table:"style_table__2Kzbq",cell:"style_cell__1Tgmm",borderBottom:"style_borderBottom__2eMt1",headerCell:"style_headerCell__2Jwbq",container:"style_container__3mFJG",row:"style_row__3YvC9",prepend:"style_prepend__1aYFO",append:"style_append__1Z8QN",center:"style_center__3xWH5"}},352:function(e,t,n){"use strict";var r=n(2),a=n(5),o=n(8),i=n.n(o),c=n(0),l=n.n(c),s=n(26),u=n(11),f=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.size,c=e.className,s=e.as,f=void 0===s?"div":s,p=Object(a.a)(e,["bsPrefix","size","className","as"]);return n=Object(u.b)(n,"input-group"),l.a.createElement(f,Object(r.a)({ref:t},p,{className:i()(c,n,o&&n+"-"+o)}))})),p=Object(s.a)("input-group-append"),d=Object(s.a)("input-group-prepend"),b=Object(s.a)("input-group-text",{Component:"span"});f.displayName="InputGroup",f.Text=b,f.Radio=function(e){return l.a.createElement(b,null,l.a.createElement("input",Object(r.a)({type:"radio"},e)))},f.Checkbox=function(e){return l.a.createElement(b,null,l.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},f.Append=p,f.Prepend=d,t.a=f},358:function(e,t,n){"use strict";var r=n(2),a=n(5),o=n(8),i=n.n(o),c=n(0),l=n.n(c),s=(n(71),n(44)),u=n(11),f=n(130),p=n(128),d=n(27),b=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.active,s=e.disabled,f=e.className,b=e.variant,m=e.action,y=e.as,v=e.eventKey,g=e.onClick,O=Object(a.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(u.b)(n,"list-group-item");var h=Object(c.useCallback)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();g&&g(e)}),[s,g]);return l.a.createElement(p.a,Object(r.a)({ref:t},O,{eventKey:Object(d.b)(v,O.href),as:y||(m?O.href?"a":"button":"div"),onClick:h,className:i()(f,n,o&&"active",s&&"disabled",b&&n+"-"+b,m&&n+"-action")}))}));b.defaultProps={variant:null,active:!1,disabled:!1},b.displayName="ListGroupItem";var m=b,y=l.a.forwardRef((function(e,t){var n,o=Object(s.a)(e,{activeKey:"onSelect"}),c=o.className,p=o.bsPrefix,d=o.variant,b=o.horizontal,m=o.as,y=void 0===m?"div":m,v=Object(a.a)(o,["className","bsPrefix","variant","horizontal","as"]);return p=Object(u.b)(p,"list-group"),n=b?!0===b?"horizontal":"horizontal-"+b:null,l.a.createElement(f.a,Object(r.a)({ref:t},v,{as:y,className:i()(c,p,d&&p+"-"+d,n&&p+"-"+n)}))}));y.defaultProps={variant:null,horizontal:null},y.displayName="ListGroup",y.Item=m;t.a=y},363:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n(122),o=n(0),i=n.n(o),c=n(18),l=n(29),s=n(268),u=n(14),f=n(293),p=n.n(f),d=n(141),b=n(352),m=n(264),y=n(101),v=n(258),g=function(e){var t,n,r,a=e.onClick,o=e.name,c=e.isWinner,l=e.span,s=e.rowIndex,u=e.colIndex,f=e.pair,d=e.buttonDisabled,g=e.isLast,O=e.renderCustomComponent;return r=g?i.a.createElement(v.h,{size:"lg",color:"gold"}):c?i.a.createElement(v.b,{size:"lg",color:"green"}):i.a.createElement(v.a,{size:"1x",color:"red"}),i.a.createElement("td",{rowSpan:l,className:s%2===0?[p.a.cell,p.a.borderBottom].join(" "):p.a.cell},i.a.createElement(b.a,{className:p.a.container},i.a.createElement(b.a.Prepend,{className:p.a.prepend},i.a.createElement(b.a.Text,null,s)),O?O(s,u,g,f):i.a.createElement(m.a,{placeholder:"Username"+u,value:f?"".concat(null===(t=f.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=f.player2)||void 0===n?void 0:n.name):o,"aria-label":"Username","aria-describedby":"Username",readOnly:u>1,size:"lg"}),i.a.createElement(b.a.Append,null,i.a.createElement(y.a,{disabled:d,className:p.a.append,onClick:function(e){return a(e,s,u,!c)}},r))))},O=n(102),h=n(271),j=n(280),x=i.a.forwardRef((function(e,t){var n=e.getOptionLabel,r=e.styles,c=e.rowIndex,l=e.options,s=e.onChange,u=Object(o.useState)(),f=Object(a.a)(u,2),p=f[0],d=f[1];return i.a.createElement(h.a,{components:j.z,styles:r,options:l,onChange:function(e,t){d(e),s&&s(e,c,t)},getOptionLabel:n,value:p,placeholder:"Cerca...",isSearchable:!0,isClearable:!0})})),w=function(e){var t=e.onClick,n=e.elements,r=e.pairsSelect,a=e.rowNumber,o=void 0===a?64:a,c=(e.pairs,e.onSelectPair),l=Object(O.c)(2,o)+1,s=function(e,t,n,r,a,o,c){for(var l=[],s=new Array(n).fill(0),f=Object(d.c)(t),b=function(e,t,n,r){var a={container:function(e){return Object(u.a)({},e,{flex:"1 1 auto"})},option:function(e){return Object(u.a)({},e,{zIndex:6})},menuList:function(e){return Object(u.a)({},e,{flex:"1 1 auto",zIndex:5,height:"auto"})}};return i.a.createElement(x,{styles:a,options:o,rowIndex:e,onChange:c,getOptionLabel:function(e){var t,n;return e.id?"".concat(e.placement).concat(e.stage1Name," : ").concat(e.alias?e.alias:"".concat(null===(t=e.player1)||void 0===t?void 0:t.name," - ").concat(null===(n=e.player2)||void 0===n?void 0:n.name," ")):"Placeholder"}})},m=1;m<=t;m++){for(var y=[],v=0;v<f[m];v++){s[v]+=1;var O=e[v]?e[v][s[v]-1]:Object(d.b)();y.push(i.a.createElement(g,Object.assign({renderCustomComponent:0===v?b:void 0,key:"cell : ".concat(v,"-").concat(s[v]-1),span:Math.pow(2,v),rowIndex:s[v],colIndex:v+1,onClick:r,buttonDisabled:E(s[v],v,e),isLast:1===e[v].length},O)))}l.push(i.a.createElement("tr",{key:"row : ".concat(m),className:p.a.row},y))}return l}(n,o,l,t,0,r,c),f=function(e){for(var t=[],n=1;n<=e;n++)t.push(i.a.createElement("td",{key:"header ".concat(n),className:p.a.headerCell,style:{width:"".concat(100/e,"%")}},i.a.createElement("strong",null,"Stage-".concat(n))));return t}(l);return i.a.createElement("table",{className:p.a.table},i.a.createElement("thead",null,i.a.createElement("tr",null,f)),i.a.createElement("tbody",{className:p.a.body},s))};var E=function(e,t,n){return 1===n[t].length||(e%2!==0?!n[t][e-1].pair||n[t][e]&&!n[t][e].pair:!n[t][e-1].pair||n[t][e-2]&&!n[t][e-2].pair)},N=n(358),z=n(282),C=n.n(z),S=n(260),k=function(e){var t=e.stage2State.isLoading;return t},P=function(e){return e.stage2State.cells},_=function(e){return e.stage2State.rowsNumber},L=n(17),I=n(124);t.default=Object(c.i)((function(){var e=Object(c.g)(),t=Object(l.c)(),n=(Object(l.d)(S.a.getTournament),Object(l.d)(P)),u=Object(l.d)(_),f=Object(l.d)(k),p=Object(l.d)(s.a.getSelectedPairs),d=Object(o.useState)(p),b=Object(a.a)(d,2),m=b[0],v=b[1];return console.log("render stage2 :",n,m,u),n&&m&&u?i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a.Item,{className:C.a.functionsList,key:"stage-button"},i.a.createElement(y.a,{variant:"secondary",onClick:function(){e.push("/stage1")}},"Fase 1")),i.a.createElement(w,{pairs:p,pairsSelect:m,onClick:function(e,a,o,i){var c=Object(r.a)(n),l=null,s=null,u=null;a%2!==0?(l=c[o-1][a-1],s=c[o-1][a]):(l=c[o-1][a-1],s=c[o-1][a-2]),u=c[o][l.matchId-1],console.log(" onClick : ",l,s,u),l.isWinner=i,s.isWinner=!i,u&&(u.pair=i?l.pair:s.pair),t(L.d.updateCell.request({cell1:l,cell2:s})),t(L.d.setCells(c))},rowNumber:u,elements:n,onSelectPair:function(e,a,o){var i=Object(r.a)(n),c=e,l=i[0][a-1].pair,s=Object(r.a)(m);c&&c.id&&(s=s.filter((function(e){return e.id!==c.id}))),l&&l.id&&(s=[].concat(Object(r.a)(s),[l])),v(s),i[0][a-1].pair=c,t(L.d.setCells(i))}})):i.a.createElement(I.LoadingModal,{show:f})}))}}]);
//# sourceMappingURL=6.4ccea0e4.chunk.js.map