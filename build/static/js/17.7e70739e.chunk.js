(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[17],{254:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a),o=n(255),c=n(121),l=function(e){var t=e.size,n=e.prefix,a=e.iconName,l=e.color;return r.a.createElement(o.a,{color:l,size:t,icon:Object(c.a)({prefix:n,iconName:a})})},i=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"far",iconName:"trash-alt"})},u=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"far",iconName:"save"})},s=function(e){var t=e.size;e.color;return r.a.createElement(l,{size:t,prefix:"fas",iconName:"arrow-alt-circle-right"})},m=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"fas",iconName:"toggle-on"})},f=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"fas",iconName:"toggle-off"})},g=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"fas",iconName:"trophy"})},b=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"fas",iconName:"angle-double-right"})},d=function(e){var t=e.size,n=e.color;return r.a.createElement(l,{size:t,color:n,prefix:"fas",iconName:"ban"})}},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={isLoading:function(e){var t=e.tournamentState.isLoading;return t},getTournament:function(e){return e.tournamentState.tournament},getTournamentsList:function(e){return e.tournamentState.tournamentsList}}},365:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n(10),o=n.n(r),c=n(22),l=n(120),i=n(0),u=n.n(i),s=n(268),m=n(259),f=n(294),g=n(280),b=n(148),d=n(28),p=n(122),E=n(254),h=(n(26),n(100)),v=n(59);function w(e,t){return{id:null,name:e||"",ownerId:null,date:new Date,progress:t||v.a.New,public:!0,label:e||""}}var O=function(e){var t=e.innerProps;return u.a.createElement("span",Object.assign({style:j},t))},j={alignSelf:"stretch",backgroundColor:"green",marginBottom:8,marginTop:8,marginRight:10,width:1},z={width:"100%",margin:"auto",backgroundColor:"inherit",borderColor:"#ffc107",borderWidth:"3px",textAlign:"left"},y=n(101),S=n.n(y),x=n(31),C=n(23),N=function(e){var t=e.showMessage,n=Object(d.g)(),a=Object(x.c)(),r=Object(i.useState)(""),s=Object(l.a)(r,2),f=s[0],p=s[1],E=Object(i.useState)(new Date),h=Object(l.a)(E,2),v=h[0],O=h[1],j=Object(i.useState)(!0),z=Object(l.a)(j,2),y=z[0],N=z[1],T=function(){var e=Object(c.a)(o.a.mark((function e(r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),f){e.next=4;break}return t("Inserire un nome per il torneo","danger"),e.abrupt("return");case 4:(c=w(f)).date=v,c.public=y,a(C.a.saveTournament.request({model:c})),n.push("/tournament");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(g.a,{onSubmit:T},u.a.createElement(g.a.Row,null,u.a.createElement(m.a,{md:6},u.a.createElement(g.a.Group,{controlId:"formBasicEmail"},u.a.createElement(g.a.Label,null,"Nome"),u.a.createElement(g.a.Control,{type:"text",required:!0,placeholder:"Nome Torneo",maxLength:30,value:f,onChange:function(e){return p(e.currentTarget.value)}}))),u.a.createElement(m.a,{md:3},u.a.createElement(g.a.Group,null,u.a.createElement(g.a.Label,null,"Data"),u.a.createElement(g.a.Control,{as:function(){return u.a.createElement(S.a,{highlightDates:[new Date],locale:"it",selected:v,dateFormat:"dd/MM/yyyy",onChange:function(e){return O(e||new Date)}})}}))),u.a.createElement(m.a,{md:3},u.a.createElement(g.a.Group,{controlId:"visible"},u.a.createElement(g.a.Label,null,"Visibilit\xe0 "),u.a.createElement(g.a.Control,{as:"select",onChange:function(){return N(!y)}},u.a.createElement("option",null,"Pubblico"),u.a.createElement("option",null,"Privato"))))),u.a.createElement(g.a.Row,null,u.a.createElement(m.a,null,u.a.createElement(b.a,{type:"submit",size:"lg",variant:"outline-warning",className:"float-right default-color-white"},u.a.createElement("span",{style:{fontSize:"larger",fontWeight:"bolder"}},"Prosegui")))))},T=n(256),k=n(58),L=(t.default=Object(d.i)((function(){var e=Object(x.c)(),t=Object(x.d)(k.a.getSession),n=Object(x.d)(T.a.getTournamentsList),a=Object(x.d)(T.a.getTournament),r=Object(i.useState)(!1),h=Object(l.a)(r,2),v=h[0],w=h[1],j={message:"",type:"success"},y=Object(i.useState)(j),S=Object(l.a)(y,2),I=S[0],P=S[1],B=Object(d.g)();Object(i.useEffect)((function(){n&&0!==n.length||(console.log("useEffect: ",n),e(C.a.getTournaments.request({})))}),[e,n]);var F=function(e,t){P({message:e,type:t}),setTimeout((function(){return P(j)}),5e3)},G=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a?B.push("/tournament"):F("Errore, riprovare piu tardi...","danger");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(t){e(C.a.setTournament(null)),w(t)};return console.log("render tournament :",a,n),u.a.createElement(u.a.Fragment,null,u.a.createElement(p.GenericToast,{message:I.message,type:I.type}),u.a.createElement(m.a,{md:{span:"6",offset:"3"},sm:"12"},u.a.createElement(f.a,{style:z},u.a.createElement(f.a.Header,{as:"h2"},"Torneo"),u.a.createElement(f.a.Body,null,u.a.createElement(m.a,null,t.isAdmin&&v?u.a.createElement(N,{showMessage:F}):u.a.createElement(g.a,{onSubmit:G},u.a.createElement("label",{htmlFor:"tournamentSelect"},"Selezione Torneo"),u.a.createElement(s.a,{id:"tournamentSelect",components:{IndicatorSeparator:O},styles:D,value:a,options:n,placeholder:"Cerca un torneo",isSearchable:!0,getOptionLabel:L,isClearable:!0,onChange:function(t){return e(C.a.setTournament(t))}}),u.a.createElement(b.a,{type:"submit",size:"lg",variant:"outline-warning",className:"float-right default-color-white",disabled:!a},u.a.createElement("span",{style:{fontSize:"larger",fontWeight:"bolder",padding:"1vw"}},"Prosegui"),u.a.createElement(E.c,{size:"lg"}))))),u.a.createElement(f.a.Footer,null,t.isAdmin?v?u.a.createElement(b.a,{type:"button",size:"lg",variant:"outline-warning",className:"float-left default-color-white",onClick:function(){return M(!1)}},"Seleziona un torneo"):u.a.createElement(b.a,{type:"button",size:"lg",variant:"outline-warning",className:"float-left default-color-white",onClick:function(){return M(!0)}},"Crea un nuovo torneo"):null))))})),function(e){var t=e.name,n=e.date,a=e.progress;return t+" - "+Object(h.b)(n)+"@"+Object(h.f)(a)}),D={option:function(e){return Object(a.a)({},e,{backgroundColor:"white",color:"black","&:hover":{backgroundColor:"#64bd9c",color:"white"}})},control:function(e){return Object(a.a)({},e,{height:"3vmin",marginBottom:"40px"})},singleValue:function(e){return Object(a.a)({},e)},valueContainer:function(e){return Object(a.a)({},e,{height:"100%",fontSize:"larger"})}}}}]);
//# sourceMappingURL=17.7e70739e.chunk.js.map