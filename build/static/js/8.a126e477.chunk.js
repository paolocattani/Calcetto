(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[8],{231:function(e,t,a){"use strict";function r(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(a,"-").concat(t)}a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));new RegExp("^d{10}$");var n=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,16})"),o=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$")},324:function(e,t,a){},325:function(e,t,a){"use strict";var r=a(3),n=a(5),o=a(6),l=a.n(o),c=a(0),i=a.n(c),s=a(7),u=a(12),m=a(58),p=a(99),b=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,c=e.variant,u=e.as,m=void 0===u?"img":u,p=Object(n.a)(e,["bsPrefix","className","variant","as"]),b=Object(s.b)(a,"card-img");return i.a.createElement(m,Object(r.a)({ref:t,className:l()(c?b+"-"+c:b,o)},p))}));b.displayName="CardImg",b.defaultProps={variant:null};var d=b,f=Object(m.a)("h5"),y=Object(m.a)("h6"),g=Object(u.a)("card-body"),O=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,u=e.bg,m=e.text,b=e.border,d=e.body,f=e.children,y=e.as,O=void 0===y?"div":y,E=Object(n.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),v=Object(s.b)(a,"card"),h=Object(c.useMemo)((function(){return{cardHeaderBsPrefix:v+"-header"}}),[v]);return i.a.createElement(p.a.Provider,{value:h},i.a.createElement(O,Object(r.a)({ref:t},E,{className:l()(o,v,u&&"bg-"+u,m&&"text-"+m,b&&"border-"+b)}),d?i.a.createElement(g,null,f):f))}));O.displayName="Card",O.defaultProps={body:!1},O.Img=d,O.Title=Object(u.a)("card-title",{Component:f}),O.Subtitle=Object(u.a)("card-subtitle",{Component:y}),O.Body=g,O.Link=Object(u.a)("card-link",{Component:"a"}),O.Text=Object(u.a)("card-text",{Component:"p"}),O.Header=Object(u.a)("card-header"),O.Footer=Object(u.a)("card-footer"),O.ImgOverlay=Object(u.a)("card-img-overlay");t.a=O},333:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a(0),o=a.n(n),l=a(325),c=a(207),i=a(203),s=a(206),u=a(31),m=a.n(u),p=a(32),b=a(46),d=a(97),f=a(209),y=a(117),g=a(36),O=a(17),E=a(79),v=a.n(E),h=a(227),j=(a(324),a(231)),w=[{value:"No",label:"Non sono un giocatore"},{value:"Portiere",label:"Portiere"},{value:"Attaccante",label:"Attaccante"},{value:"Master",label:"Master"}],x=function(e){var t=e.setErrorMessage,a=Object(g.d)(),n=Object(r.a)(a,2),l=n[0],c=n[1],i=Object(O.g)(),u=Object(d.a)(""),E=u.value,x=u.bind,P=u.reset,C=Object(d.a)(""),I=C.value,A=C.bind,S=C.reset,N=Object(d.a)(""),L=N.value,z=N.bind,T=N.reset,R=Object(d.a)(""),q=R.value,G=R.bind,M=R.reset,D=Object(d.a)(""),F=D.value,Z=D.bind,U=D.reset,J=Object(d.a)(""),W=J.value,B=J.bind,H=J.reset,V=Object(d.a)(""),$=V.value,_=V.bind,Y=V.reset,K=Object(d.a)(""),Q=K.value,X=K.bind,ee=K.reset,te=Object(d.a)(""),ae=te.value,re=te.setValue,ne=te.reset,oe=Object(d.a)({value:"No",label:"Non sono un giocatore"}),le=oe.value,ce=oe.setValue,ie=oe.reset,se=function(e){t(e),setTimeout((function(){return t("")}),3e3)},ue=function(){var e=Object(b.a)(m.a.mark((function e(t){var a,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E?I?L?q?j.a.test(q)?F?j.a.test(F)?q!==F?(se("Le email non corrispondono"),0):W?j.c.test(W)?$?j.c.test($)?W===$||(se("Le password non corrispondono"),0):(se("La password non rispetta i criteri"),0):(se("Inserire la conferma password"),0):(se("La password non rispetta i criteri"),0):(se("Inserire una password"),0):(se("Inserire una email valida"),0):(se("Inserire la conferma email"),0):(se("Inserire una email valida"),0):(se("Inserire una email"),0):(se("Inserire il cognome"),0):(se("Inserire il nome"),0):(se("Scegli uno username"),0)){e.next=3;break}return e.abrupt("return");case 3:return a={username:E,name:I,surname:L,email:q,cEmail:F,password:W,cPassword:$,phone:Q,birthday:ae,playerRole:le},e.prev=4,e.next=7,fetch("/api/v1/auth/register",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 7:return r=e.sent,e.next=10,r.json();case 10:if(n=e.sent,!r.ok||!n){e.next=16;break}c(Object(p.a)({},l,{name:n.name,surname:n.surname,email:n.email,role:n.role,isAuthenticated:!0})),i.push("/"),e.next=24;break;case 16:e.t0=r.status,e.next=401===e.t0?19:403===e.t0?21:23;break;case 19:return se("Utente o Password errata"),e.abrupt("break",24);case 21:return se("Utente o Password gia registrati"),e.abrupt("break",24);case 23:return e.abrupt("break",24);case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(4),console.error("onSubmitLogin : ",e.t1),se("Errore durante il processo di registrazione. Riprovare piu tardi");case 30:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(f.a,{onSubmit:ue},o.a.createElement(f.a.Row,null,o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"username"},o.a.createElement(f.a.Label,null,"Username"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"username"},x)))),o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"name"},o.a.createElement(f.a.Label,null,"Nome"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"Nome"},A)))),o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"surname"},o.a.createElement(f.a.Label,null,"Cognome"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"Cognome"},z))))),o.a.createElement(f.a.Row,null,o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"email"},o.a.createElement(f.a.Label,null,"Email"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"email",placeholder:"Email"},G)))),o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"cemail"},o.a.createElement(f.a.Label,null,"Conferma Email"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"email",placeholder:"Conferma Email"},Z))))),o.a.createElement(f.a.Row,null,o.a.createElement(y.a,null,o.a.createElement(f.a.Group,{controlId:"password"},o.a.createElement(f.a.Label,null,"Password"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"password",placeholder:"Password"},B))),o.a.createElement(f.a.Group,{controlId:"cpassword"},o.a.createElement(f.a.Label,null,"Conferma Password"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"password",placeholder:"Conferma Password"},_)))),o.a.createElement(y.a,{md:6,style:{display:"flex",alignItems:"center"}},o.a.createElement("ul",null,o.a.createElement("strong",null,"La password deve rispettare i sequenti criteri :"),o.a.createElement("li",{key:"pass-1"},"Almeno 1 carattere minuscolo"),o.a.createElement("li",{key:"pass-2"},"Almeno 1 carattere maiuscolo"),o.a.createElement("li",{key:"pass-3"},"Almeno 1 carattere numerico"),o.a.createElement("li",{key:"pass-5"},"Tra 8 e 16 caratteri")))),o.a.createElement(f.a.Row,null,o.a.createElement(y.a,{md:3},o.a.createElement(f.a.Group,{controlId:"phone"},o.a.createElement(f.a.Label,null,"Telefono"),o.a.createElement(f.a.Control,Object.assign({type:"text",placeholder:"Telefono"},X)))),o.a.createElement(y.a,{md:3},o.a.createElement(f.a.Group,{controlId:"birthday"},o.a.createElement(f.a.Label,null,"Data di nascita"),o.a.createElement(v.a,{className:"datepicker",dateFormat:"dd/MM/yyyy",required:!0,selected:ae,onChange:function(e){return re(e)}}))),o.a.createElement(y.a,{md:6},o.a.createElement(f.a.Group,null,o.a.createElement(f.a.Label,null,"Ruolo"),o.a.createElement(h.a,{dateFormat:"dd/MM/yyyy",value:le,onChange:function(e){return ce(e)},options:w,styles:k}),o.a.createElement(f.a.Text,{className:"text-muted color-green"},"Sei un giocatore? Assegna qui il tuo ruolo.")))),o.a.createElement(s.a,{variant:"outline-success",type:"submit",size:"lg"},"Registrati"),o.a.createElement(s.a,{variant:"outline-danger",className:"float-right",onClick:function(){P(),S(),T(),M(),U(),H(),Y(),ee(),ne(),ie()},type:"submit",size:"lg"},"Reset"))},k={control:function(e){return Object(p.a)({},e,{height:"38px"})},input:function(e){return Object(p.a)({},e,{height:"38px"})},option:function(e,t){t.data,t.isDisabled,t.isFocused,t.isSelected;return Object(p.a)({},e,{color:"black"})},placeholder:function(e){return Object(p.a)({},e,{height:"38px"})},singleValue:function(e,t){t.data;return Object(p.a)({},e,{height:"38px"})},clearIndicator:function(e){return Object(p.a)({},e,{height:"38px"})},indicatorSeparator:function(e){return Object(p.a)({},e)}},P=function(e){var t=e.setErrorMessage,a=Object(O.g)(),n=Object(g.d)(),l=Object(r.a)(n,2),c=l[0],i=l[1],u=Object(d.a)(""),y=u.value,E=u.bind,v=Object(d.a)(""),h=v.value,j=v.bind,w=function(e){t(e),setTimeout((function(){return t("")}),3e3)},x=function(){var e=Object(b.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y&&""!==y){e.next=4;break}return w("Inserire username o password"),e.abrupt("return");case 4:if(h&&""!==h){e.next=7;break}return w("Inserire la password"),e.abrupt("return");case 7:return e.prev=7,e.next=10,fetch("/api/v1/auth/authenticate",{method:"POST",body:JSON.stringify({username:y,password:h}),headers:{"Content-Type":"application/json"}});case 10:return r=e.sent,e.next=13,r.json();case 13:n=e.sent,r.ok&&n?(i(Object(p.a)({},c,{name:n.name,surname:n.surname,email:n.email,role:n.role,isAuthenticated:!0})),a.push("/")):401===r.status&&w("Utente o Password errata"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("onSubmitLogin : ",e.t0),w("Errore durante il processo di registrazione. Riprovare piu tardi");case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(f.a,{onSubmit:x},o.a.createElement(f.a.Group,{controlId:"username"},o.a.createElement(f.a.Label,null,"Username o Email"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"text",placeholder:"username o email"},E))),o.a.createElement(f.a.Group,{controlId:"password"},o.a.createElement(f.a.Label,null,"Password"),o.a.createElement(f.a.Control,Object.assign({required:!0,type:"password",placeholder:"Password"},j))),o.a.createElement(s.a,{size:"lg",variant:"outline-success",type:"submit"},"Login"))},C=a(101),I=a(8),A=a.n(I);function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function G(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var a,r=t.indexOf(":"),n=q(t.slice(0,r)),o=t.slice(r+1).trim();return n.startsWith("webkit")?e[(a=n,a.charAt(0).toUpperCase()+a.slice(1))]=o:e[n]=o,e}),{})}var M=!1;try{M=!0}catch(J){}function D(e){return null===e?null:"object"===S(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function F(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?N({},e,t):{}}function Z(e){var t=e.icon,a=e.mask,r=e.symbol,n=e.className,o=e.title,l=D(t),c=F("classes",[].concat(R(function(e){var t,a=e.spin,r=e.pulse,n=e.fixedWidth,o=e.inverse,l=e.border,c=e.listItem,i=e.flip,s=e.size,u=e.rotation,m=e.pull,p=(N(t={"fa-spin":a,"fa-pulse":r,"fa-fw":n,"fa-inverse":o,"fa-border":l,"fa-li":c,"fa-flip-horizontal":"horizontal"===i||"both"===i,"fa-flip-vertical":"vertical"===i||"both"===i},"fa-".concat(s),"undefined"!==typeof s&&null!==s),N(t,"fa-rotate-".concat(u),"undefined"!==typeof u&&null!==u),N(t,"fa-pull-".concat(m),"undefined"!==typeof m&&null!==m),N(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(e)),R(n.split(" ")))),i=F("transform","string"===typeof e.transform?C.d.transform(e.transform):e.transform),s=F("mask",D(a)),u=Object(C.b)(l,z({},c,{},i,{},s,{symbol:r,title:o}));if(!u)return function(){var e;!M&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var m=u.abstract,p={};return Object.keys(e).forEach((function(t){Z.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),U(m[0],p)}Z.displayName="FontAwesomeIcon",Z.propTypes={border:A.a.bool,className:A.a.string,mask:A.a.oneOfType([A.a.object,A.a.array,A.a.string]),fixedWidth:A.a.bool,inverse:A.a.bool,flip:A.a.oneOf(["horizontal","vertical","both"]),icon:A.a.oneOfType([A.a.object,A.a.array,A.a.string]),listItem:A.a.bool,pull:A.a.oneOf(["right","left"]),pulse:A.a.bool,rotation:A.a.oneOf([90,180,270]),size:A.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:A.a.bool,symbol:A.a.oneOfType([A.a.bool,A.a.string]),title:A.a.string,transform:A.a.oneOfType([A.a.string,A.a.object]),swapOpacity:A.a.bool},Z.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var U=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof a)return a;var n=(a.children||[]).map((function(a){return e(t,a)})),o=Object.keys(a.attributes||{}).reduce((function(e,t){var r=a.attributes[t];switch(t){case"class":e.attrs.className=r,delete a.attributes.class;break;case"style":e.attrs.style=G(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[q(t)]=r}return e}),{attrs:{}}),l=r.style,c=void 0===l?{}:l,i=T(r,["style"]);return o.attrs.style=z({},o.attrs.style,{},c),t.apply(void 0,[a.tag,z({},o.attrs,{},i)].concat(R(n)))}.bind(null,o.a.createElement);t.default=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],u=t[1],m=Object(n.useState)(""),p=Object(r.a)(m,2),b=p[0],d=p[1],f=Object(C.a)({prefix:"far",iconName:"arrow-alt-circle-right"}),y=a?"Registrati":"Login",g=a?o.a.createElement(x,{setErrorMessage:d}):o.a.createElement(P,{setErrorMessage:d}),O=a?"Login":"Registrati",E=o.a.createElement(Z,{icon:f}),v={textAlign:"left",width:a?"50vw":"40vw",height:"auto",margin:"auto",backgroundColor:"#343A40",color:"white"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{style:v},o.a.createElement(l.a.Header,{as:"h2"},y),o.a.createElement(l.a.Body,null,o.a.createElement(c.a,null,b?o.a.createElement(i.a,{key:"auth-alert",variant:"danger"},b):null,g)),o.a.createElement(l.a.Footer,null,o.a.createElement(s.a,{variant:"outline-warning",onClick:function(){return u(!a)}},o.a.createElement("div",null,E," ",o.a.createElement("strong",null,O))))))}}}]);
//# sourceMappingURL=8.a126e477.chunk.js.map