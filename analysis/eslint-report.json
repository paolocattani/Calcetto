[{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/coverage/lcov-report/block-navigation.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/coverage/lcov-report/prettify.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/coverage/lcov-report/sorter.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/src/components/Pair/editor.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/src/components/Player/helper.js","messages":[{"ruleId":"sonarjs/no-duplicate-string","severity":2,"message":"Define a constant instead of duplicating this literal 6 times.","line":42,"column":20,"nodeType":"Literal","endLine":42,"endColumn":49}],"errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport filterTableFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport { PlayerRole } from '../../redux/models/player.model';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter(isAdmin, labels) {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  if (isAdmin) {\r\n    emailFilter('');\r\n    phoneFilter('');\r\n  }\r\n}\r\n\r\nexport const filterFactory = filterTableFactory();\r\nexport const cellEditProps = (isAdmin, dispatch) =>\r\n  cellEditFactory({\r\n    mode: isAdmin ? 'click' : 'none',\r\n    blurToSave: true,\r\n    autoSelectText: true,\r\n    afterSaveCell: (oldValue, newValue, player, column) => dispatch(player),\r\n  });\r\n\r\n// Columns default\r\nconst playerColumns = (isAdmin, labels) => [\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: labels.name,\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      getFilter: (filter) => (nameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: labels.surname,\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      getFilter: (filter) => (surnameFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: labels.alias,\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isAdmin ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      getFilter: (filter) => (aliasFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: labels.role,\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isAdmin ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      options: {\r\n        [PlayerRole.GoalKeeper]: labels.goalKeeper,\r\n        [PlayerRole.Striker]: labels.striker,\r\n        [PlayerRole.Master]: labels.master,\r\n      },\r\n      getFilter: (filter) => (roleFilter = filter),\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: () => {\r\n        return [\r\n          { value: PlayerRole.GoalKeeper, label: labels.goalKeeper },\r\n          { value: PlayerRole.Striker, label: labels.striker },\r\n          { value: PlayerRole.Master, label: labels.master },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: labels.email,\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isAdmin,\r\n    filter: textFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      getFilter: (filter) => (emailFilter = filter),\r\n    }),\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: labels.phone,\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isAdmin,\r\n    filter: textFilter({\r\n      placeholder: `${labels.filter}...`,\r\n      getFilter: (filter) => (phoneFilter = filter),\r\n    }),\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true },\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = (props) => (\r\n  <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n    Esporta in CSV\r\n  </Button>\r\n);\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n"},{"filePath":"/c/Users/PaoloCattani/Workspaces/Workspaces_private/calcetto/src/components/Stage1/editor.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0}]