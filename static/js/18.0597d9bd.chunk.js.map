{"version":3,"sources":["components/Auth/Delete.tsx"],"names":["Delete","show","onHide","dispatch","useDispatch","currentHistory","useHistory","t","useTranslation","user","useSelector","AuthSelector","getUser","useInput","password","value","bindPassword","bind","size","centered","Header","style","backgroundColor","color","closeButton","Title","className","Body","fluid","onSubmit","e","evt","email","username","preventDefault","AuthAction","delete","request","history","toast","error","Group","as","Row","controlId","Label","column","sm","Control","fontSize","fontWeight","plaintext","readOnly","defaultValue","type","placeholder","onClick","variant"],"mappings":"gQA2GeA,UA3FuB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OACvCC,EAAWC,cACXC,EAAiBC,cACfC,EAAMC,YAAe,CAAC,SAAU,SAAhCD,EAGFE,EAAOC,YAAYC,IAAaC,SANoB,EAQVC,YAAiB,IAAlDC,EAR2C,EAQlDC,MAAuBC,EAR2B,EAQjCC,KAezB,OACE,eAAC,IAAD,CAAOhB,KAAMA,EAAMC,OAAQA,EAAQgB,KAAM,KAAMC,UAAQ,EAAvD,UACE,cAAC,IAAMC,OAAP,CACEC,MAAO,CACLC,gBAAiB,UACjBC,MAAO,SAETC,aAAW,EALb,SAOE,cAAC,IAAMC,MAAP,CAAaC,UAAU,oBAAvB,SAA4CnB,EAAE,mBAEhD,cAAC,IAAMoB,KAAP,CACEN,MAAO,CACLC,gBAAiB,UACjBC,MAAO,SAHX,SAME,cAAC,IAAD,CAAWK,OAAK,EAAhB,SACE,eAAC,IAAD,CAAMC,SAAU,SAACC,GAAD,OA9BtBC,EA8BgFD,EA7BhFE,EA6BmFvB,EAAKuB,MA5BxFC,EA4B+FxB,EAAKwB,SA1BpGF,EAAIG,sBACAF,GAASC,GAAYnB,EACvBX,EAASgC,IAAWC,OAAOC,QAAQ,CAAEvB,WAAUwB,QAASjC,KAExDkC,IAAMC,MAAMjC,EAAE,yBATG,IACnBwB,EACAC,EACAC,GA4BM,UACE,eAAC,IAAKQ,MAAN,CAAYC,GAAIC,IAAKC,UAAU,cAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACGxC,EAAE,sBAEL,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,CACE3B,MAAO,CAAE4B,SAAU,SAAUC,WAAY,UACzCxB,UAAU,sBACVyB,WAAS,EACTC,UAAQ,EACRC,aAAc5C,EAAKuB,aAIzB,eAAC,IAAKS,MAAN,CAAYC,GAAIC,IAAKC,UAAU,iBAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACGxC,EAAE,mBAEL,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,CACE3B,MAAO,CAAE4B,SAAU,SAAUC,WAAY,UACzCxB,UAAU,sBACVyB,WAAS,EACTC,UAAQ,EACRC,aAAc5C,EAAKwB,gBAIzB,eAAC,IAAKQ,MAAN,CAAYC,GAAIC,IAAKC,UAAU,WAA/B,UACE,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACGxC,EAAE,4BAEL,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACE,cAAC,IAAKC,QAAN,aAAcM,KAAK,WAAWC,YAAahD,EAAE,2BAA+BS,SAGhF,cAAC,IAAD,CAAQE,KAAK,KAAKQ,UAAU,aAAa8B,QAAStD,EAAQuD,QAAQ,kBAAkBH,KAAK,SAAzF,SACG/C,EAAE,mBAEL,eAAC,IAAD,CAAQW,KAAK,KAAKQ,UAAU,cAAc+B,QAAQ,iBAAiBH,KAAK,SAAxE,UACE,cAAC,IAAD,IADF,IACiB/C,EAAE","file":"static/js/18.0597d9bd.chunk.js","sourcesContent":["import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Modal, Container, Form, Col, Row, Button } from 'react-bootstrap';\nimport { useInput } from '../core/hooks/InputHook';\nimport { TrashIcon } from '../core/icons';\nimport { AuthSelector } from '../../redux/selectors';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AuthAction } from '../../redux/actions';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\ninterface DeleteProps {\n  show: boolean;\n  onHide: () => void;\n}\n\n// Componente per cancellazione utente\nconst Delete: React.FC<DeleteProps> = ({ show, onHide }) => {\n  const dispatch = useDispatch();\n  const currentHistory = useHistory();\n  const { t } = useTranslation(['common', 'auth']);\n\n  // Dati utente\n  const user = useSelector(AuthSelector.getUser)!;\n  // Hook gestione campo password\n  const { value: password, bind: bindPassword } = useInput<string>('');\n\n  const handleSubmit = (\n    evt: React.SyntheticEvent<Element, Event>,\n    email: string | null | undefined,\n    username: string | null | undefined\n  ) => {\n    evt.preventDefault();\n    if (email && username && password) {\n      dispatch(AuthAction.delete.request({ password, history: currentHistory }));\n    } else {\n      toast.error(t('auth:error.password'));\n    }\n  };\n\n  return (\n    <Modal show={show} onHide={onHide} size={'lg'} centered>\n      <Modal.Header\n        style={{\n          backgroundColor: '#343A40',\n          color: 'white',\n        }}\n        closeButton\n      >\n        <Modal.Title className=\"default-color-red\">{t('auth:delete')}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body\n        style={{\n          backgroundColor: '#343A40',\n          color: 'white',\n        }}\n      >\n        <Container fluid>\n          <Form onSubmit={(e: React.SyntheticEvent<Element, Event>) => handleSubmit(e, user.email, user.username)}>\n            <Form.Group as={Row} controlId=\"emailDelete\">\n              <Form.Label column sm=\"2\">\n                {t('auth:email.email')}\n              </Form.Label>\n              <Col sm=\"10\">\n                <Form.Control\n                  style={{ fontSize: 'larger', fontWeight: 'bolder' }}\n                  className=\"default-color-white\"\n                  plaintext\n                  readOnly\n                  defaultValue={user.email}\n                />\n              </Col>\n            </Form.Group>\n            <Form.Group as={Row} controlId=\"usernameDelete\">\n              <Form.Label column sm=\"2\">\n                {t('auth:username')}\n              </Form.Label>\n              <Col sm=\"10\">\n                <Form.Control\n                  style={{ fontSize: 'larger', fontWeight: 'bolder' }}\n                  className=\"default-color-white\"\n                  plaintext\n                  readOnly\n                  defaultValue={user.username}\n                />\n              </Col>\n            </Form.Group>\n            <Form.Group as={Row} controlId=\"password\">\n              <Form.Label column sm=\"2\">\n                {t('auth:password.password')}\n              </Form.Label>\n              <Col sm=\"10\">\n                <Form.Control type=\"password\" placeholder={t('auth:password.password')} {...bindPassword} />\n              </Col>\n            </Form.Group>\n            <Button size=\"lg\" className=\"float-left\" onClick={onHide} variant=\"outline-success\" type=\"button\">\n              {t('common:cancel')}\n            </Button>\n            <Button size=\"lg\" className=\"float-right\" variant=\"outline-danger\" type=\"submit\">\n              <TrashIcon /> {t('common:confirm')}\n            </Button>\n          </Form>\n        </Container>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default Delete;\n"],"sourceRoot":""}