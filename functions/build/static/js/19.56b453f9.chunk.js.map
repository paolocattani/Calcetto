{"version":3,"sources":["components/Auth/Delete.tsx"],"names":["Delete","show","onHide","dispatch","useDispatch","currentHistory","useHistory","t","useTranslation","user","useSelector","AuthSelector","getUser","useInput","password","value","bindPassword","bind","size","centered","Header","style","backgroundColor","color","closeButton","Title","className","Body","fluid","onSubmit","e","evt","email","username","preventDefault","AuthAction","delete","request","history","toast","error","Group","as","Row","controlId","Label","column","sm","Control","fontSize","fontWeight","plaintext","readOnly","defaultValue","type","placeholder","onClick","variant"],"mappings":"wQA4GeA,UA3FuB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OACxCC,EAAWC,cACXC,EAAiBC,cACfC,EAAMC,YAAe,CAAC,SAAU,SAAhCD,EAGFE,EAAOC,YAAYC,IAAaC,SANqB,EAQXC,YAAiB,IAAlDC,EAR4C,EAQnDC,MAAuBC,EAR4B,EAQlCC,KAezB,OACC,eAAC,IAAD,CAAOhB,KAAMA,EAAMC,OAAQA,EAAQgB,KAAM,KAAMC,UAAQ,EAAvD,UACC,cAAC,IAAMC,OAAP,CACCC,MAAO,CACNC,gBAAiB,UACjBC,MAAO,SAERC,aAAW,EALZ,SAOC,cAAC,IAAMC,MAAP,CAAaC,UAAU,oBAAvB,SAA4CnB,EAAE,mBAE/C,cAAC,IAAMoB,KAAP,CACCN,MAAO,CACNC,gBAAiB,UACjBC,MAAO,SAHT,SAMC,cAAC,IAAD,CAAWK,OAAK,EAAhB,SACC,eAAC,IAAD,CAAMC,SAAU,SAACC,GAAD,OA9BnBC,EA8B6ED,EA7B7EE,EA6BgFvB,EAAKuB,MA5BrFC,EA4B4FxB,EAAKwB,SA1BjGF,EAAIG,sBACAF,GAASC,GAAYnB,EACxBX,EAASgC,IAAWC,OAAOC,QAAQ,CAAEvB,WAAUwB,QAASjC,KAExDkC,IAAMC,MAAMjC,EAAE,yBATK,IACpBwB,EACAC,EACAC,GA4BG,UACC,eAAC,IAAKQ,MAAN,CAAYC,GAAIC,IAAKC,UAAU,cAA/B,UACC,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACExC,EAAE,sBAEJ,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACC,cAAC,IAAKC,QAAN,CACC3B,MAAO,CAAE4B,SAAU,SAAUC,WAAY,UACzCxB,UAAU,sBACVyB,WAAS,EACTC,UAAQ,EACRC,aAAc5C,EAAKuB,aAItB,eAAC,IAAKS,MAAN,CAAYC,GAAIC,IAAKC,UAAU,iBAA/B,UACC,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACExC,EAAE,mBAEJ,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACC,cAAC,IAAKC,QAAN,CACC3B,MAAO,CAAE4B,SAAU,SAAUC,WAAY,UACzCxB,UAAU,sBACVyB,WAAS,EACTC,UAAQ,EACRC,aAAc5C,EAAKwB,gBAItB,eAAC,IAAKQ,MAAN,CAAYC,GAAIC,IAAKC,UAAU,WAA/B,UACC,cAAC,IAAKC,MAAN,CAAYC,QAAM,EAACC,GAAG,IAAtB,SACExC,EAAE,4BAEJ,cAAC,IAAD,CAAKwC,GAAG,KAAR,SACC,cAAC,IAAKC,QAAN,aAAcM,KAAK,WAAWC,YAAahD,EAAE,2BAA+BS,SAG9E,cAAC,IAAD,CAAQE,KAAK,KAAKQ,UAAU,aAAa8B,QAAStD,EAAQuD,QAAQ,kBAAkBH,KAAK,SAAzF,SACE/C,EAAE,mBAEJ,eAAC,IAAD,CAAQW,KAAK,KAAKQ,UAAU,cAAc+B,QAAQ,iBAAiBH,KAAK,SAAxE,UACC,cAAC,IAAD,IADD,IACgB/C,EAAE","file":"static/js/19.56b453f9.chunk.js","sourcesContent":["import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Modal, Container, Form, Col, Row, Button } from 'react-bootstrap';\nimport { useInput } from '../core/hooks/InputHook';\nimport { TrashIcon } from '../core/icons';\nimport { AuthSelector } from '../../redux/selectors';\nimport { useSelector } from '../core/types';\nimport { useDispatch } from 'react-redux';\nimport { AuthAction } from '../../redux/actions';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\ninterface DeleteProps {\n\tshow: boolean;\n\tonHide: () => void;\n}\n\n// Componente per cancellazione utente\nconst Delete: React.FC<DeleteProps> = ({ show, onHide }) => {\n\tconst dispatch = useDispatch();\n\tconst currentHistory = useHistory();\n\tconst { t } = useTranslation(['common', 'auth']);\n\n\t// Dati utente\n\tconst user = useSelector(AuthSelector.getUser)!;\n\t// Hook gestione campo password\n\tconst { value: password, bind: bindPassword } = useInput<string>('');\n\n\tconst handleSubmit = (\n\t\tevt: React.SyntheticEvent<Element, Event>,\n\t\temail: string | null | undefined,\n\t\tusername: string | null | undefined\n\t) => {\n\t\tevt.preventDefault();\n\t\tif (email && username && password) {\n\t\t\tdispatch(AuthAction.delete.request({ password, history: currentHistory }));\n\t\t} else {\n\t\t\ttoast.error(t('auth:error.password'));\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal show={show} onHide={onHide} size={'lg'} centered>\n\t\t\t<Modal.Header\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: '#343A40',\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t}}\n\t\t\t\tcloseButton\n\t\t\t>\n\t\t\t\t<Modal.Title className=\"default-color-red\">{t('auth:delete')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: '#343A40',\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Form onSubmit={(e: React.SyntheticEvent<Element, Event>) => handleSubmit(e, user.email, user.username)}>\n\t\t\t\t\t\t<Form.Group as={Row} controlId=\"emailDelete\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">\n\t\t\t\t\t\t\t\t{t('auth:email.email')}\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 'larger', fontWeight: 'bolder' }}\n\t\t\t\t\t\t\t\t\tclassName=\"default-color-white\"\n\t\t\t\t\t\t\t\t\tplaintext\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\tdefaultValue={user.email}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} controlId=\"usernameDelete\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">\n\t\t\t\t\t\t\t\t{t('auth:username')}\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 'larger', fontWeight: 'bolder' }}\n\t\t\t\t\t\t\t\t\tclassName=\"default-color-white\"\n\t\t\t\t\t\t\t\t\tplaintext\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\tdefaultValue={user.username}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} controlId=\"password\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">\n\t\t\t\t\t\t\t\t{t('auth:password.password')}\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control type=\"password\" placeholder={t('auth:password.password')} {...bindPassword} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Button size=\"lg\" className=\"float-left\" onClick={onHide} variant=\"outline-success\" type=\"button\">\n\t\t\t\t\t\t\t{t('common:cancel')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button size=\"lg\" className=\"float-right\" variant=\"outline-danger\" type=\"submit\">\n\t\t\t\t\t\t\t<TrashIcon /> {t('common:confirm')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Form>\n\t\t\t\t</Container>\n\t\t\t</Modal.Body>\n\t\t</Modal>\n\t);\n};\n\nexport default Delete;\n"],"sourceRoot":""}