(this.webpackJsonpcalcetto=this.webpackJsonpcalcetto||[]).push([[15],{1331:function(e,t,n){"use strict";n.r(t);var r,c,a,i,l,d,s=n(15),o=n(307),j=n(2),u=n(0),b=n(24),h=n(103),f=n(40),O=n(423),x=n.n(O),p=n(152),m=n(202),y=n(111),g=n(157),v=n(1292),w=n.n(v),S=n(428),F=n(58),k=n(49);var C=w()(),P=function(e,t,n){var s;return[{dataField:"rowNumber",text:"ID",editable:!1,headerStyle:function(e,t){return{width:"3%"}}},{dataField:"name",text:t.name,autoSelectText:!0,headerStyle:function(t,n){return{width:e?"16%":"25%"}},filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return r=e}})},{dataField:"surname",text:t.surname,autoSelectText:!0,headerStyle:function(t,n){return{width:e?"16%":"25%"}},filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return c=e}})},{dataField:"alias",text:t.alias,headerStyle:function(t,n){return{width:e?"17%":"25%"}},autoSelectText:!0,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return a=e}})},{dataField:"role",text:t.role,headerStyle:function(t,n){return{width:"".concat(e?"11":"15","%")}},filter:Object(v.selectFilter)({placeholder:"".concat(t.filter,"..."),options:(s={},Object(g.a)(s,F.PlayerRole.GoalKeeper,t.goalKeeper),Object(g.a)(s,F.PlayerRole.Striker,t.striker),Object(g.a)(s,F.PlayerRole.Master,t.master),s),getFilter:function(e){return i=e}}),editor:{type:S.Type.SELECT,getOptions:function(){return[{value:F.PlayerRole.GoalKeeper,label:t.goalKeeper},{value:F.PlayerRole.Striker,label:t.striker},{value:F.PlayerRole.Master,label:t.master}]}}},{dataField:"email",text:t.email,headerStyle:function(e,t){return{width:"20%"}},autoSelectText:!0,hidden:!e,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return l=e}})},{dataField:"phone",headerStyle:function(e,t){return{width:"10%"}},text:t.phone,autoSelectText:!0,hidden:!e,filter:Object(v.textFilter)({placeholder:"".concat(t.filter,"..."),getFilter:function(e){return d=e}})},{dataField:"actions",isDummyField:!0,text:"Azioni",hidden:!e,formatter:function(e,t){return Object(j.jsx)(y.a,{variant:"success",onClick:function(){return n(t)},children:Object(j.jsx)(k.e,{})})}},{dataField:"match_played",text:"Partite Giocate",hidden:!0},{dataField:"match_won",text:"Vittorie",hidden:!0},{dataField:"total_score",text:"Punteggio",hidden:!0}]};var _=n(304),R=function(e){var t=e.title,n=e.saved,r={color:n?"#4feb34":void 0},c=Object(_.a)(["common"]).t;return Object(j.jsxs)("h3",{children:[Object(j.jsx)("b",{style:r,children:"string"===typeof t?c(t):t}),n?Object(j.jsxs)("small",{children:[" ","- ".concat(c("common:saving"),"...")," "]}):null]})},E=n(91),B=n(10),A=n(75),L=n(50),T=n(341),z=n.n(T),K=function(e){var t=e.selectedLength,n=e.goBack,s=e.addEdit,o=e.deleteRow,u=Object(h.a)(A.a.isAdmin),b=Object(_.a)(["common","pair"]).t;return Object(j.jsx)(m.a,{children:Object(j.jsx)(p.a,{className:z.a.toolsBarContainer,children:Object(j.jsxs)("div",{className:z.a.toolsBar,children:[Object(j.jsxs)(y.a,{variant:"secondary",className:"float-left align-middle",onClick:n,children:[Object(j.jsx)(k.g,{}),Object(j.jsxs)("span",{children:[" ",b("common:route.home")]})]}),u?Object(j.jsxs)(y.a,{variant:"success",onClick:function(){return s()},children:[Object(j.jsx)(k.n,{}),Object(j.jsx)("span",{children:b("player:add")})]}):null,Object(j.jsxs)(y.a,{variant:"dark",onClick:function(){return function(e){r(""),c(""),a(""),i(""),e&&(l(""),d(""))}(u)},children:[Object(j.jsx)(k.b,{}),Object(j.jsxs)("span",{children:[" ",b("player:filter")]})]}),u?Object(j.jsxs)(y.a,{variant:"danger",className:"float-right",onClick:o,disabled:0===t,children:[Object(j.jsx)(k.u,{})," ",b(t>1?"player:delete.multi":"player:delete.one")]}):null]})})})},N=n(324),M=n(90),q=n(128),D=n(59),G=n(430),I=function(e,t,n,r,c,a){return{expandByColumnOnly:!0,showExpandColumn:!0,expanded:n,expandHeaderColumnRenderer:function(e){var t=e.isAnyExpands;return Object(j.jsxs)(j.Fragment,{children:[t?Object(j.jsx)(k.m,{size:"sm"}):Object(j.jsx)(k.n,{size:"sm"}),Object(j.jsx)(k.c,{size:"lg"})]})},expandColumnRenderer:function(e){var t=e.expanded;return Object(j.jsxs)(j.Fragment,{children:[t?Object(j.jsx)(k.m,{size:"sm"}):Object(j.jsx)(k.n,{size:"sm"}),Object(j.jsx)(k.c,{size:"lg"})]})},renderer:function(t){return t.id?c?Object(j.jsx)("p",{children:D.a.t(N.b)}):e[t.id]?Object(j.jsx)(G.a,{stats:e[t.id]}):Object(j.jsx)("div",{children:D.a.t("stats:new_player")}):Object(j.jsx)("p",{children:D.a.t("stats:new_player")})},onExpand:function(c,i,l,d){c.id&&(i?e[c.id]?r([].concat(Object(s.a)(n),[c.id])):(a(!0),Object(q.d)({players:[c.id]}).then((function(i){if(c.id&&M.b.includes(i.code)){var l=i.stats;e[c.id]=l[c.id],t(e)}a(!1),r([].concat(Object(s.a)(n),[c.id]))}))):r((function(e){return e.filter((function(e){return e!==c.id}))})))},onExpandAll:function(e,n,c){if(e){var i=n.filter((function(e){return!!e.id})).map((function(e){return e.id}));a(!0),Object(q.d)({players:i}).then((function(e){if(M.b.includes(e.code)){var n=e.stats;t(n)}a(!1),r(i)}))}else r([])}}};t.default=Object(b.i)((function(){var e=Object(f.d)(),t=Object(b.g)(),n=Object(_.a)(["common","player"]).t,r=Object(h.a)(A.c.isLoading),c=Object(u.useState)(!1),a=Object(o.a)(c,2),i=a[0],l=a[1],d=Object(h.a)(A.a.isAdmin),O=Object(h.a)(A.c.getPlayersList),g=Object(h.a)(A.c.isSaving),v=Object(u.useState)([]),w=Object(o.a)(v,2),S=w[0],F=w[1],k=Object(u.useState)({}),T=Object(o.a)(k,2),z=T[0],N=T[1],M=Object(u.useState)([]),q=Object(o.a)(M,2),D=q[0],G=q[1];Object(u.useEffect)((function(){e(B.c.fetchPlayers.request({}))}),[e]);var J=function(e,t){return F((function(n){var r=!!n.find((function(t){return t.id===e.id}));return t?r?n:[e].concat(Object(s.a)(n)):r?n.filter((function(t){return t.id!==e.id})):n})),!0},H={mode:"checkbox",nonSelectable:O.filter((function(e){return e.id&&!e.editable})).map((function(e){return e.id})),onSelect:J,onSelectAll:function(e,t){return t.forEach((function(t){return J(t,e)}))},style:{backgroundColor:"#c8e6c9"},hideSelectAll:!O.find((function(e){return e.editable})),hideSelectColumn:!O.find((function(e){return e.editable}))||!d,selectColumnStyle:function(e){e.checked,e.disabled;var t=e.rowIndex;e.rowKey;return O[t].editable?{}:{backgroundColor:"#dc3545"}}},U=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(L.getEmptyPlayer)();console.log("addEdit : ",n),e(B.c.setPlayer(n)),t.push("/player/edit")};var V={name:n("player:field.name"),surname:n("player:field.surname"),alias:n("player:field.alias"),role:n("player:field.role"),email:n("player:field.email"),phone:n("player:field.phone"),filter:n("player:field.filter"),goalKeeper:n("player:role.goalKeeper"),striker:n("player:role.striker"),master:n("player:role.master"),edit:n("common:edit")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E.LoadingModal,{show:r||i,message:n("common:loading")}),Object(j.jsxs)(p.a,{children:[Object(j.jsx)(K,{selectedLength:S.length,goBack:function(){t.push("/")},addEdit:U,deleteRow:function(){S&&(e(B.c.deletePlayers.request({players:S})),F([]))}}),Object(j.jsx)(m.a,{children:Object(j.jsx)(p.a,{children:Object(j.jsx)(x.a,{bootstrap4:!0,keyField:"id",data:O,columns:P(d,V,U),selectRow:H,expandRow:I(z,N,D,G,i,l),caption:Object(j.jsx)(R,{title:"common:route.player",saved:g}),filter:C,headerClasses:"default-background default-color-yellow",noDataIndication:function(){return d?Object(j.jsx)(y.a,{variant:"success",onClick:function(){return U()},children:n("player:add")}):Object(j.jsx)("p",{children:n("player:no_data")})},striped:!0,hover:!0})})})]})]})}))},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r="auth:password.password",c="common:loading",a="tournament:select"},341:function(e,t,n){e.exports={functionsList:"common_functionsList__3B3UB",toolsBarContainer:"common_toolsBarContainer__1nanA",toolsBarRow:"common_toolsBarRow__r8q12"}},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),c=(n(0),n(1309)),a=n(304);function i(e){var t=e.stats,n=Object(a.a)(["stats"]).t,i=n("stats:stage1"),l=n("stats:stage2"),d=n("stats:tot"),s={backgroundColor:"var(--default-black)",color:"whitesmoke"};return Object(r.jsxs)(c.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{style:{backgroundColor:"cadetblue"},children:[Object(r.jsx)("td",{children:"#"}),Object(r.jsx)("td",{children:i}),Object(r.jsx)("td",{children:l}),Object(r.jsx)("td",{children:d}),Object(r.jsxs)("td",{children:["% ",i]}),Object(r.jsxs)("td",{children:["% ",l]}),Object(r.jsxs)("td",{children:["% ",d]})]})}),Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{style:s,children:[Object(r.jsx)("td",{children:n("stats:winnings")}),Object(r.jsx)("td",{children:t.s1win}),Object(r.jsx)("td",{children:t.s2win}),Object(r.jsx)("td",{children:t.totwin}),Object(r.jsx)("td",{children:t.winS1Percentage}),Object(r.jsx)("td",{children:t.winS2Percentage}),Object(r.jsx)("td",{children:t.winPercentage})]}),Object(r.jsxs)("tr",{style:s,children:[Object(r.jsx)("td",{children:n("stats:defeats")}),Object(r.jsx)("td",{children:t.s1def}),Object(r.jsx)("td",{children:t.s2def}),Object(r.jsx)("td",{children:t.totdef}),Object(r.jsx)("td",{children:t.defS1Percentage}),Object(r.jsx)("td",{children:t.defS2Percentage}),Object(r.jsx)("td",{children:t.defPercentage})]}),Object(r.jsxs)("tr",{style:s,children:[Object(r.jsx)("td",{children:n("stats:tots")}),Object(r.jsx)("td",{children:t.totS1}),Object(r.jsx)("td",{children:t.totS2}),Object(r.jsx)("td",{children:t.totMatch}),Object(r.jsx)("td",{children:t.ratioS1}),Object(r.jsx)("td",{children:t.ratioS2}),Object(r.jsx)("td",{children:t.ratioTot})]})]})]})}}}]);
//# sourceMappingURL=15.a0d666f5.chunk.js.map